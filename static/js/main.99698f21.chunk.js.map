{"version":3,"sources":["components/BOBO_logo.jpeg","components/Students/basic.png","config/ID.js","config/fire.js","components/Menu.js","components/Topbar.js","components/Students/StudentList.js","components/UploadClassRecord/ClassRecord.js","components/Notices/BoardListItem.js","components/Notices/BoardList.js","components/Students/Demographic.js","components/Settings/Settings.js","components/Notices/NoticeListItem.js","components/Notices/Board.js","components/Notices/AddBoard.js","components/Notices/QuestionListItem.js","components/Notices/Notice.js","components/Notices/AddNotice.js","components/Students/StudentProfile.js","components/Students/InstructorsNote.js","components/Students/ClassRecord.js","components/Students/ClassRecordFiltered.js","components/Students/EditClassRecord.js","components/Students/InstructorsNoteAddModify.js","components/LogIn.js","components/Donation.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","cookies","Cookies","getLoginId","get","getLoginName","setLoginId","id","set","setLoginName","name","checkLogin","window","location","replace","database","storage","Menu","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","react_default","a","createElement","className","react_router_dom","to","lib","medium","Component","Topbar","s","props","showBack","node","floating","small","waves","icon","href","backTo","showOptional","optionalComponent","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","fire","firebase","length","getstorage","getFireDB","dir","ref","once","pushDB","obj","push","pushDB_wait","forwait","another","prom","Array","prototype","forEach","call","temparr","Studentname","split","parent","Users","find","_user","StudentID","pushMultipleDB","objs","updates","_obj","update","setDB","deleteDB","remove","getFireDB_arr","_this","target","type","want","targetref","snapshot","child","val","setState","defineProperty","updateChild","childName","download_picture","pictureurl","Storageref","strarray","getDownloadURL","then","url","mount","catch","error","StudentList","state","Students","CurrentUser","autocompleteData","Test","Test2","StudentFiltered","ClassTable","curr_instructor","match","params","instructor_id","componentDidMount","assertThisInitialized","res","DB","User","filter","_mapElem","map","reduce","_acc","objectSpread","showAutocomplete","result","onAutocomplete","_studentName","student","_student","redirect","redirectTo","onClassSelection","e","document","getElementById","selectedClass","options","selectedIndex","text","class","showSelectClass","renderStudentList","studentLists","sort","_a","_b","StudentList_StudentListItem","data","instructor","renderStudentFilteredList","renderClassList","_class","StudentList_ClassListItem","react_router","components_Topbar","placeholder","style","alignItems","onChange","width","disabled","selected","ClassListItem","StudentListItem","marginTop","marginBotton","height","src","image_url","alt","PopupExample","ClassRecord_CancelPopup","trigger","position","close","onClick","float","ClassRecord","doneonClick","INITIAL_STATE","InstructorID","Text","file","autocomplete_student","Date","Hashtag","showmodifiy","photos","files","showpictures","fromprofile","console","log","hash","indexOf","temparray","index","Number","renderChips","getElementsByClassName","handlenameChange","handlecontentChange","_userName","onAutocompleteChange","_input","inputElementname","tag","autocompleteOptions","limit","Infinity","minLength","secondaryPlaceholder","renderPictures","fromfile","fromgallery","URL","createObjectURL","border","align","asyncToGenerator","regenerator_default","mark","_callee","rawdate","rawmonth","datestring","dirname","regex","wrap","_context","prev","next","Promise","_res","_rej","__res","__rej","sent","M","toast","html","displayLength","abrupt","getMonth","String","getFullYear","getDate","getTime","exec","_resolve","_reject","completed","eval_table","outerText","fromcamera","uploadTask","put","on","progress","bytesTransferred","totalBytes","innerHTML","Math","floor","TaskState","PAUSED","RUNNING","downloadURL","__resolve","__reject","Toast","dismissAll","inputElementcontent","stop","flipbool","fileclick","inputElementfile","click","galleryclick","inputElementgallery","cameraclick","inputElementcamera","setRef","_this2","action","_input2","accept","handlefileChange","bind","multiple","capture","_input3","ClassRecord_PopupExample","CancelPopup","checked","open","check","event","_this3","closing","_this4","reactjs_popup_es","contentStyle","onClose","label","BoardListItem","NoticeBoard","Boards","BoardUserMap","validBoards","Board","validBoardIds","userId","boardId","_board","_boardName","board","renderBoardList","Notices_BoardListItem","Demographic","paddingTop","paddingBottom","backgroundImage","ImageURL","Name","Class","Age","Tel","Settings","userList","loaded","Notes","args","getUserInfo","textAlign","backgroundColor","components_Students_Demographic","NoticeListItem","_getPrototypeOf2","_len","_key","concat","onTypeClick","onItemClick","pathname","formatDate","_date","day","monthIndex","renderTypeBadge","toUpperCase","display","important","questionCnt","persistent","expireDate","Notices","validNotices","displayNotices","getBoardId","parseQuery","queryString","search","query","pairs","substr","i","pair","decodeURIComponent","page","notices","questions","Question","Notice","_question","noticeId","_elem1","_elem2","_notice","end","min","slice","onPageSelect","_i","_Object$entries","entries","_ref3","_ref2","slicedToArray","encodeURIComponent","history","reload","_type","_i2","_Object$entries2","_ref6","_ref5","renderNoticeItems","Notices_NoticeListItem","isNotice","activePage","maxButtons","items","ceil","onSelect","AddBoard","seletedUsers","Set","nextBoardId","onChkBoxChange","has","delete","add","onNameChange","addBoard","boardName","BUobjs","_userId","renderUserCheckbox","toString","title","QuestionListItem","showAnswerCard","showNewAnswer","newAnswer","onReplyBtnClick","onNewAnswerChange","answerContent","onNewAnswerBtnClick","onAnswer","answer","renderQuestionHeader","userName","createDate","flat","showAnswer","header","content","random","getNoticeId","onNewQuestionChange","newQuestionContent","onAnswerBtnClick","_questionObj","onNewQuestionBtnClick","questionObj","nextQuestionId","_ref","_x","_x2","copy","JSON","parse","stringify","renderQuestions","Notices_QuestionListItem","noticeObj","AddNotice","onImportantChange","onPersistentChange","onExpireDateChange","onTypeChange","onNoticeAdd","noticeName","noticeContent","nextNoticeId","withGap","StudentProfile","redirectToClassRecord","student_id","redirectToInstructorsNote","DeletePopup","deleteNote","NamePopup","fontWeight","lineHeight","tel","InstructorsNote","_Component3","setNotes","notes","notesRaw","Instructor","Content","renderNoteList","fontSize","myNoteExists","noteList","_note","userInfo","InstructorsNote_Note","instructor_name","instructor_tel","InstructorsNote_MyNote","Note","InstructorsNote_NamePopup","MyNote","InstructorsNote_DeletePopup","marginLeft","validRecords","renderRecordList","_record","ClassRecord_MyRecordListItem","ClassRecord_RecordListItem","records","date","Records","RecordListItem","renderHashtags","_elem","ClassRecord_Hashtag","tmparr","_url_key","_url","color","MyRecordListItem","ClassRecord_DeleteRecordPopup","DeleteRecordPopup","deleteRecord","_this5","ClassRecordFiltered","ClassRecordFiltered_MyRecordListItem","ClassRecordFiltered_RecordListItem","ClassRecordFiltered_Hashtag","ClassRecordFiltered_DeleteRecordPopup","EditClassRecord","textcontent","confirm","marginRight","InstructorsNoteAddModify","LogIn","pw","login_error","handleIdChange","handlePwChange","tryLogin","typed_id","typed_pw","user","loginSuccess","verticalAlign","photo","password","letterSpacing","Donation","App","path","component","UploadClassRecord","exact","Boolean","hostname","ReactDOM","render","components_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.99698f21.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/BOBO_logo.3a739164.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/basic.38eea7b4.png\";","import Cookies from 'universal-cookie';\r\n\r\nvar cookies = new Cookies();\r\n\r\nexport const getLoginId = () => {\r\n  return cookies.get(\"LOGIN_ID\");\r\n}\r\n\r\nexport const getLoginName = () => {\r\n  return cookies.get(\"LOGIN_NAME\");\r\n}\r\n\r\nexport const setLoginId = (id) => {\r\n  cookies.set(\"LOGIN_ID\", id);\r\n}\r\n\r\nexport const setLoginName = (name) => {\r\n  cookies.set(\"LOGIN_NAME\", name);\r\n}\r\n\r\nexport const checkLogin = () => {\r\n  // console.log('aaa');\r\n  // console.log(cookies.get(\"LOGIN_ID\"));\r\n  if(!cookies.get(\"LOGIN_ID\"))\r\n    window.location.replace(\"/BOBO/#/\");\r\n}\r\n\r\nexport function logout() {\r\n  cookies.remove(\"LOGIN_ID\");\r\n  // console.log(cookies.get(\"LOGIN_ID\"));\r\n}","import * as firebase from 'firebase'\r\nlet database;\r\nlet storage;\r\nlet config = {\r\n    apiKey: \"AIzaSyA5_bIw4uLv00p40TzdHn6MsG3zmIScw24\",\r\n    authDomain: \"cs374-bobo.firebaseapp.com\",\r\n    databaseURL: \"https://cs374-bobo.firebaseio.com\",\r\n    projectId: \"cs374-bobo\",\r\n    storageBucket: \"cs374-bobo.appspot.com\",\r\n    messagingSenderId: \"639352671004\"\r\n}\r\nexport const fire = () => {\r\n    if (!firebase.apps.length) {\r\n        firebase.initializeApp(config);\r\n    }\r\n  database = firebase.database()\r\n  \r\n  storage = firebase.storage()\r\n\r\n}\r\n\r\nexport const getstorage = () => {\r\n  return storage;\r\n}\r\n\r\nexport const getFireDB = (dir) => {\r\n  if (dir===null)\r\n    dir = '/';\r\n  return database.ref(dir).once('value')\r\n}\r\n\r\nexport const getPictureURL = (name, _this) => {\r\n  var targetref = database.ref('/User/');\r\n  var url=\"\"\r\n  targetref.once('value', function(snapshot) {\r\n    snapshot.forEach(function(child){\r\n      if(child.val().name === name)\r\n      {\r\n        _this.setState({url:child.val().picture});\r\n        _this.setState({originurl:child.val().picture});       \r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const getPictureURL_Record = (name, _this, recordtime) => {\r\n  var targetref = database.ref('/ClassRecords/'+recordtime);\r\n  var url=\"\"\r\n  \r\n\r\n  return new Promise((_resolve, _reject) => {\r\n    targetref.once('value', function(snapshot) {\r\n      snapshot.forEach(function(child){\r\n        console.log(child.val().name, name);\r\n        if(child.val().name === name)\r\n        {\r\n          // return child.val().picture;\r\n          _resolve(child.val().picture)\r\n        }\r\n      })\r\n    })\r\n  });\r\n  \r\n\r\n  \r\n  \r\n  \r\n\r\n}\r\n\r\n\r\nexport const pushDB = (dir, obj) => {\r\n  return database.ref(dir).push(obj);\r\n}\r\n\r\n\r\nexport const pushDB_wait = (dir, obj,forwait,another) => {\r\n  var prom;\r\n  Array.prototype.forEach.call(obj.temparr, function(name) { \r\n    \r\n    obj.Studentname=name.split(\"\\n\")[0];\r\n    var parent = obj.Users.find(_user => _user.name === name.split(\"\\n\")[0]);\r\n    obj.StudentID=parent.id;\r\n    prom = database.ref(dir).push(obj);\r\n    \r\n  });\r\n  \r\n  return prom;\r\n  // return database.ref(dir).push(obj);\r\n}\r\n\r\nexport const pushMultipleDB = (dir, objs) => {\r\n  var updates = {};\r\n  let ref = database.ref(dir);\r\n  objs.forEach(_obj => {\r\n    updates[ref.push().key] = _obj;\r\n  });\r\n  return ref.update(updates);\r\n}\r\n\r\nexport const setDB = (dir, obj) => {\r\n  return database.ref(dir).set(obj);\r\n}\r\n\r\nexport const deleteDB = (dir) => {\r\n  database.ref(dir).remove();\r\n}\r\n\r\nexport const getFireDB_arr = (dir, _this, target, type, want) => {\r\n  if (dir===null)\r\n    dir = '/';\r\n  var targetref = database.ref(dir);\r\n  var temparr = [];\r\n  targetref.once('value', function(snapshot) {\r\n    snapshot.forEach(function(child){\r\n      if(type)\r\n      {   \r\n        if(child.val()[type] === want)\r\n        {\r\n          temparr.push(child.val());\r\n          _this.setState({[target]:temparr});\r\n        }\r\n      }\r\n      else \r\n      {\r\n        temparr.push(child.val());\r\n        _this.setState({[target]:temparr});\r\n      }     \r\n    })\r\n  })\r\n  \r\n  return temparr\r\n}\r\n\r\nexport const updateChild = (dir, childName, value) => {\r\n  database.ref(dir).update({[childName]: value});\r\n}\r\n\r\n\r\n\r\nexport const upload_file = (dir, file, filename) => {\r\n  let target = storage.ref(dir + filename);\r\n  //target.put(file);\r\n  var uploadTask = target.put(file);\r\n\r\n  // Register three observers:\r\n  // 1. 'state_changed' observer, called any time the state changes\r\n  // 2. Error observer, called on failure\r\n  // 3. Completion observer, called on successful completion\r\n  uploadTask.on('state_changed', function(snapshot){\r\n    // Observe state change events such as progress, pause, and resume\r\n    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n    var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n    console.log('Upload is ' + progress + '% done');\r\n    switch (snapshot.state) {\r\n      case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n        console.log('Upload is paused');\r\n        break;\r\n      case firebase.storage.TaskState.RUNNING: // or 'running'\r\n        console.log('Upload is running');\r\n        break;\r\n    }\r\n  }, function(error) {\r\n    // Handle unsuccessful uploads\r\n  }, function() {\r\n    // Handle successful uploads on complete\r\n    // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n    uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n      console.log('File available at', downloadURL);\r\n\r\n    });\r\n\r\n  });\r\n}\r\n\r\n\r\nexport const download_picture = (pictureurl, _this) => {\r\n  var Storageref = storage.ref();\r\n  \r\n  var strarray = pictureurl.split('/')\r\n  const images = Storageref.child(strarray[0])\r\n  const image = images.child(strarray[1]) \r\n\r\n  storage.ref('User').child(strarray[1]).getDownloadURL().then(function(url) {\r\n      \r\n      \r\n      _this.setState({url});\r\n    \r\n      _this.setState({mount:false});\r\n\r\n  }).catch(function(error) {\r\n    // Handle any errors\r\n    _this.setState({mount:false});\r\n    \r\n    return;\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\nexport const upload_file2 = (dir, file, filename, _this) => {\r\n  let target = storage.ref(dir + filename);\r\n  target.put(file).then(function(snapshot){\r\n    _this.setState({\r\n      photos : _this.state.photos.concat(storage.ref(dir + filename).getDownloadURL())\r\n    });\r\n  });\r\n  // var uploadTask = target.put(file);\r\n  // new Promise(function (resolve, reject) {\r\n  //   target.put(file, function () {\r\n  //     resolve(target);\r\n  //   })\r\n\r\n  // }).then(function(target){\r\n  //   _this.setState({\r\n  //     photos : _this.state.photos.concat(storage.ref(dir + filename).getDownloadURL())\r\n  //   });\r\n  // });\r\n\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { Icon } from 'react-materialize';\r\nimport {getLoginId} from '../config/ID'\r\n\r\n\r\nimport \"../css/Menu.css\";\r\n\r\nexport class Menu extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"menu\">\r\n        <div className=\"menu-item\"><Link to={\"/studentList/\"}>\r\n          <Icon className=\"menu-icon\" medium={true}>assignment_ind</Icon>\r\n          </Link></div>\r\n        <div className=\"menu-item\"><Link to={\"/classRecord/\"}>\r\n          <Icon className=\"menu-icon\" medium={true}>add_box</Icon>\r\n          </Link></div>\r\n        <div className=\"menu-item\"><Link to=\"/board\">\r\n          <Icon className=\"menu-icon\" medium={true}>assignment</Icon>\r\n          </Link></div>\r\n        <div className=\"menu-item\"><Link to=\"/settings\">\r\n          <Icon className=\"menu-icon\" medium={true}>settings</Icon>\r\n          </Link></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Menu\r\n","import React, { Component } from 'react';\r\nimport {Row, Col, Button} from 'react-materialize';\r\nimport \"../css/Topbar.css\";\r\n\r\nexport class Topbar extends Component {\r\n  render() {\r\n    return (\r\n      <Row id=\"topbar-row\">\r\n        <Col s={12}>\r\n          <div id=\"topbar-container\">\r\n            <span id=\"topbar\">{this.props.name}</span>\r\n            {this.props.showBack ? <Button id=\"topbar-back-btn\" node=\"a\" floating small waves=\"light\" icon=\"arrow_back\" href={this.props.backTo}/>: <span></span>}\r\n            {this.props.showOptional? this.props.optionalComponent : <span></span>}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Topbar\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport {Link} from 'react-router-dom'\r\nimport Popup from 'reactjs-popup'\r\nimport { Row, Col, Collection, CollectionItem, Autocomplete, Button, Dropdown, Select, Divider } from 'react-materialize';\r\n\r\nimport Topbar from \"../Topbar\";\r\n//import StudentListItem from './StudentListItem';\r\n//import ClassListItem from './ClassListItem';\r\nimport { fire, getFireDB_arr, getFireDB, download_picture, getPictureURL } from '../../config/fire'\r\nimport { getLoginName, getLoginId, checkLogin } from '../../config/ID'\r\nimport \"../../css/Students/StudentList.css\"\r\nimport photo from './basic.png'\r\n\r\nexport class StudentList extends Component {\r\n\r\n  state = {\r\n    Students: [],\r\n    CurrentUser: {\r\n      id: 1,\r\n      name: \"Juho Kim\"\r\n    },\r\n    Users: [],\r\n    autocompleteData: { Test: null, Test2: null },\r\n    StudentFiltered: [],\r\n    ClassTable: [],\r\n    curr_instructor: this.props.match.params.instructor_id\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    getFireDB_arr('User/', this, 'Students', 'type', 'parent');\r\n    \r\n    getFireDB()\r\n    .then(res =>{\r\n      let DB = res.val();\r\n      var Users = [];\r\n      for( var key in DB.User ) Users.push(DB.User[key]);\r\n      var Parents = Users.filter(_mapElem => {\r\n        return _mapElem.type == 'parent';\r\n      }).map(_mapElem => {\r\n        return _mapElem.name;\r\n      });\r\n      var autocompleteData = Parents.reduce( (_acc, _user) => {\r\n        return {..._acc, [_user]:null};\r\n      }, {});\r\n      this.setState({...this.state, Users, autocompleteData, showAutocomplete:true});\r\n    });\r\n\r\n    getFireDB('Class/').then (\r\n      result => {\r\n        this.setState({ ...this.state, ClassTable: result.val() });\r\n      }\r\n    )\r\n  }\r\n\r\n  onAutocomplete = (_studentName) => {\r\n\r\n    var student = this.state.Users.find(_student => _student.name === _studentName)\r\n    this.setState({ ...this.state, redirect: true, redirectTo: \"/studentProfile/main/\"+this.state.curr_instructor+\"/\" +student.id  });\r\n  }\r\n\r\n  onClassSelection = e => {\r\n    var s = document.getElementById(\"selection\")\r\n    var selectedClass = s.options[s.selectedIndex].text\r\n    var StudentFiltered = this.state.Students.filter(_student => {\r\n      return _student.class === selectedClass\r\n    })\r\n    this.setState({ ...this.state, selectedClass, StudentFiltered, showSelectClass: true });\r\n  }\r\n\r\n\r\n  renderStudentList = () => {\r\n    var studentLists = this.state.showSelectClass ? this.state.StudentFiltered : this.state.Students;\r\n    studentLists.sort(function(_a, _b) {\r\n      return _a.name > _b.name ? 1 : -1;\r\n    });\r\n    return studentLists.map(_student => {\r\n      return <StudentListItem data={_student} instructor={this.state.curr_instructor} />\r\n    });\r\n  }\r\n\r\n  renderStudentFilteredList = () => {\r\n    return this.state.StudentFiltered.map(_student => {\r\n      return <StudentListItem data={_student} instructor={this.state.curr_instructor} />\r\n    });\r\n  }\r\n\r\n  renderClassList = () => {\r\n    return this.state.ClassTable.map(_class => {\r\n      return <ClassListItem data={_class}/>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    checkLogin()\r\n    if (this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo} />\r\n\r\n    return (\r\n      <div className='content student-list-content'>\r\n        <div><Topbar id='class-record-topbar' name=\"Student List\" /> </div>\r\n        { /* search */}\r\n        <Row id=\"student-list-search-row\">\r\n          <Col s={12}>\r\n            {this.state.showAutocomplete ?\r\n              <Autocomplete\r\n                options={{ data: this.state.autocompleteData, onAutocomplete: this.onAutocomplete }}\r\n                placeholder=\"Search by student name\"\r\n                icon=\"search\"\r\n                s={12} /> :\r\n              <span></span>\r\n            }\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* select class */}\r\n        <Row id=\"select-class-row\" style={{ alignItems: 'center' }}>\r\n          <Col s={12}>\r\n            <Select\r\n              id='selection'\r\n              onChange={this.onClassSelection}\r\n              style={{ width: '100%' }}>\r\n              <option value=\"\" disabled selected>Select a class</option>\r\n              {this.renderClassList()}\r\n            </Select>\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* show student list */}\r\n        <Row id=\"show-student-list-row\">\r\n          <Col className=\"showStudentList\" s={12}>\r\n            <Collection>\r\n              {this.renderStudentList()}\r\n            </Collection>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass ClassListItem extends Component {\r\n  render() {\r\n    return (\r\n      <option value={this.props.data}>\r\n        {this.props.data}\r\n      </option>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass StudentListItem extends Component {\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <CollectionItem className=\"student\" href={\"/BOBO/#/studentProfile/main/\" +this.props.data.id}>\r\n        <Row className=\"studentChild\" style={{ marginTop: '0px', marginBotton: '0px', height: '70px' }}>\r\n          {/* profile image */}\r\n          <Col s={3} style={{ alignItems: 'center' }}>\r\n            {/* <img className=\"profileImage\" id=\"profile\" src={purl} alt=\"photo\" width='70px' height='70px'></img> */}\r\n            <img className=\"profileImage\" src={this.props.data.image_url} alt=\"photo\" width='70px' height='70px'></img>\r\n          </Col>\r\n          {/* name and class */}\r\n          <Col className=\"studentItem\" s={9} >\r\n            <div className=\"studentItemChild\">\r\n              <div className='studentName'>{this.props.data.name}</div>\r\n              <br></br>\r\n              {this.props.data.class}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default StudentList","import React, { Component } from 'react'\r\nimport {Row, Col, Autocomplete, Chip,Button,TextInput,Icon, Textarea,Checkbox} from 'react-materialize';\r\nimport Topbar from \"../Topbar\";\r\nimport '../../css/ClassRecord.css';\r\nimport '../../css/Common.css';\r\nimport Popup from \"reactjs-popup\";\r\nimport {Link} from 'react-router-dom';\r\nimport { fire, getstorage, getFireDB,getFireDB_arr, pushDB,pushDB_wait, upload_file, upload_file2} from '../../config/fire';\r\nimport {Redirect} from 'react-router';\r\nimport * as firebase from 'firebase'\r\nimport { resolve } from 'url';\r\n\r\nimport {getLoginName, checkLogin} from '../../config/ID'\r\n\r\n\r\n\r\nconst PopupExample =  () => (\r\n  <CancelPopup trigger={<Button className=\"pinkcancelbutton buttonleft\" >Cancel</Button>} position=\"top left\">\r\n    {close => (\r\n      <div>\r\n        <p>Are you sure to cancel?<br></br><br></br></p>\r\n\r\n          <Button className=\"close pinkcancelbutton\" onClick={close}>No</Button>\r\n          <Link to=\"/studentList/tommy11\">\r\n            <Button className=\"close pinkcancelbutton\" style={{float:\"right\"}} onClick={ClassRecord.doneonClick}>\r\n              Yes\r\n            </Button>\r\n          </Link>\r\n      </div>\r\n    )}\r\n  </CancelPopup>\r\n)\r\n\r\n\r\n\r\nconst INITIAL_STATE = {\r\n  InstructorID:getLoginName(),\r\n  // InstructorID:'teacher101',\r\n  StudentID: '',\r\n  Studentname: '',\r\n  Text:'',\r\n  file:null,\r\n  student:[],\r\n  autocomplete_student:[],\r\n  autocompleteData: {Test:null, Test2:null},\r\n  Users:[],\r\n  Date:'',\r\n  redirectTo: \"\",\r\n  disabled: false,\r\n  Hashtag:[],\r\n  showmodifiy:false,\r\n  photos:[],\r\n  files:[],\r\n  temparr:[],\r\n  showpictures:false,\r\n  fromprofile:false,\r\n\r\n};\r\n\r\nexport class ClassRecord extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    fire();\r\n    this.state={...INITIAL_STATE}\r\n    this.setRef = ref => {\r\n      this.file = ref;\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    document.getElementById(\"inputcamera\").value = \"\";\r\n    document.getElementById(\"inputgallery\").value = \"\";\r\n    console.log(\"didmount\")\r\n\r\n    getFireDB_arr('User/',this,'autocomplete_student','type','parent');\r\n    getFireDB()\r\n    .then(res =>{\r\n      let DB = res.val();\r\n      var Users = [];\r\n      for( var key in DB.User ) Users.push(DB.User[key]);\r\n      var Parents = Users.filter(_mapElem => {\r\n        return _mapElem.type == 'parent';\r\n      }).map(_mapElem => {\r\n        return _mapElem.name;\r\n      });\r\n      var autocompleteData = Parents.reduce( (_acc, _user) => {\r\n        return {..._acc, [_user]:null};\r\n      }, {});\r\n      // this.setState({...this.state, Users, autocompleteData, showAutocomplete:true});\r\n          \r\n      if(window.location.hash.indexOf(\"?\")!=-1)\r\n      {\r\n        var temparray=window.location.hash.split(\"?\");\r\n        for (var index in Users) \r\n        {\r\n          \r\n          if(Users[index].id===Number(temparray[1]))\r\n          {\r\n\r\n            this.setState({...this.state,InstructorID:getLoginName(), Text:\"\",Hashtag:[],photos:[], temparr:[],Users, autocompleteData, showAutocomplete:true, Studentname:Users[index].name,StudentID:Number(temparray[1]),fromprofile:true}, function() {\r\n\r\n              this.renderChips();\r\n\r\n            });\r\n            var select_parent = document.getElementsByClassName(\"studentnameclass\")[0];\r\n            select_parent.value = Users[index].name;\r\n          }\r\n        }\r\n      }\r\n      else\r\n      {\r\n        this.setState({...this.state, InstructorID:getLoginName(),Text:\"\", Hashtag:[],photos:[],temparr:[],Users, autocompleteData, showAutocomplete:true});\r\n      }\r\n    });\r\n            \r\n  }\r\n  \r\n\r\n  \r\n  handlenameChange = e =>\r\n  {\r\n    \r\n    this.setState({...this.state, Studentname : e.target.value});\r\n  }\r\n  handlecontentChange = e =>\r\n  {\r\n    var Studentname = this.state.Studentname;\r\n    this.setState({...this.state, Text : e.target.value},\r\n      () => {\r\n        // var select_parent = document.getElementById(\"studentname\");\r\n        var select_parent = document.getElementsByClassName(\"studentnameclass\")[0];\r\n      });\r\n\r\n\r\n\r\n  }\r\n  handlefileChange(e) {\r\n\r\n  this.setState({...this.state, file:e.target.files, showpictures:true});\r\n  }\r\n  onAutocomplete = (_userName) => {\r\n    var parent = this.state.Users.find(_user => _user.name === _userName);\r\n    \r\n    this.setState({...this.state, StudentID:parent.id,Studentname:_userName}, () => {\r\n      var select_parent = document.getElementsByClassName(\"studentnameclass\")[0];\r\n      select_parent.value = _userName;\r\n    });\r\n  }\r\n\r\n  onAutocompleteChange =  (e) => {\r\n    this.setState({...this.state, Studentname : e.target.value});\r\n\r\n  }\r\n\r\n  renderChips = () => {\r\n    if(this.state.fromprofile==true)\r\n    {\r\n      return <Chip \r\n      className=\"studentnameclass\"\r\n      placeholder=\"Enter name\"\r\n  \r\n      ref={_input => this.inputElementname = _input}\r\n      options={{\r\n       data: [{tag: this.state.Studentname}],\r\n      \r\n      autocompleteOptions: \r\n      {\r\n        data: this.state.autocompleteData, onAutocomplete:this.onAutocomplete,\r\n        limit: Infinity,\r\n        minLength: 1,\r\n  \r\n      },\r\n      placeholder:\"Enter name\",\r\n      secondaryPlaceholder:\"+ name\",\r\n    }}\r\n      value={this.state.Studentname}\r\n      onChange={this.onAutocompleteChange}\r\n      icon=\"search\" s={12}/>\r\n    }\r\n    else\r\n    {\r\n      var _d = this;\r\n      return                 <Chip \r\n      className=\"studentnameclass\"\r\n      placeholder=\"Enter name\"\r\n      ref={_input => this.inputElementname = _input}\r\n      options={{     \r\n\r\n      autocompleteOptions: \r\n      {\r\n        data: this.state.autocompleteData, onAutocomplete:this.onAutocomplete,\r\n        limit: Infinity,\r\n        minLength: 1,\r\n  \r\n      },\r\n      placeholder:\"Enter name\",\r\n      secondaryPlaceholder:\"+ name\",\r\n    }}\r\n      value={this.state.Studentname}\r\n      onChange={this.onAutocompleteChange}\r\n      icon=\"search\" s={12}/>\r\n    }\r\n\r\n  }\r\n\r\n  \r\n  renderPictures = () => {\r\n    var fromfile = document.getElementById(\"inputcamera\");\r\n    var fromgallery = document.getElementById(\"inputgallery\");\r\n    var temparr = []\r\n    if(fromfile.files!=null)\r\n    {\r\n      console.log(\"cmam\")\r\n      Array.prototype.forEach.call(fromfile.files, function(file) { \r\n        temparr.push(file);\r\n        console.log(file)\r\n      });\r\n\r\n    }\r\n    \r\n    if(fromgallery.files!=null)\r\n    {\r\n      console.log(\"galll\");\r\n      Array.prototype.forEach.call(fromgallery.files, function(file) { \r\n        temparr.push(file);\r\n        console.log(file);\r\n      });\r\n\r\n    }\r\n\r\n\r\n    return temparr.map(file => {\r\n      return <img className=\"UploadRecordImage\" src={URL.createObjectURL(file)} alt=\"photo\" border=\"3px\"  align='center'></img>\r\n    })\r\n\r\n  }\r\n  doneonClick = async () =>\r\n  {\r\n    var obj = {...this.state};\r\n    var _this_ = this;\r\n    var another = await new Promise((_res, _rej) => {\r\n      new Promise(function(__res, __rej){\r\n        var eval_table = document.getElementsByClassName(\"chip\");\r\n        __res(another);\r\n      }).then(function(result){\r\n          _res(result);\r\n      })\r\n    })\r\n    if(document.getElementsByClassName(\"chip\").length==0) {\r\n      window.M.toast({\r\n        html: \"Please write students' name\",\r\n        displayLength: 3000\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if(obj.Text==\"\"&&obj.file==null)\r\n    {\r\n      window.M.toast({\r\n        html: \"Please write content\",\r\n        displayLength: 3000\r\n      });\r\n      return;\r\n    }\r\n\r\n\r\n    \r\n    var rawdate = new Date();\r\n    var rawmonth = rawdate.getMonth() + 1;\r\n    var datestring = String(rawdate.getFullYear()) +\"/\"+ String(rawmonth)+\"/\" + String(rawdate.getDate()) ;\r\n    var dirname = rawdate.getTime();\r\n    obj.Date = datestring\r\n    \r\n    delete obj.autocomplete_student;\r\n    delete obj.redirectTo;\r\n    // delete obj.Users;\r\n    delete obj.showAutocomplete;\r\n    delete obj.disabled;\r\n\r\n    var regex = /(?:^|\\s)(?:#)([a-zA-Z--\\d]+)/gm;\r\n    var match;\r\n    \r\n    obj.Hashtag = [];\r\n\r\n    while ((match = regex.exec(obj.Text))) {\r\n        obj.Hashtag.push(match[1]);\r\n    }\r\n\r\n\r\n\r\n    var forwait = await new Promise((_resolve, _reject) => {\r\n      var completed=0;\r\n      var eval_table = document.getElementsByClassName(\"chip\");\r\n      Array.prototype.forEach.call(eval_table, function(name) { \r\n        \r\n        obj.temparr.push(name.outerText);\r\n      });\r\n      \r\n      if(obj.file)\r\n      {\r\n        var fromcamera = document.getElementById(\"inputcamera\");\r\n        var fromgallery = document.getElementById(\"inputgallery\");\r\n        \r\n        \r\n        window.M.toast({\r\n          html: `<div> <span id=\"filenameupload\"></span> Uploading... <span id=\"progress\">0</span>% done</div>`,\r\n          displayLength: 100000\r\n        });\r\n        \r\n        Array.prototype.forEach.call(fromcamera.files, function(file) { \r\n          \r\n          // let target = getstorage().ref('ClassRecords/'+dirname+'/');\r\n          let target = getstorage().ref('ClassRecords/'+dirname+'/'+file.name);\r\n          console.log(dirname);\r\n          var uploadTask = target.put(file);\r\n          uploadTask.on('state_changed', function(snapshot){\r\n            // Observe state change events such as progress, pause, and resume\r\n            // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            document.getElementById(\"filenameupload\").innerHTML = file.name;\r\n            document.getElementById(\"progress\").innerHTML = Math.floor(progress);\r\n            // console.log('Upload is ' + progress + '% done');\r\n            switch (snapshot.state) {\r\n              case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n                // console.log('Upload is paused');\r\n                break;\r\n              case firebase.storage.TaskState.RUNNING: // or 'running'\r\n                // console.log('Upload is running');\r\n                break;\r\n            }\r\n          }, function(error) {\r\n            // Handle unsuccessful uploads\r\n          }, function() {\r\n            // Handle successful uploads on complete\r\n            // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n            uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n              obj.photos.push(downloadURL);\r\n              new Promise(function(__resolve, __reject){\r\n                completed++;\r\n                __resolve(completed);\r\n              }).then(function(result){\r\n                if(result==fromcamera.files.length+fromgallery.files.length)\r\n                {\r\n                  console.log(\"resolve in cam\",result,completed);\r\n                  _resolve(forwait);\r\n                }\r\n              })\r\n            });\r\n        \r\n          });\r\n        });\r\n        Array.prototype.forEach.call(fromgallery.files, function(file) { \r\n\r\n          // let target = getstorage().ref('ClassRecords/'+dirname+'/');\r\n          let target = getstorage().ref('ClassRecords/'+dirname+'/'+file.name);\r\n          var uploadTask = target.put(file);\r\n          uploadTask.on('state_changed', function(snapshot){\r\n            // Observe state change events such as progress, pause, and resume\r\n            // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            document.getElementById(\"filenameupload\").innerHTML = file.name;\r\n            document.getElementById(\"progress\").innerHTML = Math.floor(progress);\r\n            // console.log('Upload is ' + progress + '% done');\r\n            switch (snapshot.state) {\r\n              case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n                // console.log('Upload is paused');\r\n                break;\r\n              case firebase.storage.TaskState.RUNNING: // or 'running'\r\n                // console.log('Upload is running');\r\n                break;\r\n            }\r\n          }, function(error) {\r\n            // Handle unsuccessful uploads\r\n          }, function() {\r\n            // Handle successful uploads on complete\r\n            // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n            uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n              obj.photos.push(downloadURL);\r\n              new Promise(function(__resolve, __reject){\r\n                completed++;\r\n                __resolve(completed);\r\n\r\n              }).then(function(result){\r\n                if(result==fromcamera.files.length+fromgallery.files.length)\r\n                {\r\n                  console.log(\"resolve in gall\",result,completed);\r\n                  _resolve(forwait);\r\n                }\r\n              })\r\n            });\r\n        \r\n          });\r\n        });\r\n      }\r\n      else\r\n      {\r\n        _resolve(forwait);\r\n      }\r\n\r\n      });\r\n    delete obj.showmodifiy;\r\n    delete obj.fromprofile;\r\n    delete obj.showpictures;\r\n    pushDB_wait(\"Record\", obj, forwait, another)\r\n    .then(_res => {\r\n      window.M.Toast.dismissAll();\r\n      this.inputElementcontent.value= \"\";\r\n      this.inputElementname.value=\"\";\r\n      this.setState({...this.state,redirect: true, redirectTo: \"/studentList/tommy11\" });\r\n    });\r\n\r\n\r\n\r\n  }\r\n  \r\n  flipbool = () => {\r\n    if(this.state.showAutocomplete)\r\n      this.setState({...this.state, showAutocomplete:false});\r\n    else\r\n      this.setState({...this.state, showAutocomplete:true});\r\n  }\r\n\r\n  fileclick = () => {\r\n\r\n    this.inputElementfile.click();      \r\n    \r\n  }\r\n  galleryclick = () => {\r\n    this.inputElementgallery.click();\r\n  }\r\n  cameraclick = () => {\r\n    this.inputElementcamera.click();\r\n  }\r\n\r\n  \r\n  render() {\r\n    checkLogin();\r\n    if(this.state.redirect)\r\n    return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n        <div className=\"content\">\r\n          <Topbar name=\"Upload Class Record\" showBack={false} backTo=\"/BOBO\"/>    \r\n\r\n          <Row id=\"parent-search-row\">\r\n          <Col s={12}>\r\n            {this.state.showAutocomplete ? this.renderChips()\r\n              //   <Chip \r\n              //   className=\"studentnameclass\"\r\n              //   placeholder=\"Enter name\"\r\n\r\n              //   ref={_input => this.inputElementname = _input}\r\n              //   options={{\r\n              //    data: this.state.fromprofile ? [{tag: this.state.Studentname}] : [{tag: '1'}] ,\r\n                \r\n              //   autocompleteOptions: \r\n              //   {\r\n              //     data: this.state.autocompleteData, onAutocomplete:this.onAutocomplete,\r\n              //     limit: Infinity,\r\n              //     minLength: 1,\r\n\r\n              //   },\r\n              //   placeholder:\"Enter name\",\r\n              //   secondaryPlaceholder:\"+ name\",\r\n              // }}\r\n              //   value={this.state.Studentname}\r\n              //   onChange={this.onAutocompleteChange}\r\n              //   icon=\"search\" s={12}/>\r\n                :<span></span>     \r\n            }\r\n\r\n          </Col>\r\n        </Row>\r\n        <div className=\"buttons\">\r\n          <form action=\"#\" >\r\n              {/* <div className=\"btn pinkbutton buttonleft\" onClick={this.fileclick}>\r\n                <input ref={_input => this.inputElementfile = _input}  id=\"inputfile\" type=\"file\" onChange={this.handlefileChange.bind(this)} multiple name=\"File\"/>\r\n                <label className=\"bigfont\">File</label>\r\n              </div>*/}           <div className=\"btn pinkbutton\" onClick={this.galleryclick}> \r\n                <input ref={_input2 => this.inputElementgallery = _input2} type=\"file\" accept=\"image/*\"  onChange={this.handlefileChange.bind(this)} multiple id=\"inputcamera\" capture=\"camera\"/>\r\n                <label className=\"bigfont\">Camera</label>\r\n              </div>           <div className=\"btn pinkbutton\" onClick={this.cameraclick}>\r\n                <input ref={_input3 => this.inputElementcamera = _input3} type=\"file\" accept=\"image/*\" onChange={this.handlefileChange.bind(this)} multiple id=\"inputgallery\"/>\r\n                <label className=\"bigfont\">Gallery</label>\r\n              </div>\r\n\r\n              \r\n            </form>\r\n          </div>\r\n\r\n        <div align='center'>\r\n            { this.state.showpictures?\r\n\r\n              this.renderPictures():<span></span>\r\n              }\r\n        </div>\r\n          \r\n          <div className=\"bottommargin\">\r\n            <Textarea placeholder=\"Write class records..\r\n              #classs #amy\"\r\n              onChange={this.handlecontentChange}  ref={_input => this.inputElementcontent = _input} value={this.state.Text}/>\r\n              <div className=\"row\">\r\n                <PopupExample/>\r\n                <Button waves=\"light\" onClick={this.doneonClick.bind(this)}\r\n                  className=\"buttonright pinkcancelbutton\">\r\n                  Done\r\n                </Button>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\nexport default ClassRecord;\r\n\r\nclass CancelPopup extends Component {\r\n  state={\r\n    checked:false,\r\n    open:false\r\n  }\r\n\r\n  check =(event)=> {\r\n    this.setState({checked: !this.state.checked});\r\n  }\r\n\r\n\r\n  closing = () => {\r\n    this.setState({checked: false})\r\n  }\r\n\r\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{width: '40%'}} trigger={<Button className=\"pinkcancelbutton buttonleft\" >Cancel</Button>}\r\n                position=\"top left\" onClose={this.closing}>\r\n        { close => (\r\n          <div className=\"NoteDeleteContainer\">\r\n              <br/>\r\n                <Checkbox className = \"NoteDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\"/>\r\n              <span className=\"NoteDeleteWarningText\"> Are you sure to cancel?</span>\r\n              <br/>\r\n              <br/>\r\n                <button className=\"close pinkcancelbutton\" onClick={close}>\r\n                    No\r\n                </button>\r\n              {this.state.checked? (\r\n                          <Link to=\"/studentList/tommy11\">\r\n                <button className=\"close pinkcancelbutton\" style={{float:\"right\"}} onClick={ClassRecord.doneonClick}>\r\n                    Yes\r\n                </button></Link>\r\n              ) : null}\r\n          </div>)\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {CollectionItem} from 'react-materialize';\r\n\r\nexport class BoardListItem extends Component {\r\n  render() {\r\n    return (\r\n      <CollectionItem href={\"/BOBO/#/board/\" + this.props.data.id} className=\"CommonText\">\r\n        {this.props.data.name}\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BoardListItem\r\n","import React, { Component } from 'react';\r\nimport BoardListItem from \"./BoardListItem\";\r\nimport Topbar from \"../Topbar\";\r\nimport {Row, Col, Collection, Autocomplete, Button} from 'react-materialize';\r\nimport {Redirect} from 'react-router';\r\nimport { fire, getFireDB} from '../../config/fire';\r\nimport { getLoginId, getLoginName,checkLogin } from \"../../config/ID\";\r\n\r\nimport \"../../css/Notices/BoardList.css\";\r\nimport \"../../css/Common.css\";\r\n\r\nexport class NoticeBoard extends Component {\r\n  state = {\r\n    Boards: [],\r\n    BoardUserMap: [],\r\n    validBoards: [],\r\n    autocompleteData: {Test:null, Test2:null},\r\n    redirect: false,\r\n    redirectTo: -1,\r\n    CurrentUser: {\r\n      id: getLoginId() * 1,\r\n      name: getLoginName()\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    getFireDB()\r\n    .then(res =>{\r\n      console.log(res.val());\r\n      let DB = res.val();\r\n      var Boards = [];\r\n      for( var key in DB.Board ) Boards.push(DB.Board[key]);\r\n      \r\n      var BoardUserMap = [];\r\n      for( var key in DB.BoardUserMap) BoardUserMap.push(DB.BoardUserMap[key]);\r\n\r\n      var validBoardIds = BoardUserMap.filter(_mapElem => {\r\n        return _mapElem.userId === this.state.CurrentUser.id;\r\n      }).map(_mapElem => {\r\n        return _mapElem.boardId;\r\n      });\r\n  \r\n      var validBoards = Boards.filter(_board => validBoardIds.indexOf(_board.id)>-1);\r\n      var autocompleteData = validBoards.reduce( (_acc, _board) => {\r\n        return {..._acc, [_board.name]:null};\r\n      }, {});\r\n      this.setState({...this.state, validBoards, autocompleteData, showAutocomplete:true});\r\n    });\r\n  }\r\n\r\n  onAutocomplete = (_boardName) => {\r\n    var board = this.state.validBoards.find(_board => _board.name === _boardName);\r\n    this.setState({...this.state, redirect: true, redirectTo: \"board/\" + board.id});\r\n  }\r\n\r\n  renderBoardList = () => {\r\n    return this.state.validBoards.map(_board => {\r\n      return <BoardListItem data={_board}/>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    checkLogin();\r\n\r\n    if(this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n      <div className=\"content\" id=\"board-list-content\">\r\n        <Topbar\r\n          id=\"topbar-row\"\r\n          name=\"Notice Boards\"\r\n          showOptional={true}\r\n          optionalComponent={<Button\r\n                              id=\"board-list-add-btn\"\r\n                              node=\"a\"\r\n                              floating small\r\n                              waves=\"light\"\r\n                              icon=\"add\"\r\n                              href={\"/BOBO/#/addBoard\"}/>}/>\r\n        <Row id=\"board-list-search-row\">\r\n          <Col s={12}>\r\n            {/* <TextInput id=\"notice-list-search\" s={12} icon=\"search\" placeholder=\"Search notice board name.\"/> */}\r\n            {this.state.showAutocomplete ?\r\n              <Autocomplete\r\n                options={{data: this.state.autocompleteData, onAutocomplete:this.onAutocomplete}}\r\n                placeholder=\"Search notice board name\"\r\n                icon=\"search\" s={12}/> :\r\n              <span></span>\r\n            }\r\n          </Col>\r\n        </Row>\r\n        <Row id=\"board-list-row\">\r\n          <Col s={12}>\r\n            <Collection>{this.renderBoardList()}</Collection>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NoticeBoard\r\n","import React, { Component } from 'react'\r\nimport {Row, Col} from 'react-materialize';\r\nimport '../../css/Students/Demographic.css'\r\n\r\nexport class Demographic extends Component {\r\n\r\n  render() {\r\n      return (\r\n          <div className=\"DemographicContainer\">\r\n              <Row className=\"DemographicRow\" style={{paddingTop: '15px', paddingBottom: '15px'}}>\r\n                  <Col className=\"DemographicCol\" s={5}>\r\n                      <div className=\"ProfileImage\" alt=\"logo\" style={{backgroundImage: 'url('+this.props.ImageURL+')'}}></div>\r\n                  </Col>\r\n                  <Col className=\"DemographicCol\" s={7}>\r\n                      <div className=\"ProfileTextWrapper\">\r\n                          <div className=\"ProfileText\">\r\n                              <span> Name: {this.props.Name}</span>\r\n                              <br/>\r\n                              <span>Class: {this.props.Class}</span>\r\n                              <br/>\r\n                              <span>Age: {this.props.Age}</span>\r\n                              <br/>\r\n                              <span>Tel: <u><a href={\"tel:\"+this.props.Tel}>{this.props.Tel}</a></u></span>\r\n                          </div>\r\n                      </div>\r\n                  </Col>\r\n              </Row>\r\n          </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default Demographic;","import React, { Component } from 'react'\r\nimport '../../css/Settings/Setting.css'\r\nimport Topbar from '../Topbar';\r\nimport Demographic from '../Students/Demographic'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../../config/fire';\r\nimport { getLoginId } from '../../config/ID';\r\nimport {Link} from 'react-router-dom'\r\nimport {Checkbox, Icon, Button} from 'react-materialize'\r\n\r\nexport class Settings extends Component {\r\n  userList = null;\r\n\r\n  state={\r\n    loaded: false,\r\n    Notes: [],\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true\r\n  }\r\n\r\n  getUserInfo(id) {\r\n    for(var key in this.userList) {\r\n      var args = this.userList[key];\r\n      if(args['id']==id) {\r\n        return args;\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    getFireDB('/User').then(\r\n      result => {\r\n        this.userList = result.val();\r\n        var args = this.getUserInfo(getLoginId());\r\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n        download_picture(args['picture'], this);\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"content InstructorsNoteContent\" style={{textAlign: \"center\"}}>\r\n        <div>\r\n          <Topbar name=\"My Page\" showBack={false}></Topbar>\r\n        </div>\r\n        <div className=\"NoteContainer\">\r\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n          <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n          <div className=\"ButtonContainer\">\r\n            <Link to={\"/donation\"}>\r\n              <Button className=\"Button\">Update profile</Button>\r\n            </Link>\r\n            <Link to={\"/\"}>\r\n              <Button className=\"Button\">Logout</Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Settings\r\n","import React, { Component } from 'react';\r\nimport {CollectionItem} from 'react-materialize';\r\nimport {Redirect} from 'react-router';\r\n\r\nexport class NoticeListItem extends Component {\r\n  state = {\r\n    redirect: false\r\n  }\r\n\r\n  onTypeClick = (e) => {\r\n    this.props.onTypeClick(this.props.data.type);\r\n  }\r\n\r\n  onItemClick = (e) => {\r\n    this.setState({redirect:true, redirectTo: this.props.pathname + \"/notice/\" + this.props.data.id});\r\n  }\r\n\r\n  formatDate = (_date) => {\r\n    var _date = new Date(_date);\r\n    var day = _date.getDate();\r\n    var monthIndex = _date.getMonth();\r\n    var year = _date.getFullYear();\r\n    return year + \"/\" + (monthIndex + 1) + \"/\" + day;\r\n  }\r\n\r\n  renderTypeBadge = () => {\r\n    //this.props.pathname + \"/notice/\" + this.props.data.id\r\n    return (<div className=\"notice-list-item-type\"\r\n                onClick={this.onTypeClick}>\r\n              {this.props.data.type[0].toUpperCase()}\r\n            </div>);\r\n  }\r\n\r\n  render() {\r\n    if(this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n      <CollectionItem>\r\n        {this.renderTypeBadge()}\r\n        <div style={{width:\"90%\", display:\"inline-block\"}} onClick={this.onItemClick}>\r\n          <span className={this.props.data.important?\"important\" : \"not-important\"}></span>\r\n          {this.props.data.name}\r\n          <span className=\"notice-list-item-questions\"><span>{this.props.data.questionCnt}</span></span>\r\n          <span className=\"notice-list-item-expire\">{\r\n            this.props.data.persistent ?\r\n            <span>Persistent</span> :\r\n            <span>Will expire at {this.formatDate(this.props.data.expireDate)}</span>\r\n          }</span>\r\n        </div>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NoticeListItem\r\n","import React, { Component } from 'react';\r\nimport Topbar from '../Topbar';\r\nimport {Button, Pagination, Row, Col, Collection} from 'react-materialize';\r\nimport NoticeListItem from './NoticeListItem';\r\nimport \"../../css/Notices/Board.css\";\r\nimport { fire, getFireDB} from '../../config/fire';\r\nimport { checkLogin } from '../../config/ID';\r\n\r\nexport class Board extends Component {\r\n  state = {\r\n    board: {\r\n      name: \"\"\r\n    },\r\n    Notices: [],\r\n    validNotices: [],\r\n    displayNotices: [],\r\n    redirect: false,\r\n    redirectTo: \"\",\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n  }\r\n\r\n  getBoardId = () => {\r\n    return this.props.match.params.id;\r\n  }\r\n\r\n  parseQuery = () => {\r\n    var queryString = this.props.location.search;\r\n    var query = {};\r\n    var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\r\n    for (var i = 0; i < pairs.length; i++) {\r\n        var pair = pairs[i].split('=');\r\n        query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\r\n    }\r\n    return query;\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    // console.log(this.props);\r\n    getFireDB()\r\n    .then(_res => {\r\n      let DB = _res.val();\r\n      for(var key in DB.Board) {\r\n        if( DB.Board[key].id == this.getBoardId() * 1 ) {\r\n          this.state.board = DB.Board[key];\r\n        }\r\n      }\r\n\r\n      var query = this.parseQuery();\r\n      var page = query.page ? query.page * 1 : 1;\r\n      var type = query.type ? query.type : \"all\";\r\n      var notices = [];\r\n      var questions = [];\r\n\r\n      for(var key in DB.Question) questions.push(DB.Question[key]);\r\n      for(var key in DB.Notice) {\r\n        if(DB.Notice[key].boardId === this.getBoardId() * 1) {\r\n          var questionCnt = 0;\r\n          questions.forEach(_question => {\r\n            if(_question.noticeId === DB.Notice[key].id) questionCnt++;\r\n          });\r\n          notices.push({...DB.Notice[key], questionCnt});\r\n        }\r\n      }\r\n      notices.sort((_elem1, _elem2) => {\r\n        return _elem2.id - _elem1.id;\r\n      });\r\n\r\n      var validNotices = notices.filter(_notice => {\r\n        return _notice.persistent || new Date(_notice.expireDate) > new Date();\r\n      })\r\n      .filter(_notice=>(type===\"all\" || _notice.type===type));\r\n  \r\n      var end = Math.min(page*10, validNotices.length);\r\n      var displayNotices = validNotices.slice((page-1) * 10, end);\r\n      console.log(displayNotices);\r\n  \r\n      this.setState({...this.state,\r\n        Notices: notices,\r\n        validNotices,\r\n        displayNotices,\r\n        page,\r\n        redirect: false});\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps() {\r\n    window.location.reload();\r\n  }\r\n\r\n  onPageSelect = (e) => {\r\n    var queryString = \"?page=\"+e;\r\n    var query = this.parseQuery();\r\n    for(let [key, value] of Object.entries(query)) {\r\n      if(key === \"page\") continue;\r\n      queryString += \"&\" + encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\r\n    }\r\n    \r\n    this.props.history.push(this.props.location.pathname + queryString);\r\n    window.location.reload();\r\n  }\r\n\r\n  onTypeClick = (_type) => {\r\n    var queryString = \"?type=\"+_type;\r\n    var query = this.parseQuery();\r\n    for(let [key, value] of Object.entries(query)) {\r\n      if(key === \"type\") continue;\r\n      queryString += \"&\" + encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\r\n    }\r\n\r\n    this.props.history.push(this.props.location.pathname + queryString);\r\n    window.location.reload();\r\n  }\r\n\r\n  renderNoticeItems = () => {\r\n    return this.state.displayNotices.map(_notice => {\r\n      return <NoticeListItem\r\n        pathname={this.props.location.pathname}\r\n        data={_notice}\r\n        onTypeClick={this.onTypeClick}/>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    checkLogin();\r\n    let isNotice = this.state.displayNotices.length !== 0;\r\n    return (\r\n      <div className=\"content\">\r\n        <Topbar\r\n          name={this.state.board.name}\r\n          showBack={true}\r\n          backTo=\"/BOBO/#/board\"\r\n          showOptional={true}\r\n          optionalComponent={<Button\r\n                              id=\"board-list-add-btn\"\r\n                              node=\"a\"\r\n                              floating small\r\n                              waves=\"light\"\r\n                              icon=\"add\"\r\n                              href={\"/BOBO/#/board/\" + this.getBoardId() + \"/addNotice\"}/>}/>\r\n        \r\n        <Row id=\"board-notice-list\">\r\n          {isNotice ?\r\n          <Collection>\r\n            {this.renderNoticeItems()}\r\n          </Collection>\r\n          : <div style={{backgroundColor: \"rgb(239, 239, 239)\"}} id=\"alert-msg\">\r\n            <span>There aren't any valid notices</span>\r\n          </div>}\r\n        </Row>\r\n        <div id=\"board-pagination-row\">\r\n          {isNotice?\r\n          <Pagination\r\n            activePage={this.state.page}\r\n            maxButtons={6}\r\n            items={Math.ceil(this.state.validNotices.length / 10)}\r\n            onSelect={this.onPageSelect}/>\r\n            :\r\n            <span></span>\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Board\r\n","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport {TextInput, Row, Col, Tabs, Tab, Checkbox, Button} from 'react-materialize';\r\nimport \"../../css/Notices/AddBoard.css\";\r\nimport {Redirect} from 'react-router';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB} from '../../config/fire';\r\nimport { getLoginId, getLoginName, checkLogin } from '../../config/ID';\r\n\r\nexport class AddBoard extends Component {\r\n  state = {\r\n    Users: [],\r\n    CurrentUser: {\r\n      id: getLoginId() * 1,\r\n      name: getLoginName(),\r\n    },\r\n    seletedUsers: new Set(),\r\n    redirect: false,\r\n    redirectTo: \"/board\"\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    getFireDB()\r\n    .then(_res => {\r\n      let DB = _res.val();\r\n      var Users = [];\r\n      var nextBoardId = 0;\r\n      for(var key in DB.User) {\r\n        if(DB.User[key].id != this.state.CurrentUser.id)\r\n          Users.push(DB.User[key]);\r\n      }\r\n\r\n      for(var key in DB.Board){\r\n        var boardId = DB.Board[key].id;\r\n        if(boardId > nextBoardId) nextBoardId = boardId;\r\n      }\r\n      nextBoardId++;\r\n      this.setState({...this.state, Users, nextBoardId});\r\n    });\r\n  }\r\n\r\n  onChkBoxChange = (e) => {\r\n    var userId = e.target.value;\r\n    if(this.state.seletedUsers.has(userId)) this.state.seletedUsers.delete(userId);\r\n    else this.state.seletedUsers.add(userId);\r\n  }\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({...this.state, [e.target.id]:e.target.value});\r\n  }\r\n\r\n  addBoard = () => {\r\n    console.log(this.state);\r\n    if(!this.state.boardName) {\r\n      window.M.toast({\r\n        html: \"Please write name of notice board\",\r\n        displayLength: 3000\r\n      });\r\n      return;\r\n    }\r\n    else if(!this.state.seletedUsers) {\r\n      window.M.toast({\r\n        html: \"No one can see this notice board.<br/>Please select someone.\",\r\n        displayLength: 3000\r\n      });\r\n      return;\r\n    }\r\n\r\n    console.log(this.state.seletedUsers);\r\n    console.log(this.state.boardName);\r\n    var nextBoardId = this.state.nextBoardId;\r\n    var BUobjs = [{boardId: nextBoardId, userId: this.state.CurrentUser.id}];\r\n    this.state.seletedUsers.forEach(_userId => {\r\n      BUobjs.push({boardId: nextBoardId, userId: _userId * 1});\r\n    });\r\n    pushDB(\"Board\", {id: nextBoardId, name: this.state.boardName})\r\n    .then(_res => {\r\n      return pushMultipleDB(\"BoardUserMap\", BUobjs);\r\n    })\r\n    .then(_res => {\r\n      this.setState({...this.state, redirect: true});\r\n    });\r\n  }\r\n\r\n  renderUserCheckbox = (_type) => {\r\n    var users = this.state.Users.filter(_user => _user.type === _type);\r\n    return users.map(_user => {\r\n      return <Col s={12}><Checkbox value={_user.id.toString()} label={_user.name} onChange={this.onChkBoxChange}/></Col>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    checkLogin();\r\n\r\n    if(this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <Topbar name=\"Add Board\" showBack={true} backTo={\"/BOBO/#/board\"}/>\r\n        <Row id=\"add-board-name-row\">\r\n          <Col s={12}>\r\n            <TextInput s={12} id=\"boardName\" label=\"Name\" onChange={this.onNameChange}/>\r\n          </Col>\r\n        </Row>\r\n        <Row id=\"add-board-user-list-row\">\r\n          <Col s={12}>\r\n            <Tabs s={12}>\r\n              <Tab title=\"Instructors\">\r\n                {this.renderUserCheckbox(\"instructor\")}\r\n              </Tab>\r\n              <Tab title=\"Parents\">\r\n                {this.renderUserCheckbox(\"parent\")}\r\n              </Tab>\r\n            </Tabs>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col s={12}>\r\n            <Button className=\"CommonButton\" waves=\"light\" style={{float:\"right\"}} onClick={this.addBoard}>Add</Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddBoard\r\n","import React, { Component } from 'react'\r\nimport { Card, Button, Textarea, Badge, Col, Row } from 'react-materialize';\r\n\r\nexport class QuestionListItem extends Component {\r\n  state = {\r\n    showAnswerCard: false,\r\n    showNewAnswer: false,\r\n    newAnswer: \"\",\r\n  }\r\n\r\n  formatDate = (_date) => {\r\n    _date = new Date(_date);\r\n    var day = _date.getDate();\r\n    var monthIndex = _date.getMonth();\r\n    var year = _date.getFullYear();\r\n    return year + \"/\" + (monthIndex + 1) + \"/\" + day;\r\n  }\r\n\r\n  onReplyBtnClick = (e) => {\r\n    this.setState({...this.state, showAnswerCard: true});\r\n  }\r\n\r\n  onNewAnswerChange = (e) => {\r\n    this.setState({...this.state, answerContent: e.target.value});\r\n  }\r\n\r\n  onNewAnswerBtnClick = (e) => {\r\n    if(!this.state.answerContent) {\r\n      window.M.toast({\r\n        html: \"Please write something to answer .\",\r\n        displayLength: 1000\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.onAnswer({...this.props.data, answer: this.state.answerContent});\r\n    this.setState({...this.state, showAnswerCard: false, showNewAnswer: true, newAnswer: this.state.answerContent});\r\n  }\r\n\r\n  renderQuestionHeader = () => {\r\n    let className = \"question-list-item-header \";\r\n    className += !this.props.data.answer && this.state.newAnswer === \"\" ? \"pink lighten-4\" : \"grey lighten-2\";\r\n\r\n    return (<div className={className}>\r\n      <span className=\"name\">Asked by <b>{this.props.data.userName}</b></span>\r\n      <span className=\"date\">at {this.formatDate(this.props.data.createDate)}</span>\r\n      {this.props.data.answer === \"\" && this.state.newAnswer === \"\" && !this.state.showAnswerCard ?\r\n      <Button flat waves=\"light\" onClick={this.onReplyBtnClick} className=\"reply\">\r\n        <span className=\"reply-label\">Reply</span> <i className=\"material-icons\">reply</i>\r\n      </Button> :\r\n      !this.state.showAnswerCard ?\r\n      <Badge className=\"resolved grey darken-1 white-text\">Resolved</Badge>\r\n      : <span></span>\r\n      }\r\n      \r\n    </div>);\r\n  }\r\n\r\n  render() {\r\n    let showAnswer = this.props.data.answer !== \"\" || this.state.showNewAnswer;\r\n\r\n    return (\r\n      <Row className=\"question-list-item-container\">\r\n        <Col s={12}>\r\n          <Card className=\"white\" header={this.renderQuestionHeader()}>\r\n            <p>{this.props.data.content}</p>\r\n            \r\n            {this.state.showAnswerCard ? \r\n              <div>\r\n                <Textarea\r\n                  className=\"new-answer-content\" placeholder=\"I think ...\"\r\n                  onChange={this.onNewAnswerChange}/>\r\n                <Button className=\"red lighten-5 black-text new-answer-btn\" onClick={this.onNewAnswerBtnClick}>Answer</Button>\r\n              </div> : <span/>\r\n            }\r\n\r\n          </Card>\r\n        </Col>\r\n        {\r\n          showAnswer ?\r\n            (<div>\r\n            <Col s={1}>\r\n              <span className=\"material-icons reply-icon\">subdirectory_arrow_right</span>\r\n            </Col>\r\n            <Col s={11}>\r\n              <Card className={\"grey lighten-2 answer-container \" + (this.props.data.answer === \"\" ? \"none\" : \"\")}>\r\n                <div><span className=\"answer-content\">{this.props.data.answer}</span></div>\r\n              </Card>\r\n              {this.state.showNewAnswer ?\r\n                <Card className=\"grey lighten-2 answer-container\">\r\n                  <div><span className=\"answer-content\">{this.state.newAnswer}</span></div>\r\n                </Card> : <span/>\r\n              }\r\n            </Col></div>) :\r\n            <span></span>\r\n        }\r\n        \r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\nexport default QuestionListItem\r\n","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport { Row, Col, Textarea, Card, Button, Toast } from 'react-materialize';\r\nimport \"../../css/Notices/Notice.css\";\r\nimport QuestionListItem from './QuestionListItem';\r\nimport * as firebase from 'firebase';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, getstorage} from '../../config/fire';\r\nimport { checkLogin, getLoginId, getLoginName } from '../../config/ID';\r\n\r\nexport class Notice extends Component {\r\n  state = {\r\n    type: \"homework\",\r\n    name: \"\",\r\n    content: \"\",\r\n    expireDate: new Date(),\r\n    important: Math.floor(Math.random() * 2) == 1,\r\n    persistent: Math.floor(Math.random() * 2) == 1,\r\n    questions: [],\r\n    CurrentUser: {\r\n      id: getLoginId() * 1,\r\n      name: getLoginName()\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n  }\r\n\r\n  getNoticeId = () => {\r\n    return this.props.match.params.id * 1;\r\n  }\r\n\r\n  componentDidMount() {\r\n    getFireDB()\r\n    .then(_res => {\r\n      let DB = _res.val();\r\n      var noticeId = this.getNoticeId();\r\n      var noticeObj = {};\r\n      for(var key in DB.Notice) {\r\n        if(DB.Notice[key].id === noticeId) {\r\n          noticeObj = DB.Notice[key];\r\n        }\r\n      }\r\n\r\n      var questions = [];\r\n      var nextQuestionId = 0;\r\n      for(var key in DB.Question) {\r\n        var questionObj = DB.Question[key];\r\n        if(questionObj.id > nextQuestionId)\r\n          nextQuestionId = questionObj.id;\r\n        if(questionObj.noticeId === noticeId)\r\n          questions.push({...questionObj, key});\r\n      }\r\n      nextQuestionId++;\r\n      this.nextQuestionId = nextQuestionId;\r\n      this.setState({...noticeObj, questions});\r\n    });\r\n  }\r\n\r\n  formatDate = (_date) => {\r\n    _date = new Date(_date);\r\n    var day = _date.getDate();\r\n    var monthIndex = _date.getMonth();\r\n    var year = _date.getFullYear();\r\n    return year + \"/\" + (monthIndex + 1) + \"/\" + day;\r\n  }\r\n\r\n  onNewQuestionChange = (e) => {\r\n    this.setState({...this.state, newQuestionContent: e.target.value});\r\n  }\r\n\r\n  onAnswerBtnClick = (_questionObj) => {\r\n    console.log(_questionObj);\r\n    var obj = {..._questionObj};\r\n    delete obj.key;\r\n    setDB(\"Question/\" + _questionObj.key, obj);\r\n  }\r\n\r\n  onNewQuestionBtnClick = (e) => {\r\n    if(!this.state.newQuestionContent) {\r\n      // alert(\"Please write something to ask\");\r\n      window.M.toast({\r\n        html: \"Please write something to ask .\",\r\n        displayLength: 1000\r\n      });\r\n      return;\r\n    }\r\n\r\n    console.log(this.state.newQuestionContent);\r\n    var questionObj = {\r\n      content: this.state.newQuestionContent,\r\n      userId: this.state.CurrentUser.id,\r\n      userName: this.state.CurrentUser.name,\r\n      noticeId: this.getNoticeId(),\r\n      id: this.nextQuestionId++,\r\n      createDate: new Date().getTime(),\r\n      answer: \"\",\r\n    };\r\n\r\n    var questions = this.state.questions;\r\n\r\n    new Promise(async(_res, _rej) => {\r\n      let snapshot = await firebase.database().ref(\"Question\").push();\r\n      _res(snapshot.key);\r\n    })\r\n    .then(_key => {\r\n      var copy = JSON.parse(JSON.stringify(questionObj));\r\n      questionObj.key = _key;\r\n      questions.push(questionObj);\r\n      this.setState({...this.state, questions, newQuestionContent: \"\"});\r\n      setDB(\"Question/\" + _key, copy);\r\n    });\r\n    \r\n  }\r\n\r\n  renderQuestions = () => {\r\n    if(this.state.questions.length > 0) {\r\n      return this.state.questions.map(_question => {\r\n        return (<QuestionListItem data={_question} onAnswer={this.onAnswerBtnClick}/>); \r\n      });\r\n    }\r\n    else {\r\n      return (<Col s={12} className=\"notice-no-question\">No Question on This Notice.</Col>)\r\n    }\r\n  }\r\n\r\n  renderTypeBadge = () => {\r\n    //this.props.pathname + \"/notice/\" + this.props.data.id\r\n    return (<div className=\"notice-type\"\r\n                onClick={this.onTypeClick}>\r\n              <span>\r\n                {this.state.type[0].toUpperCase()}\r\n              </span>\r\n            </div>);\r\n  }\r\n\r\n  render() {\r\n    checkLogin();\r\n    return (\r\n      <div className=\"content\" id=\"notice-content\">\r\n        <Topbar name=\"Notice\" showBack={true} backTo={\"/BOBO/#\" + this.props.location.pathname.slice(0, this.props.location.pathname.indexOf(\"/notice\"))}/>\r\n        <Row id=\"notice-name-row\">\r\n          <Col s={12}>\r\n            {this.renderTypeBadge()}\r\n            <div style={{width:\"90%\", display:\"inline-block\"}}>\r\n              <span className={this.state.important?\"important\" : \"none\"}></span>\r\n              <span className=\"notice-name\">{this.state.name}</span>\r\n              {/* <span className=\"notice-list-item-questions\"><span>{this.props.data.questionCnt}</span></span> */}\r\n              <span className=\"notice-expire\">{\r\n                this.state.persistent ? \r\n                <span>Persistent</span> :\r\n                <span>Will expire at {this.formatDate(this.state.expireDate)}</span>\r\n              }</span>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Row id=\"notice-content-row\">\r\n          <Col s={12} className=\"notice-label\">\r\n            <div><span className=\"material-icons\">notifications</span>Contents</div>\r\n          </Col>\r\n          <Col s={12}>\r\n            <Card className=\"white\"><p>{this.state.content}</p></Card>\r\n          </Col>\r\n          <Col s={12} className=\"notice-label\">\r\n            <div><span className=\"material-icons\">question_answer</span>Questions</div>\r\n          </Col>\r\n          <Col s={12}>\r\n            {this.renderQuestions()}\r\n          </Col>\r\n          <Col s={12} id=\"new-question-row\">\r\n            <Card className=\"white\" header={<div className=\"white-text add-question-header\">Leave Question</div>}>\r\n              <Textarea\r\n                id=\"new-question-content\"\r\n                placeholder=\"What do you want to ask?\"\r\n                onChange={this.onNewQuestionChange}\r\n                value={this.state.newQuestionContent}/>\r\n              <Button className=\"CommonButton\" id=\"new-question-leave-btn\" onClick={this.onNewQuestionBtnClick}>Leave</Button>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Notice\r\n","import React, { Component } from 'react';\r\nimport Topbar from '../Topbar';\r\nimport {TextInput, Row, Col, Textarea, Checkbox, RadioGroup, DatePicker, Button} from 'react-materialize';\r\nimport \"../../css/Notices/AddNotice.css\";\r\nimport {Redirect} from 'react-router';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB} from '../../config/fire';\r\nimport { getLoginId, checkLogin } from '../../config/ID';\r\n\r\nexport class AddNotice extends Component {\r\n  state = {\r\n    CurrentUser: {\r\n      id: getLoginId() * 1,\r\n    },\r\n    important: false,\r\n    persistent: false,\r\n    type: \"homework\",\r\n    redirect: false,\r\n    redirectTo: \"\",\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n  }\r\n\r\n  getBoardId = () => {\r\n    return this.props.match.params.id;\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(this.props);\r\n    getFireDB().then(_res => {\r\n      let DB = _res.val();\r\n      console.log(DB);\r\n      var nextNoticeId = 0;\r\n      for(var key in DB.Notice) {\r\n        var noticeId = DB.Notice[key].id;\r\n        if(noticeId > nextNoticeId)\r\n          nextNoticeId = noticeId;\r\n      }\r\n      nextNoticeId++;\r\n      this.nextNoticeId = nextNoticeId;\r\n    });\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({...this.state, [e.target.id]:e.target.value});\r\n  }\r\n\r\n  onImportantChange = (e) => {\r\n    this.setState({...this.state, important: !this.state.important});\r\n  }\r\n\r\n  onPersistentChange = (e) => {\r\n    this.setState({...this.state, persistent: !this.state.persistent});\r\n  }\r\n\r\n  onExpireDateChange = (e) => {\r\n    this.setState({...this.state, expireDate: e});\r\n  }\r\n\r\n  onTypeChange = (e) => {\r\n    this.setState({...this.state, type: e.target.value});\r\n  }\r\n\r\n  onNoticeAdd = () => {\r\n    if(!this.state.noticeName) {\r\n      window.M.toast({\r\n        html: \"Please write title of notice\",\r\n        displayLength: 3000\r\n      });\r\n      return;\r\n    }\r\n    else if (!this.state.noticeContent){\r\n      window.M.toast({\r\n        html: \"Content of notice is empty\",\r\n        displayLength: 3000\r\n      });\r\n      return;\r\n    }\r\n    \r\n    else if(!this.state.expireDate && !this.state.persistent) {\r\n      window.M.toast({\r\n        html: \"Please set expiration date of notice(or is it persistent?)\",\r\n        displayLength: 3000\r\n      });\r\n      return;\r\n    }\r\n\r\n    else if(!this.state.persistent && this.state.expireDate.getTime() < new Date().getTime()) {\r\n      window.M.toast({\r\n        html: \"Expiration date must be after today!\",\r\n        displayLength: 3000\r\n      });\r\n      return;\r\n    }\r\n\r\n    console.log(this.state);\r\n    var obj = {...this.state};\r\n    obj.id = this.nextNoticeId;\r\n    obj.userId = this.state.CurrentUser.id;\r\n    obj.expireDate = obj.expireDate ? obj.expireDate.getTime() : null;\r\n    obj.createDate = new Date().getTime();\r\n    obj.boardId = this.getBoardId() * 1;\r\n    obj.name = obj.noticeName;\r\n    obj.content = obj.noticeContent;\r\n    \r\n    delete obj.redirect;\r\n    delete obj.redirectTo;\r\n    delete obj.CurrentUser;\r\n    delete obj.noticeName;\r\n    delete obj.noticeContent;\r\n\r\n    pushDB(\"Notice\", obj)\r\n    .then(_res => {\r\n      this.setState({...this.state, redirect: true, redirectTo: \"/board/\" + this.getBoardId()});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    checkLogin();\r\n\r\n    if(this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <Topbar name=\"Add Notice\" showBack={true} backTo={\"/BOBO/#/board/\" + this.getBoardId()}/>\r\n        <Row id=\"add-notice-name-row\">\r\n          <Col s={12}>\r\n            <TextInput s={12} id=\"noticeName\" label=\"Title\" onChange={this.onChange}/>\r\n          </Col>\r\n          <Col s={12}>\r\n            <Textarea\r\n              id=\"noticeContent\" s={12}\r\n              placeholder=\"Write some notices in here\"\r\n              onChange={this.onChange}/>\r\n          </Col>\r\n        </Row>\r\n        <Row id=\"add-notice-info-row\">\r\n          <Col s={6}>\r\n            <Checkbox value=\"important\" id=\"important\" label=\"important!\" onChange={this.onImportantChange}/>\r\n          </Col>\r\n          <Col s={6}>\r\n            <Checkbox value=\"persistent\" id=\"persistent\" label=\"persistent\" onChange={this.onPersistentChange}/>\r\n          </Col>\r\n          <Col s={12} style={{marginTop: \"10px\"}}>\r\n            <DatePicker s={12} onChange={this.onExpireDateChange} label=\"Expire Date\"/>\r\n          </Col>\r\n          <Col s={12} id=\"add-notice-type-col\">\r\n            <span>Type : </span>\r\n            <RadioGroup\r\n              id=\"type\"\r\n              name=\"type\"\r\n              label=\"type\"\r\n              withGap\r\n              value=\"homework\"\r\n              onChange={this.onTypeChange}\r\n              options={[{label: \"homework\", value:\"homework\"},\r\n                      {label: \"schedule\", value: \"schedule\"},\r\n                      {label: \"activity\", value: \"activity\"}]}/>\r\n          </Col>\r\n          \r\n          <Col s={12}>\r\n            <Button className=\"CommonButton\" style={{float: \"right\"}} onClick={this.onNoticeAdd}>Add</Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddNotice\r\n","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport '../../css/Students/StudentProfile.css'\r\nimport {Redirect} from 'react-router';\r\nimport Demographic from './Demographic';\r\nimport '../../css/Common.css'\r\nimport {Button} from 'react-materialize'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../../config/fire';\r\nimport * as firebase from 'firebase'\r\nimport { getLoginId } from '../../config/ID';\r\nexport class StudentProfile extends Component {\r\n    state={\r\n        redirect:false,\r\n        target:\"Loading...\",\r\n        Name: \"Loading...\",\r\n        Class: \"Loading...\",\r\n        Age: \"Loading...\",\r\n        Tel: \"Loading...\",\r\n        url: \"\",\r\n        mount:true\r\n    }\r\n\r\n    constructor(props) \r\n    {\r\n      super(props);\r\n      getFireDB('/User').then(\r\n        result => {\r\n          var userList = result.val();\r\n          var args;\r\n          for(var key in userList) {\r\n            args = userList[key];\r\n            if(args['id']==this.props.match.params.student_id) {\r\n              break;\r\n            }\r\n          }\r\n          this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n          download_picture(args['picture'], this);\r\n\r\n          /*\r\n          var Storageref = firebase.storage().ref();\r\n  \r\n          var strarray = args['picture'].split('/')\r\n          //const images = Storageref.child(strarray[0])\r\n          \r\n        \r\n          firebase.storage().ref('User').child(strarray[1]).getDownloadURL().then(function(url) {\r\n              \r\n              \r\n              this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel'],url,mount:false});\r\n            \r\n\r\n        \r\n          }).catch(function(error) {\r\n            // Handle any errors\r\n            this.setState({mount:false});\r\n            \r\n            return;\r\n          });*/\r\n        }\r\n      )\r\n    }\r\n\r\n    redirectToClassRecord = () => {\r\n        this.setState({target:\"/studentProfile/classRecord/\"+this.props.match.params.student_id,\r\n                        redirect:true});\r\n    }\r\n\r\n    redirectToInstructorsNote = () => {\r\n        this.setState({target:\"/studentProfile/instructorsNote/\"+this.props.match.params.student_id,\r\n                        redirect:true});\r\n    }\r\n\r\n    render() {\r\n        if(this.state.redirect)\r\n            return (<Redirect to={this.state.target}></Redirect>);\r\n        return (\r\n        <div style = {{width:\"100%\"}} className=\"content studentProfileContent\">\r\n            <Topbar name=\"Profile\" showBack={true} backTo = {\"/BOBO/#/studentList/\"}></Topbar>\r\n            <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n            <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n            <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n            <div className=\"ButtonContainer\">\r\n                <Button className=\"Button\" \r\n                        onClick={this.redirectToClassRecord}>\r\n                    Class Record\r\n                </Button>\r\n                <br/>\r\n                <Button className=\"Button\"\r\n                        onClick={this.redirectToInstructorsNote}>\r\n                    Instructor's Note\r\n                </Button>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default StudentProfile","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport '../../css/Students/StudentProfile.css'\r\nimport '../../css/Students/InstructorsNote.css'\r\nimport {Redirect} from 'react-router';\r\nimport Demographic from './Demographic'\r\nimport Popup from 'reactjs-popup'\r\nimport {Checkbox, Icon, Button} from 'react-materialize'\r\nimport {Link} from 'react-router-dom'\r\nimport '../../css/Common.css'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../../config/fire';\r\nimport { ENGINE_METHOD_NONE } from 'constants';\r\nimport { getLoginId } from '../../config/ID';\r\n\r\nclass DeletePopup extends Component {\r\n\r\n  state={\r\n    checked:false,\r\n    open:false\r\n  }\r\n\r\n  check =(event)=> {\r\n    this.setState({checked: !this.state.checked});\r\n  }\r\n\r\n  deleteNote = () => {\r\n    console.log('/Note/'+this.props.student_id+'/'+getLoginId());\r\n    deleteDB('/Note/'+this.props.student_id+'/'+getLoginId());\r\n    window.location.reload();\r\n  }\r\n\r\n  closing = () => {\r\n    this.setState({checked: false})\r\n  }\r\n\r\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{width: '80%'}} trigger={<div style={{display:\"inline-block\"}}><Icon className=\"InstructorNoteIcon\" small={true}>delete_forever</Icon></div>} \r\n                position=\"top right\" onClose={this.closing}>\r\n        { close => (\r\n          <div className=\"NoteDeleteContainer\">\r\n              <span className=\"NoteDeleteTitle\">\r\n                  Delete Note\r\n              </span>\r\n              <br/>\r\n                <Checkbox className = \"NoteDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\"/>\r\n              <span className=\"NoteDeleteWarningText\">I hereby understand that I </span>\r\n              <span className=\"NoteDeleteWarningTextImportant\">cannot recover</span>\r\n              <span className=\"NoteDeleteWarningText\"> the deleted note.</span>\r\n              <br/>\r\n              <br/>\r\n                <button className=\"close pinkcancelbutton\" onClick={close}>\r\n                    No\r\n                </button>\r\n              {this.state.checked? (\r\n                <button className=\"close pinkcancelbutton\" style={{float:\"right\"}} onClick={this.deleteNote}>\r\n                    Yes\r\n                </button>\r\n              ) : null}\r\n          </div>)\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}\r\n\r\nclass NamePopup extends Component {\r\n  \r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{width: '50%'}} \r\n              trigger={<span className=\"NoteInstructor\" style={{backgroundColor:'#fa807266'}}> {this.props.name}</span>} \r\n                position=\"top left\" onClose={this.closing}>\r\n        { close => ( \r\n            <div style={{fontWeight:'bold', lineHeight:'160%'}}>\r\n              <span>{this.props.name}</span>\r\n              <br></br>\r\n              <span>Tel: <u><a href={\"tel:\"+this.props.tel}>{this.props.tel}</a></u></span> \r\n            </div>\r\n          )\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}\r\n\r\nexport class InstructorsNote extends Component {\r\n\r\n  userList = null;\r\n\r\n  state={\r\n    loaded: false,\r\n    Notes: [],\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true\r\n  }\r\n\r\n  getUserInfo(id) {\r\n    for(var key in this.userList) {\r\n      var args = this.userList[key];\r\n      if(args['id']==id) {\r\n        return args;\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    getFireDB('/User').then(\r\n      result => {\r\n        this.userList = result.val();\r\n        var args = this.getUserInfo(this.props.match.params.student_id);\r\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n        download_picture(args['picture'], this);\r\n      }\r\n    )\r\n    this.setNotes();\r\n  }\r\n\r\n  setNotes = ()=>{\r\n    getFireDB('/Note/'+this.props.match.params.student_id).then(\r\n      result => {\r\n        let notes = [];\r\n        let notesRaw = result.val();\r\n        for(var key in notesRaw) {\r\n          notes.push({Instructor: key, Content: notesRaw[key]});\r\n        }\r\n        this.setState({Notes: notes, loaded:true});\r\n      }\r\n    )\r\n  }\r\n\r\n  renderNoteList = () => {\r\n      if(this.state.loaded==false) {\r\n        return (<div  style={{textAlign:\"center\", fontSize:\"20px\", fontWeight:\"bold\"}}>Loading...</div>)\r\n      }\r\n\r\n      var myNoteExists = false;\r\n      var i =0;\r\n      var noteList = this.state.Notes.map(_note => {\r\n        if(_note.Instructor!==getLoginId())\r\n        {\r\n            var userInfo = this.getUserInfo(_note.Instructor);\r\n            return <Note student_id={this.props.match.params.student_id} \r\n                          instructor_name={userInfo['name']} instructor_tel={userInfo['tel']}\r\n                          content={_note.Content} key={i++}/>\r\n        }\r\n        else\r\n        {\r\n            myNoteExists = true;\r\n            var userInfo = this.getUserInfo(_note.Instructor);\r\n            return <MyNote instructor_name={userInfo['name']} student = {this.props.match.params.student_id} content={_note.Content} key={i++}/>\r\n        }\r\n      });\r\n\r\n      if(!myNoteExists)\r\n          noteList.push(\r\n              <div className=\"AddButtonContainer\" key = {i++}>\r\n                <Link to={\"/studentProfile/instructorsNoteAddModify/\"+this.props.match.params.student_id}>\r\n                  <Button className=\" CommonButton\">Add Note!</Button>\r\n                </Link>\r\n              </div>\r\n          );\r\n      return <div>{noteList}</div>;\r\n  }\r\n\r\n  render() {\r\n      if(this.state.redirect)\r\n          return (<Redirect to={this.state.target}></Redirect>);\r\n\r\n      return (\r\n      <div style = {{width:\"100%\"}} className=\"content InstructorsNoteContent\">\r\n          <div>\r\n              <Topbar name=\"Instructor's Note\" showBack={true} backTo = {\"/BOBO/#/studentProfile/main/\"+this.props.match.params.student_id}></Topbar>\r\n          </div>\r\n          <div className=\"NoteContainer\">\r\n            <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n            <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n            <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n            {this.renderNoteList()}\r\n          </div>\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\nclass Note extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"Note\">\r\n                <span className=\"NoteInstructor\">{' '}</span>\r\n                <NamePopup id={getLoginId()} name={this.props.instructor_name} tel={this.props.instructor_tel}></NamePopup>\r\n                <span className=\"NoteInstructor\">{'\\'s Note'}</span>\r\n                <br/>\r\n                <span className=\"NoteContent\">&nbsp;&nbsp;&nbsp;{'- '+this.props.content}</span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass MyNote extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"Note\">\r\n                    <div className=\"MyNoteButtonContainer\">\r\n                      <Link to={\"/studentProfile/instructorsNoteAddModify/\"+this.props.student}>\r\n                        <Icon className=\"InstructorNoteIcon\" small={true}>edit</Icon>\r\n                      </Link>\r\n                      <DeletePopup student_id={this.props.student}/>\r\n                    </div>\r\n                    <span className=\"NoteInstructor\">{' My Note'}</span>\r\n                    <br/>\r\n                    <div style={{marginLeft:\"20px\"}}>\r\n                      <span className=\"NoteContent\">{'- '+this.props.content} </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default InstructorsNote","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router';\r\nimport { Link } from 'react-router-dom'\r\nimport Popup from 'reactjs-popup'\r\n\r\nimport { Row, Col, Collection, CollectionItem, Button, Icon, Checkbox } from 'react-materialize';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture, getPictureURL } from '../../config/fire';\r\nimport Topbar from '../Topbar';\r\nimport Demographic from './Demographic'\r\n//import RecordListItem from './RecordListItem';\r\n\r\nimport '../../css/Students/StudentProfile.css'\r\nimport \"../../css/Students/ClassRecord.css\"\r\nimport '../../css/Common.css'\r\nimport { type } from 'os';\r\nimport { tsConstructSignatureDeclaration, tsNamespaceExportDeclaration, tsImportEqualsDeclaration } from '@babel/types';\r\nimport { getLoginName, getLoginId, checkLogin } from '../../config/ID';\r\n\r\nexport class ClassRecord extends Component {\r\n\r\n  state = {\r\n    validRecords: [],\r\n    loaded: false,\r\n    Name: \"Loading...\",\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true,\r\n  }\r\n\r\n  \r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    getFireDB('/User').then(\r\n      result => {\r\n        var userList = result.val();\r\n        var args;\r\n        for(var key in userList) {\r\n          args = userList[key];\r\n          if(args['id']==this.props.match.params.student_id) {\r\n            break;\r\n          }\r\n        }\r\n        // console.log(args);\r\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n        download_picture(args['picture'], this);\r\n      }\r\n    )\r\n\r\n    getFireDB('Record/').then (\r\n      result => {\r\n        // console.log(\"all records: \",result.val());\r\n        let DB = result.val();\r\n        var records = [];\r\n        for( var _key in DB ) \r\n        {\r\n          var map = DB[_key];\r\n          map['key'] = _key;\r\n          records.push(map);\r\n        }\r\n        records.sort(function(_a, _b) {\r\n          return _a.date > _b.date ? 1 : -1;\r\n        });\r\n      var validRecords = records.filter(_mapElem => {\r\n        // console.log(_mapElem);\r\n        // console.log(\"id:\" , _mapElem.StudentID, this.props.match.params.student_id);\r\n        // console.log(typeof(_mapElem.StudentID), typeof(this.props.match.params.student_id))\r\n        return String(_mapElem.StudentID) === this.props.match.params.student_id; //\r\n      });\r\n\r\n        this.setState({ ...this.state, Records: result.val(), validRecords });\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  renderRecordList = () => {\r\n\r\n    return this.state.validRecords.map(_record => {\r\n      if (_record.InstructorID === getLoginName() )\r\n        return <MyRecordListItem data={_record}/>\r\n      else\r\n        return <RecordListItem data={_record}/>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    checkLogin()\r\n    if (this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo} />\r\n\r\n    return (\r\n      <div className='content class-record-content' style={{ width: \"100%\" }}>\r\n        <div>\r\n          <Topbar\r\n            name=\"Class Record\"\r\n            showBack={true}\r\n            backTo={\"/BOBO/#/studentProfile/main/\" +this.props.match.params.student_id}\r\n            showOptional={true}\r\n            optionalComponent={<Button\r\n              id=\"board-list-add-btn\"\r\n              node=\"a\"\r\n              floating small\r\n              waves=\"light\"\r\n              icon=\"add\"\r\n              href={\"/BOBO/#/classRecord/3?\"+this.props.match.params.student_id} />}></Topbar>\r\n        </div>\r\n\r\n        <div className=\"show-record-list-row\">\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        \r\n        <div>\r\n            <Collection >\r\n              {this.renderRecordList()}\r\n            </Collection>\r\n        </div>\r\n        </div>\r\n\r\n      </div> //end class-record-content\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass RecordListItem extends Component {\r\n  state = {\r\n    url: ''\r\n  }\r\n\r\n  renderHashtags = () => {\r\n    // console.log(\"render hasH\", this.props.data.Hashtag)\r\n    if(this.props.data.Hashtag!=null)\r\n      return this.props.data.Hashtag.map(_elem => {\r\n        return <Hashtag data={_elem} student_id={this.props.data.StudentID} parent={this}/>\r\n      })\r\n  }\r\n\r\n  renderPictures = () => {\r\n    var tmparr = []\r\n    for(var key in this.props.data)\r\n    {\r\n      if(key == 'photos')\r\n      {\r\n      for(var _url_key in this.props.data['photos'])\r\n      {\r\n        // console.log('url:', this.props.data['photos'][_url_key])\r\n        tmparr.push(this.props.data['photos'][_url_key])\r\n        // return <img className=\"RecordImage\" src={this.props.data['photos'][_url_key]} alt=\"photo\"  align='center'></img>\r\n      }\r\n      }\r\n    }\r\n\r\n    return tmparr.map(_url => {\r\n      return <img className=\"RecordImage\" src={_url} alt=\"photo\"  align='center'></img>\r\n    })\r\n    }\r\n\r\n  render() {\r\n    return (\r\n      <CollectionItem>\r\n        <Row s={12}>\r\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\r\n          <Col s={2}></Col>\r\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\r\n        </Row>\r\n      \r\n        <Row>\r\n          <Col align='center'>\r\n            {this.renderPictures()}\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col>\r\n            {this.props.data.Text}\r\n          </Col>\r\n        </Row>\r\n        {/* Hashtags */}\r\n        <Row>\r\n          <Col>\r\n            {/* <Hashtags data={this.props.data.Hashtag} /> */}\r\n            {this.renderHashtags()}\r\n          </Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\nclass MyRecordListItem extends Component {\r\n  renderHashtags = () => {\r\n    // console.log(\"MY render hasH\", this.props.data.Hashtag)\r\n    if(this.props.data.Hashtag!=null)\r\n      return this.props.data.Hashtag.map(_elem => {\r\n        return <Hashtag data={_elem} student_id={this.props.data.StudentID}/>\r\n      })\r\n  }\r\n\r\n  renderPictures = () => {\r\n    var tmparr = []\r\n    for(var key in this.props.data)\r\n    {\r\n      if(key == 'photos')\r\n      {\r\n      for(var _url_key in this.props.data['photos'])\r\n      {\r\n        // console.log('url:', this.props.data['photos'][_url_key])\r\n        tmparr.push(this.props.data['photos'][_url_key])\r\n        // return <img className=\"RecordImage\" src={this.props.data['photos'][_url_key]} alt=\"photo\"  align='center'></img>\r\n      }\r\n      }\r\n    }\r\n\r\n    return tmparr.map(_url => {\r\n      return <img className=\"RecordImage\" src={_url} alt=\"photo\"  align='center'></img>\r\n    })\r\n    }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <CollectionItem id='class-record-item'>\r\n        <Row s={12}>\r\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\r\n          <Col s={2}></Col>\r\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            {this.props.data.Text}\r\n          </Col>\r\n        </Row>\r\n        <div align='center'>\r\n          {this.renderPictures()}\r\n        </div>\r\n        {/* Hashtags and edit/delete buttons */}\r\n        <Row s={12}>\r\n          <Col s={8}>\r\n            {/* <Hashtags data={this.props.data.Hashtag} /> */}\r\n            {this.renderHashtags()}\r\n          </Col>\r\n          {/* delete buttons */}\r\n          <Col s={4}><div align='right'>\r\n            {/* <Link to={\"/editClassRecord/\" + this.props.data.key}>\r\n              <Icon className=\"edit-record-icon\" small='true'>edit</Icon>\r\n            </Link> */}\r\n            {/* <Icon small='true'>delete</Icon> */}\r\n            <DeleteRecordPopup data={this.props.data}></DeleteRecordPopup>\r\n          </div></Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass Hashtag extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <span id='hash-span'>\r\n        {/* <option id = 'selectHash' onClick={this.onHashtagSelection}>{'#' + this.props.data + ' '}</option> */}\r\n        <Link id = 'selectHash' to={\"/studentProfile/classRecordFiltered/\" +this.props.student_id +'/'+this.props.data}>\r\n         {'#' + this.props.data + ' '}\r\n        </Link>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nclass DeleteRecordPopup extends Component {\r\n  state = {\r\n    checked: false,\r\n    open: false\r\n  }\r\n\r\n  check = (event) => {\r\n    this.setState({ checked: !this.state.checked });\r\n  }\r\n\r\n  deleteRecord = () => {\r\n    console.log(\"deleeeeeeete:\", this.props.data.key);\r\n    deleteDB('/Record/' + this.props.data.key);\r\n    window.location.reload();\r\n  }\r\n\r\n  closing = () => {\r\n    this.setState({ checked: false })\r\n  }\r\n\r\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{ width: '60%' }} trigger={<div style={{ display: \"inline-block\" }}><Icon className=\"InstructorNoteIcon\" small='true'>delete_forever</Icon></div>}\r\n        position=\"top right\" onClose={this.closing}>\r\n        {close => (\r\n          <div className=\"RecordDeleteContainer\">\r\n            <span className=\"RecordDeleteTitle\">\r\n              Delete Record\r\n              </span>\r\n            <br />\r\n            <Checkbox className=\"RecordDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\" />\r\n            <span className=\"RecordDeleteWarningText\">I hereby understand that I </span>\r\n            <span className=\"RecordDeleteWarningTextImportant\">cannot recover</span>\r\n            <span className=\"RecordDeleteWarningText\"> the deleted record.</span>\r\n            <br />\r\n            <br />\r\n            <button className=\"close pink-cancel-button\" onClick={close}>\r\n              No\r\n                </button>\r\n            {this.state.checked ? (\r\n              <button className=\"close pink-cancel-button\" style={{ float: \"right\" }} onClick={this.deleteRecord}>\r\n                Yes\r\n                </button>\r\n            ) : null}\r\n          </div>)\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default ClassRecord","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router';\r\nimport { Link } from 'react-router-dom'\r\nimport Popup from 'reactjs-popup'\r\n\r\nimport { Row, Col, Collection, CollectionItem, Button, Icon, Checkbox } from 'react-materialize';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture, getPictureURL } from '../../config/fire';\r\nimport Topbar from '../Topbar';\r\nimport Demographic from './Demographic'\r\nimport { getLoginName, getLoginId, checkLogin } from '../../config/ID'\r\n//import RecordListItem from './RecordListItem';\r\n\r\nimport '../../css/Students/StudentProfile.css'\r\nimport \"../../css/Students/ClassRecord.css\"\r\nimport '../../css/Common.css'\r\nimport { type } from 'os';\r\nimport { tsConstructSignatureDeclaration } from '@babel/types';\r\n\r\nexport class ClassRecordFiltered extends Component {\r\n\r\n  state = {\r\n    validRecords: [],\r\n    loaded: false,\r\n    Name: \"Loading...\",\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    records: [],\r\n    mount:true,\r\n  }\r\n\r\n  \r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    getFireDB('/User').then(\r\n      result => {\r\n        var userList = result.val();\r\n        var args;\r\n        for(var key in userList) {\r\n          args = userList[key];\r\n          if(args['id']==this.props.match.params.student_id) {\r\n            break;\r\n          }\r\n        }\r\n        // console.log(args);\r\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n        download_picture(args['picture'], this);\r\n      }\r\n    )\r\n\r\n    getFireDB('Record/').then (\r\n      result => {\r\n        let DB = result.val();\r\n        var records = [];\r\n        for( var _key in DB ) \r\n        {\r\n          var map = DB[_key];\r\n          map['key'] = _key;\r\n          records.push(map);\r\n        }\r\n        records.sort(function(_a, _b) {\r\n          return _a.date > _b.date ? 1 : -1;\r\n        });\r\n      var validRecords_tmp = records.filter(_mapElem => {\r\n        return String(_mapElem.StudentID) === this.props.match.params.student_id && _mapElem.Hashtag != null;\r\n      });\r\n      var validRecords = validRecords_tmp.filter(_mapElem => {\r\n        return _mapElem.Hashtag.indexOf(this.props.match.params.hash) != -1;\r\n      })\r\n\r\n        this.setState({ ...this.state, records : records ,Records: result.val(), validRecords });\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  renderRecordList = () => {\r\n    var validRecords_tmp = this.state.records.filter(_mapElem => {\r\n\r\n      return String(_mapElem.StudentID) === this.props.match.params.student_id && _mapElem.Hashtag != null; //\r\n    });\r\n    var validRecords = validRecords_tmp.filter(_mapElem => {\r\n      return _mapElem.Hashtag.indexOf(this.props.match.params.hash) != -1;\r\n    })\r\n\r\n    return validRecords.map(_record => {\r\n      if (_record.InstructorID === getLoginName() )\r\n        return <MyRecordListItem data={_record} />\r\n      else\r\n        return <RecordListItem data={_record} />\r\n    });\r\n  }\r\n\r\n  render() {\r\n    checkLogin()\r\n    if (this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo} />\r\n\r\n    return (\r\n      <div className='content class-record-content' style={{ width: \"100%\" }}>\r\n        <div>\r\n          <Topbar\r\n            name=\"Class Record\"\r\n            showBack={true}\r\n            backTo={\"/BOBO/#/studentProfile/classRecord/\" +this.props.match.params.student_id}\r\n            showOptional={true}\r\n            optionalComponent={<Button\r\n              id=\"board-list-add-btn\"\r\n              node=\"a\"\r\n              floating small\r\n              waves=\"light\"\r\n              icon=\"add\"\r\n              href={\"/BOBO/#/classRecord/\"+this.props.match.params.student_id} />}></Topbar>\r\n        </div>\r\n\r\n        <div className=\"show-record-list-row\">\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        \r\n        <div>\r\n            <Collection >\r\n              {this.renderRecordList()}\r\n            </Collection>\r\n        </div>\r\n        </div>\r\n\r\n      </div> //end class-record-content\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass RecordListItem extends Component {\r\n  state = {\r\n    url: ''\r\n  }\r\n\r\n  renderHashtags = () => {\r\n    // console.log(\"render hasH\", this.props.data.Hashtag)\r\n    if(this.props.data.Hashtag!=null)\r\n      return this.props.data.Hashtag.map(_elem => {\r\n        return <Hashtag data={_elem} student_id={this.props.data.StudentID} parent={this}/>\r\n      })\r\n  }\r\n\r\n  renderPictures = () => {\r\n    var tmparr = []\r\n    for(var key in this.props.data)\r\n    {\r\n      if(key == 'photos')\r\n      {\r\n      for(var _url_key in this.props.data['photos'])\r\n      {\r\n        // console.log('url:', this.props.data['photos'][_url_key])\r\n        tmparr.push(this.props.data['photos'][_url_key])\r\n        // return <img className=\"RecordImage\" src={this.props.data['photos'][_url_key]} alt=\"photo\"  align='center'></img>\r\n      }\r\n      }\r\n    }\r\n\r\n    return tmparr.map(_url => {\r\n      return <img className=\"RecordImage\" src={_url} alt=\"photo\"  align='center'></img>\r\n    })\r\n    }\r\n \r\n  render() {\r\n\r\n    return (\r\n      <CollectionItem>\r\n        <Row s={12}>\r\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\r\n          <Col s={2}></Col>\r\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\r\n        </Row>\r\n      \r\n        <Row>\r\n          <Col align='center'>\r\n            {this.renderPictures()}\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col>\r\n            {this.props.data.Text}\r\n          </Col>\r\n        </Row>\r\n        {/* Hashtags */}\r\n        <Row>\r\n          <Col>\r\n            {/* <Hashtags data={this.props.data.Hashtag} /> */}\r\n            {this.renderHashtags()}\r\n          </Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\nclass MyRecordListItem extends Component {\r\n  renderHashtags = () => {\r\n    // console.log(\"MY render hasH\", this.props.data.Hashtag)\r\n    if(this.props.data.Hashtag!=null)\r\n      return this.props.data.Hashtag.map(_elem => {\r\n        return <Hashtag data={_elem} student_id={this.props.data.StudentID}/>\r\n      })\r\n  }\r\n\r\n  renderPictures = () => {\r\n    var tmparr = []\r\n    for(var key in this.props.data)\r\n    {\r\n      if(key == 'photos')\r\n      {\r\n      for(var _url_key in this.props.data['photos'])\r\n      {\r\n        // console.log('url:', this.props.data['photos'][_url_key])\r\n        tmparr.push(this.props.data['photos'][_url_key])\r\n        // return <img className=\"RecordImage\" src={this.props.data['photos'][_url_key]} alt=\"photo\"  align='center'></img>\r\n      }\r\n      }\r\n    }\r\n\r\n    return tmparr.map(_url => {\r\n      return <img className=\"RecordImage\" src={_url} alt=\"photo\"  align='center'></img>\r\n    })\r\n    }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <CollectionItem id='class-record-item'>\r\n        <Row s={12}>\r\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\r\n          <Col s={2}></Col>\r\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            {this.props.data.Text}\r\n          </Col>\r\n        </Row>\r\n        <div align='center'>\r\n          {this.renderPictures()}\r\n        </div>\r\n        {/* Hashtags and edit/delete buttons */}\r\n        <Row s={12}>\r\n          <Col s={8}>\r\n            {/* <Hashtags data={this.props.data.Hashtag} /> */}\r\n            {this.renderHashtags()}\r\n          </Col>\r\n          {/* delete buttons */}\r\n          <Col s={4}><div align='right'>\r\n            {/* <Link to={\"/editClassRecord/\" + this.props.data.key}>\r\n              <Icon className=\"edit-record-icon\" small='true'>edit</Icon>\r\n            </Link> */}\r\n            {/* <Icon small='true'>delete</Icon> */}\r\n            <DeleteRecordPopup data={this.props.data}></DeleteRecordPopup>\r\n          </div></Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass Hashtag extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <span id='hash-span'>\r\n        {/* <option id = 'selectHash' onClick={this.onHashtagSelection}>{'#' + this.props.data + ' '}</option> */}\r\n        <Link id = 'selectHash' to={\"/studentProfile/classRecordFiltered/\" +this.props.student_id +'/'+this.props.data}>\r\n         {'#' + this.props.data + ' '}\r\n        </Link>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nclass DeleteRecordPopup extends Component {\r\n  state = {\r\n    checked: false,\r\n    open: false\r\n  }\r\n\r\n  check = (event) => {\r\n    this.setState({ checked: !this.state.checked });\r\n  }\r\n\r\n  deleteRecord = () => {\r\n    console.log(\"deleeeeeeete:\", this.props.data.key);\r\n    deleteDB('/Record/' + this.props.data.key);\r\n    window.location.reload();\r\n  }\r\n\r\n  closing = () => {\r\n    this.setState({ checked: false })\r\n  }\r\n\r\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{ width: '60%' }} trigger={<div style={{ display: \"inline-block\" }}><Icon className=\"InstructorNoteIcon\" small='true'>delete_forever</Icon></div>}\r\n        position=\"top right\" onClose={this.closing}>\r\n        {close => (\r\n          <div className=\"RecordDeleteContainer\">\r\n            <span className=\"RecordDeleteTitle\">\r\n              Delete Record\r\n              </span>\r\n            <br />\r\n            <Checkbox className=\"RecordDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\" />\r\n            <span className=\"RecordDeleteWarningText\">I hereby understand that I </span>\r\n            <span className=\"RecordDeleteWarningTextImportant\">cannot recover</span>\r\n            <span className=\"RecordDeleteWarningText\"> the deleted record.</span>\r\n            <br />\r\n            <br />\r\n            <button className=\"close pink-cancel-button\" onClick={close}>\r\n              No\r\n                </button>\r\n            {this.state.checked ? (\r\n              <button className=\"close pink-cancel-button\" style={{ float: \"right\" }} onClick={this.deleteRecord}>\r\n                Yes\r\n                </button>\r\n            ) : null}\r\n          </div>)\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default ClassRecordFiltered\r\n","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport '../../css/Students/StudentProfile.css'\r\nimport '../../css/Students/InstructorsNote.css'\r\nimport {Redirect} from 'react-router'; \r\nimport Demographic from './Demographic'\r\nimport {Textarea} from 'react-materialize';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from 'react-materialize'\r\nimport '../../css/Common.css'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, updateChild, download_picture} from '../../config/fire';\r\n\r\n\r\n/* no use!!! */\r\n\r\nexport class EditClassRecord extends Component {\r\n\r\n  state = {\r\n    textcontent : \"\",\r\n    loaded: false,\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true\r\n}\r\n\r\nconstructor(props) \r\n{\r\n  super(props);\r\n  getFireDB('/User').then(\r\n    result => {\r\n      var userList = result.val();\r\n      var args;\r\n      for(var key in userList) {\r\n        args = userList[key];\r\n        if(args['id']==this.props.match.params.student_id) {\r\n          break;\r\n        }\r\n      }\r\n      this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n      download_picture(args['picture'], this);\r\n    }\r\n  )\r\n  getFireDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id).then(\r\n    result => {\r\n      this.setState({textcontent: result.val(), loaded: true})\r\n    }\r\n  )\r\n}\r\n\r\n  handlecontentChange = e=> {\r\n    this.setState({textcontent: e.target.value});\r\n  }\r\n\r\n  confirm = ()=> {\r\n    if(this.state.textcontent.length!=0)\r\n    {\r\n      updateChild('/Note/'+this.props.match.params.student_id, this.props.match.params.instructor_id, this.state.textcontent);\r\n      return;\r\n    }\r\n    else\r\n    {\r\n      deleteDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <div style = {{width:\"100%\"}} className=\"content InstructorsNoteContent\">\r\n        <div>\r\n            <Topbar name=\"Instructor's Note\" showBack={true} \r\n                  backTo = {\"/BOBO/#/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\r\n                                this.props.match.params.student_id}></Topbar>\r\n        </div>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        {this.state.loaded?\r\n        <div className=\"NoteContainer\">\r\n          <div style={{width: \"100%\", display: \"table\", textAlign:\"center\"}}>\r\n            <Textarea placeholder=\"Write note on this student\" style={{width: \"90%\", display: \"table-cell\"}}\r\n              onChange={this.handlecontentChange} value={this.state.textcontent} />\r\n          </div>\r\n          <Link to={\"/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\r\n                      this.props.match.params.student_id}>\r\n            <Button className=\"CommonButton\" style={{marginLeft: \"20px\"}} >\r\n              Cancel\r\n            </Button>\r\n            <Button className=\"CommonButton\" style={{marginRight: \"20px\", float:\"right\"}} onClick={this.confirm}>\r\n              Confirm\r\n            </Button>\r\n          </Link>\r\n        </div> : (<div  style={{textAlign:\"center\", fontSize:\"20px\", fontWeight:\"bold\"}}>Loading...</div>)\r\n        }\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditClassRecord","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport '../../css/Students/StudentProfile.css'\r\nimport '../../css/Students/InstructorsNote.css'\r\nimport {Redirect} from 'react-router';\r\nimport Demographic from './Demographic'\r\nimport {Textarea} from 'react-materialize';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from 'react-materialize'\r\nimport '../../css/Common.css'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, updateChild, download_picture} from '../../config/fire';\r\nimport { getLoginId } from '../../config/ID';\r\n\r\nexport class InstructorsNoteAddModify extends Component {\r\n\r\n  state = {\r\n    textcontent : \"\",\r\n    loaded: false,\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true\r\n  }\r\n\r\n\r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    getFireDB('/User').then(\r\n      result => {\r\n        var userList = result.val();\r\n        var args;\r\n        for(var key in userList) {\r\n          args = userList[key];\r\n          if(args['id']==this.props.match.params.student_id) {\r\n            break;\r\n          }\r\n        }\r\n        console.log(args);\r\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n        download_picture(args['picture'], this);\r\n      }\r\n    )\r\n    getFireDB('/Note/'+this.props.match.params.student_id+'/'+getLoginId()).then(\r\n      result => {\r\n        console.log(result.val());\r\n        this.setState({textcontent: result.val(), loaded: true})\r\n      }\r\n    )\r\n  }\r\n\r\n  handlecontentChange = e=> {\r\n    this.setState({textcontent: e.target.value});\r\n  }\r\n\r\n  confirm = ()=> {\r\n    if(this.state.textcontent == null || this.state.textcontent.length!=0)\r\n    {\r\n      updateChild('/Note/'+this.props.match.params.student_id, getLoginId(), this.state.textcontent);\r\n      return;\r\n    }\r\n    else\r\n    {\r\n      deleteDB('/Note/'+this.props.match.params.student_id+'/'+getLoginId());\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <div style = {{width:\"100%\"}} className=\"content InstructorsNoteContent\">\r\n        <div>\r\n            <Topbar name=\"Instructor's Note\" showBack={true} \r\n                  backTo = {\"/BOBO/#/studentProfile/instructorsNote/\"+\r\n                                this.props.match.params.student_id}></Topbar>\r\n        </div>\r\n        <div className=\"NoteContainer\">\r\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n          <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n          {this.state.loaded?\r\n            <div>\r\n              <div style={{width: \"100%\", display: \"table\", textAlign:\"center\"}}>\r\n                <Textarea placeholder=\"Write note on this student\" style={{width: \"90%\", display: \"table-cell\"}}\r\n                  onChange={this.handlecontentChange} value={this.state.textcontent} />\r\n              </div>\r\n              <Link to={\"/studentProfile/instructorsNote/\"+\r\n                          this.props.match.params.student_id}>\r\n                <Button className=\"CommonButton\" style={{marginLeft: \"20px\"}} >\r\n                  Cancel\r\n                </Button>\r\n                <Button className=\"CommonButton\" style={{marginRight: \"20px\", float:\"right\"}} onClick={this.confirm}>\r\n                  Confirm\r\n                </Button>\r\n              </Link>\r\n            </div> : (<div  style={{textAlign:\"center\", fontSize:\"20px\", fontWeight:\"bold\"}}>Loading...</div>)\r\n          }\r\n        </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InstructorsNoteAddModify","import React, { Component } from 'react'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../config/fire.js';\r\nimport {Redirect} from 'react-router';\r\nimport {Button} from 'react-materialize'\r\nimport photo from './BOBO_logo.jpeg'\r\nimport {Textarea, TextInput} from 'react-materialize';\r\n\r\nimport \"../css/login.css\"\r\nimport Table from 'react-materialize/lib/Table';\r\nimport \"../config/ID\"\r\nimport { LOGIN_ID, setLoginId, getLoginId, setLoginName, getLoginName, logout } from '../config/ID';\r\n\r\n\r\nexport class LogIn extends Component {\r\n\r\n  userList = null;\r\n\r\n  state={\r\n      redirect:false,\r\n      target:\"Loading...\",\r\n      url: \"\",\r\n      mount:true,\r\n      id : '',\r\n      pw : '',\r\n      login_error: false\r\n  }\r\n\r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    logout();\r\n    getFireDB('/User').then(\r\n      result => {\r\n        this.userList = result.val();\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  handleIdChange = e=> {\r\n    this.setState({id: e.target.value});\r\n  }\r\n\r\n  handlePwChange = e=> {\r\n    this.setState({pw: e.target.value});\r\n  }\r\n\r\n  tryLogin = () => {\r\n    var typed_id = this.state.id;\r\n    var typed_pw = this.state.pw;\r\n    for(var key in this.userList)\r\n    {\r\n      var user = this.userList[key];\r\n      if('login_id' in user)\r\n      {\r\n        if(user['login_id'] == typed_id && user['pw'] == typed_pw)\r\n        {\r\n          this.loginSuccess(user['id'], user['name']);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    this.setState({login_error: true});\r\n  }\r\n\r\n  loginSuccess = (id, name) => {\r\n    setLoginId(id);\r\n    setLoginName(name);\r\n    this.setState({target:'/studentList/',\r\n                    redirect:true});\r\n  }\r\n\r\n  render() {\r\n      if(this.state.redirect)\r\n          return (<Redirect to={this.state.target}></Redirect>);\r\n      return (\r\n        <div style={{height: '100%', width: '100%', display: 'table', textAlign: 'center'}}>\r\n          <div align='center' style={{display: \"table-cell\", verticalAlign:'middle'}}>\r\n            <img src={photo} alt=\"photo\" width='150px' height='150px' style={{}}></img>\r\n            <Textarea placeholder=\"ID\" style={{width: \"60%\"}}\r\n                onChange={this.handleIdChange} value={this.state.id} />\r\n\r\n            <TextInput password placeholder=\"*****\" style={{width: \"60%\"}}\r\n                onChange={this.handlePwChange} value={this.state.pw} />\r\n                \r\n            {this.state.login_error? <div style={{width: '60%', textAlign:'left', fontSize:'12px',\r\n                                                  color:'darkred', lineHeight:'13px', letterSpacing:'1px'}}>\r\n                                      <span>Wrong id or pw.</span>\r\n                                      <br/>\r\n                                      <span>Try sample (ID: test, PW: 1234)</span>\r\n                                    </div> \r\n                                : <span></span>}\r\n            <Button id='login-button' onClick={this.tryLogin}>LogIn!</Button>\r\n          </div>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default LogIn","import React, { Component } from 'react'\r\n\r\nexport class Donation extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"content\" style={{textAlign: \"center\"}}>\r\n        <br/><br/><br/><br/><br/>\r\n        <span className=\"DonationTitle\">Please help us implement profile modification.</span>\r\n        <br/><br/><br/><br/><br/>\r\n        <span className=\"DonationTitle\">How can I make contribution?</span>\r\n        <br/>\r\n        <br/>\r\n        <span className=\"DonationContent\">Donation: Woori Bank </span>\r\n        <span className=\"DonationContent\">1002-791-950310, Jungwoo Kim</span>\r\n        <br/>\r\n        <br/>\r\n        <span className=\"DonationLastWord\">Your support is very much appreciated.</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Donation","import React from 'react';\r\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport \"materialize-css/dist/css/materialize.css\"\r\nimport \"materialize-css/dist/js/materialize.min.js\"\r\n\r\nimport '../css/App.css'\r\n\r\nimport Menu from './Menu';\r\nimport StudentList from \"./Students/StudentList\";\r\nimport UploadClassRecord from \"./UploadClassRecord/ClassRecord\";\r\nimport NoticeBoard from \"./Notices/BoardList\";\r\nimport Settings from \"./Settings/Settings\";\r\nimport Board from './Notices/Board';\r\nimport AddBoard from \"./Notices/AddBoard\";\r\nimport Notice from './Notices/Notice';\r\nimport AddNotice from './Notices/AddNotice';\r\nimport StudentProfile from \"./Students/StudentProfile\";\r\nimport InstructorsNote from \"./Students/InstructorsNote\";\r\nimport ClassRecord from \"./Students/ClassRecord\";\r\nimport ClassRecordFiltered from \"./Students/ClassRecordFiltered\";\r\nimport EditClassRecord from \"./Students/EditClassRecord\";\r\nimport InstructorsNoteAddModify from './Students/InstructorsNoteAddModify';\r\nimport LogIn from './LogIn';\r\nimport Donation from './Donation';\r\n\r\nimport { fire} from '../config/fire';\r\nfunction App() {\r\n  fire();\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"container\">\r\n        <Route path=\"/studentList/\" component={StudentList}/>\r\n        <Route path=\"/studentProfile/main/:student_id\" component={StudentProfile}/>\r\n        <Route path=\"/studentProfile/instructorsNote/:student_id\" component={InstructorsNote}/>\r\n        <Route path=\"/studentProfile/instructorsNoteAddModify/:student_id\" component={InstructorsNoteAddModify}/>\r\n        <Route path=\"/studentProfile/classRecord/:student_id\" component={ClassRecord}/>\r\n        <Route path=\"/studentProfile/classRecordFiltered/:student_id/:hash\" component={ClassRecordFiltered}/>\r\n        <Route path=\"/studentProfile/editClassRecord/:key\" component={EditClassRecord}/>\r\n        <Route path=\"/classRecord\" component={UploadClassRecord}/>\r\n        <Route exact path=\"/addBoard\" component={AddBoard}/>\r\n        <Route exact path=\"/board\" component={NoticeBoard}/>\r\n        <Route exact path=\"/board/:id/addNotice\" component={AddNotice}/>\r\n        <Route exact path=\"/board/:id\" component={Board}/>\r\n        <Route exact path=\"/board/:id/notice/:id\" component={Notice}/>\r\n        <Route exact path=\"/settings\" component={Settings}/>\r\n        <Route exact path=\"/donation\" component={Donation}/>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={LogIn}/>\r\n          <Route exact path=\"*\" component={Menu}/>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}