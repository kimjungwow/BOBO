{"version":3,"sources":["components/Students/basic.png","config/fire.js","components/Menu.js","components/Topbar.js","components/Students/StudentList.js","components/UploadClassRecord/ClassRecord.js","components/Notices/BoardListItem.js","components/Notices/BoardList.js","components/Settings/Settings.js","components/Notices/NoticeListItem.js","components/Notices/Board.js","components/Notices/AddBoard.js","components/Notices/QuestionListItem.js","components/Notices/Notice.js","components/Notices/AddNotice.js","components/Students/Demographic.js","components/Students/StudentProfile.js","components/Students/InstructorsNote.js","components/Students/ClassRecord.js","components/Students/EditClassRecord.js","components/Students/InstructorsNoteAddModify.js","components/LogIn.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","database","storage","Menu","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","react_default","a","createElement","className","react_router_dom","to","lib","medium","Component","Topbar","id","s","props","name","showBack","node","floating","small","waves","icon","href","backTo","showOptional","optionalComponent","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","fire","firebase","length","getFireDB","dir","ref","once","getPictureURL","_this","snapshot","forEach","child","val","setState","url","picture","originurl","pushDB","obj","push","pushMultipleDB","objs","updates","_obj","update","setDB","set","deleteDB","remove","getFireDB_arr","target","type","want","targetref","temparr","defineProperty","updateChild","childName","upload_file","file","filename","uploadTask","put","on","progress","bytesTransferred","totalBytes","console","log","state","TaskState","PAUSED","RUNNING","error","getDownloadURL","then","downloadURL","download_picture","pictureurl","Storageref","strarray","split","mount","catch","StudentList","call","Students","CurrentUser","autocompleteData","Test","Test2","StudentFiltered","ClassTable","curr_instructor","match","params","instructor_id","componentDidMount","reduce","_acc","_student","objectSpread","showAutocomplete","assertThisInitialized","result","onAutocomplete","_studentName","find","redirect","redirectTo","onClassSelection","e","document","getElementById","selectedClass","options","selectedIndex","text","filter","class","showSelectClass","renderStudentList","map","StudentList_StudentListItem","data","instructor","renderStudentFilteredList","renderClassList","_class","StudentList_ClassListItem","react_router","components_Topbar","placeholder","style","alignItems","onChange","width","disabled","selected","ClassListItem","onClick","StudentListItem","_this2","givesrc","marginTop","marginBotton","height","src","photo","alt","PopupExample","reactjs_popup_es","trigger","position","close","float","ClassRecord","doneonClick","INITIAL_STATE","InstructorID","StudentID","textname","textcontent","student","autocomplete_student","date","handlenameChange","handlecontentChange","Date","getTime","x","files","_res","inputElementcontent","inputElementname","fileclick","inputElementfile","click","galleryclick","inputElementgallery","cameraclick","inputElementcamera","setRef","_input","bind","action","handlefileChange","multiple","_input2","accept","_input3","capture","color","ClassRecord_PopupExample","BoardListItem","NoticeBoard","Boards","BoardUserMap","validBoards","res","DB","Board","validBoardIds","_mapElem","userId","boardId","_board","indexOf","_boardName","board","renderBoardList","Notices_BoardListItem","Settings","NoticeListItem","_getPrototypeOf2","_len","args","Array","_key","concat","onTypeClick","onItemClick","pathname","formatDate","_date","day","getDate","monthIndex","getMonth","getFullYear","renderTypeBadge","toUpperCase","display","important","questionCnt","expireDate","Notices","validNotices","displayNotices","getBoardId","parseQuery","queryString","location","search","query","pairs","substr","i","pair","decodeURIComponent","page","notices","questions","Question","Notice","_question","noticeId","sort","_elem1","_elem2","_notice","end","Math","min","slice","onPageSelect","_i","_Object$entries","entries","_ref3","_ref2","slicedToArray","encodeURIComponent","history","window","reload","_type","_i2","_Object$entries2","_ref6","_ref5","renderNoticeItems","Notices_NoticeListItem","activePage","maxButtons","items","ceil","onSelect","AddBoard","Users","seletedUsers","Set","nextBoardId","User","onChkBoxChange","has","delete","add","onNameChange","addBoard","boardName","BUobjs","_userId","renderUserCheckbox","_user","toString","label","title","QuestionListItem","showAnswerCard","showNewAnswer","newAnswer","onReplyBtnClick","onNewAnswerChange","answerContent","onNewAnswerBtnClick","onAnswer","answer","renderQuestionHeader","userName","flat","createDate","header","content","floor","random","persistent","getNoticeId","onNewQuestionChange","newQuestionContent","onAnswerBtnClick","_questionObj","onNewQuestionBtnClick","questionObj","nextQuestionId","renderQuestions","Notices_QuestionListItem","noticeObj","AddNotice","onImportantChange","onPersistentChange","onExpireDateChange","onTypeChange","onNoticeAdd","nextNoticeId","noticeName","noticeContent","Demographic","paddingTop","paddingBottom","backgroundImage","ImageURL","Name","Class","Age","Tel","StudentProfile","redirectToClassRecord","student_id","redirectToInstructorsNote","userList","border","backgroundColor","components_Students_Demographic","DeletePopup","checked","open","check","event","deleteNote","closing","contentStyle","onClose","InstructorsNote","_Component2","_this3","loaded","Notes","setNotes","notes","notesRaw","Instructor","Content","renderNoteList","textAlign","fontSize","fontWeight","myNoteExists","noteList","_note","InstructorsNote_Note","InstructorsNote_MyNote","Note","MyNote","InstructorsNote_DeletePopup","marginLeft","Records","Text","Hashtag","renderRecordList","_record","ClassRecord_MyRecordListItem","test","passSetState","ClassRecord_RecordListItem","RecordListItem","ClassRecord_Hashtags","MyRecordListItem","align","ClassRecord_DeleteRecordPopup","Hashtags","_elem","ClassRecord_Hashtag","onHashtagSelection","DeleteRecordPopup","deleteRecord","_this4","EditClassRecord","confirm","marginRight","InstructorsNoteAddModify","LogIn","loginSuccess","App","path","component","exact","UploadClassRecord","Boolean","hostname","ReactDOM","render","components_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8f4097a0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/basic.38eea7b4.png\";","import * as firebase from 'firebase'\nlet database;\nlet storage;\nlet config = {\n    apiKey: \"AIzaSyA5_bIw4uLv00p40TzdHn6MsG3zmIScw24\",\n    authDomain: \"cs374-bobo.firebaseapp.com\",\n    databaseURL: \"https://cs374-bobo.firebaseio.com\",\n    projectId: \"cs374-bobo\",\n    storageBucket: \"cs374-bobo.appspot.com\",\n    messagingSenderId: \"639352671004\"\n}\nexport const fire = () => {\n    if (!firebase.apps.length) {\n        firebase.initializeApp(config);\n    }\n  database = firebase.database()\n  \n  storage = firebase.storage()\n\n}\nexport const getFireDB = (dir) => {\n  if (dir===null)\n    dir = '/';\n  return database.ref(dir).once('value')\n}\n\nexport const getPictureURL = (name, _this) => {\n  var targetref = database.ref('/User/');\n  var url=\"\"\n  targetref.once('value', function(snapshot) {\n    snapshot.forEach(function(child){\n      if(child.val().name === name)\n      {\n        \n        _this.setState({url:child.val().picture});\n        _this.setState({originurl:child.val().picture});\n\n        \n      }\n    })\n    \n  })\n  \n}\n\nexport const pushDB = (dir, obj) => {\n  return database.ref(dir).push(obj);\n}\n\nexport const pushMultipleDB = (dir, objs) => {\n  var updates = {};\n  let ref = database.ref(dir);\n  objs.forEach(_obj => {\n    updates[ref.push().key] = _obj;\n  });\n  return ref.update(updates);\n}\n\nexport const setDB = (dir, obj) => {\n  return database.ref(dir).set(obj);\n}\n\nexport const deleteDB = (dir) => {\n  database.ref(dir).remove();\n}\n\nexport const getFireDB_arr = (dir, _this, target, type, want) => {\n  if (dir===null)\n    dir = '/';\n  var targetref = database.ref(dir);\n  var temparr = [];\n  targetref.once('value', function(snapshot) {\n    snapshot.forEach(function(child){\n      if(type)\n      {   \n        if(child.val()[type] === want)\n        {\n          temparr.push(child.val());\n          _this.setState({[target]:temparr});\n        }\n      }\n      else \n      {\n        temparr.push(child.val());\n        _this.setState({[target]:temparr});\n      }     \n    })\n  })\n  \n  return temparr\n}\n\nexport const updateChild = (dir, childName, value) => {\n  database.ref(dir).update({[childName]: value});\n}\n\n  \nexport const upload_file = (dir, file, filename) => {\n  let target = storage.ref(dir + filename);\n  //target.put(file);\n  var uploadTask = target.put(file);\n\n  // Register three observers:\n  // 1. 'state_changed' observer, called any time the state changes\n  // 2. Error observer, called on failure\n  // 3. Completion observer, called on successful completion\n  uploadTask.on('state_changed', function(snapshot){\n    // Observe state change events such as progress, pause, and resume\n    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n    var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n    console.log('Upload is ' + progress + '% done');\n    switch (snapshot.state) {\n      case firebase.storage.TaskState.PAUSED: // or 'paused'\n        console.log('Upload is paused');\n        break;\n      case firebase.storage.TaskState.RUNNING: // or 'running'\n        console.log('Upload is running');\n        break;\n    }\n  }, function(error) {\n    // Handle unsuccessful uploads\n  }, function() {\n    // Handle successful uploads on complete\n    // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n    uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\n      console.log('File available at', downloadURL);\n    });\n  });\n}\n\n\nexport const download_picture = (pictureurl, _this) => {\n  var Storageref = storage.ref();\n  \n  var strarray = pictureurl.split('/')\n  const images = Storageref.child(strarray[0])\n  const image = images.child(strarray[1]) \n\n  storage.ref('User').child(strarray[1]).getDownloadURL().then(function(url) {\n      \n      \n      _this.setState({url});\n    \n      _this.setState({mount:false});\n\n  }).catch(function(error) {\n    // Handle any errors\n    _this.setState({mount:false});\n    \n    return;\n  });\n}","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport { Icon } from 'react-materialize';\n\nimport \"../css/Menu.css\";\n\nexport class Menu extends Component {\n  render() {\n    return (\n      <div className=\"menu\">\n        <div className=\"menu-item\"><Link to=\"/studentList/tommy11\">\n          <Icon className=\"menu-icon\" medium='true'>assignment_ind</Icon>\n          </Link></div>\n        <div className=\"menu-item\"><Link to=\"/classRecord\">\n          <Icon className=\"menu-icon\" medium='true'>add_box</Icon>\n          </Link></div>\n        <div className=\"menu-item\"><Link to=\"/board\">\n          <Icon className=\"menu-icon\" medium='true'>assignment</Icon>\n          </Link></div>\n        <div className=\"menu-item\"><Link to=\"/settings\">\n          <Icon className=\"menu-icon\" medium='true'>settings</Icon>\n          </Link></div>\n      </div>\n    )\n  }\n}\n\nexport default Menu\n","import React, { Component } from 'react';\nimport {Row, Col, Button} from 'react-materialize';\nimport \"../css/Topbar.css\";\n\nexport class Topbar extends Component {\n  render() {\n    return (\n      <Row id=\"topbar-row\">\n        <Col s={12}>\n          <div id=\"topbar-container\">\n            <span id=\"topbar\">{this.props.name}</span>\n            {this.props.showBack ? <Button id=\"topbar-back-btn\" node=\"a\" floating small waves=\"light\" icon=\"arrow_back\" href={this.props.backTo}/>: <span></span>}\n            {this.props.showOptional? this.props.optionalComponent : <span></span>}\n          </div>\n        </Col>\n      </Row>\n    )\n  }\n}\n\nexport default Topbar\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport {Link} from 'react-router-dom'\nimport Popup from 'reactjs-popup'\nimport { Row, Col, Collection, CollectionItem, Autocomplete, Button, Dropdown, Select, Divider } from 'react-materialize';\n\nimport Topbar from \"../Topbar\";\n//import StudentListItem from './StudentListItem';\n//import ClassListItem from './ClassListItem';\nimport { fire, getFireDB_arr, getFireDB, download_picture, getPictureURL } from '../../config/fire'\nimport \"../../css/Students/StudentList.css\"\nimport photo from './basic.png'\n\nexport class StudentList extends Component {\n\n  state = {\n    Students: [],\n    CurrentUser: {\n      id: 1,\n      name: \"Juho Kim\"\n    },\n    autocompleteData: { Test: null, Test2: null },\n    StudentFiltered: [],\n    ClassTable: [],\n    curr_instructor: this.props.match.params.instructor_id\n  }\n\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount = () => {\n    console.log('teacher:',this.state.curr_instructor)\n    var autocompleteData = this.state.Students.reduce((_acc, _student) => {\n      return { ..._acc, [_student.name]: null };\n    }, {});\n    this.setState({ ...this.state, autocompleteData, showAutocomplete: true });\n    getFireDB_arr('User/', this, 'Students', 'type', 'parent');\n    getFireDB('Class/').then (\n      result => {\n        console.log(\"classtable: \",result.val())\n        var classtable = result.val();\n        this.setState({ ...this.state, ClassTable: result.val() });\n      }\n    )\n  }\n\n  onAutocomplete = (_studentName) => {\n    var student = this.state.Students.find(_student => _student.name === _studentName)\n    this.setState({ ...this.state, redirect: true, redirectTo: \"/BOBO/studentProfile/main/\"+this.state.curr_instructor+\"/\"  }); //FIXME: id instead tommy\n  }\n\n  onClassSelection = e => {\n    var s = document.getElementById(\"selection\")\n    var selectedClass = s.options[s.selectedIndex].text\n    console.log(\"selected class: \",selectedClass)\n    var StudentFiltered = this.state.Students.filter(_student => {\n      console.log(\"**\", _student.name, _student.class)\n      return _student.class === selectedClass\n    })\n    console.log(\"filt:\",StudentFiltered)\n    this.setState({ ...this.state, selectedClass, StudentFiltered, showSelectClass: true });\n  }\n\n\n  renderStudentList = () => {\n    return this.state.Students.map(_student => {\n      return <StudentListItem data={_student} instructor={this.state.curr_instructor} />\n    });\n  }\n\n  renderStudentFilteredList = () => {\n    console.log('renderfilter:', this.state.StudentFiltered)\n    return this.state.StudentFiltered.map(_student => {\n      return <StudentListItem data={_student} instructor={this.state.curr_instructor} />\n    });\n  }\n\n  renderClassList = () => {\n    return this.state.ClassTable.map(_class => {\n      return <ClassListItem data={_class}/>\n    });\n  }\n\n  render() {\n    if (this.state.redirect)\n      return <Redirect to={this.state.redirectTo} />\n\n    return (\n      <div className='content student-list-content'>\n        <div><Topbar id='class-record-topbar' name=\"Student List\" /> </div>\n        { /* search */}\n        <Row id=\"student-list-search-row\">\n          <Col s={12}>\n            {this.state.showAutocomplete ?\n              <Autocomplete\n                options={{ data: this.state.autocompleteData, onAutocomplete: this.onAutocomplete }}\n                placeholder=\"Search by student name\"\n                icon=\"search\"\n                s={12} /> :\n              <span></span>\n            }\n          </Col>\n        </Row>\n\n        {/* select class */}\n        <Row id=\"select-class-row\" style={{ alignItems: 'center' }}>\n          <Col s={12}>\n            <Select\n              id='selection'\n              onChange={this.onClassSelection}\n              style={{ width: '100%' }}>\n              <option value=\"\" disabled selected>Select a class</option>\n              {this.renderClassList()}\n            </Select>\n          </Col>\n        </Row>\n\n        {/* show student list */}\n        <Row id=\"show-student-list-row\">\n          <Col className=\"showStudentList\" s={12}>\n            {this.state.showSelectClass ?\n              <Collection>\n                {this.renderStudentFilteredList()}\n              </Collection>\n              :\n              <Collection>\n                {this.renderStudentList()}\n              </Collection>\n            }\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\n\nclass ClassListItem extends Component {\n  render() {\n    return (\n      <option value={this.props.data} onClick>\n        {this.props.data}\n      </option>\n    )\n  }\n}\n\n\nclass StudentListItem extends Component {\n  constructor(props){\n    super(props);\n    fire();\n    this.state={\n      url: \"\",\n      mount:true,\n      originurl: \"\",\n    }\n  }\n  \n  givesrc = (name) => {\n    getPictureURL(name, this);\n    if(this.state.url)\n      return download_picture(this.state.url,this);\n  }\n\n  shouldComponentUpdate() {\n    return this.state.mount;\n  }\n  \n  render() {\n    this.givesrc(this.props.data.name);\n        \n    return (\n      <CollectionItem className=\"student\" href={\"/BOBO/studentProfile/main/\" +this.props.instructor +'/'+this.props.data.id}>\n        <Row className=\"studentChild\" style={{ marginTop: '0px', marginBotton: '0px', height: '70px' }}>\n          {/* profile image */}\n          <Col s={3} style={{ alignItems: 'center' }}>\n            {/* <img className=\"profileImage\" id=\"profile\" src={purl} alt=\"photo\" width='70px' height='70px'></img> */}\n            <img className=\"profileImage\" src={ this.state.url===this.state.originurl ? photo : this.state.url} alt=\"photo\" width='70px' height='70px'></img>\n          </Col>\n          {/* name and class */}\n          <Col className=\"studentItem\" s={9} >\n            <div className=\"studentItemChild\">\n              <div className='studentName'>{this.props.data.name}</div>\n              <br></br>\n              {this.props.data.class}\n            </div>\n          </Col>\n        </Row>\n      </CollectionItem>\n    )\n  }\n}\n\n\nexport default StudentList","import React, { Component } from 'react'\nimport {Button, Textarea} from 'react-materialize';\nimport Topbar from \"../Topbar\";\nimport '../../css/ClassRecord.css';\nimport Popup from \"reactjs-popup\";\nimport {Link} from 'react-router-dom';\nimport { fire, getFireDB_arr, pushDB, upload_file} from '../../config/fire';\nimport {Redirect} from 'react-router';\n\n\n\nconst PopupExample =  () => (\n  <Popup trigger={<Button className=\"pinkcancelbutton buttonleft\" >Cancel</Button>} position=\"top left\">\n    {close => (\n      <div>\n        <p>Are you sure to cancel?<br></br><br></br></p>\n\n          <Button className=\"close pinkcancelbutton\" onClick={close}>No</Button>\n          <Link to=\"/BOBO\">\n            <Button className=\"close pinkcancelbutton\" style={{float:\"right\"}} onClick={ClassRecord.doneonClick}>\n              Yes\n            </Button>\n          </Link>\n      </div>\n    )}\n  </Popup>\n)\n\n\n\nconst INITIAL_STATE = {\n  InstructorID:'teacher101',\n  StudentID: '',\n  textname: '',\n  textcontent:'',\n  file:null,\n  student:[],\n  autocomplete_student:[],\n  date:'',\n  redirectTo: \"\",\n  disabled: false,\n};\n\nexport class ClassRecord extends Component {\n  constructor(props){\n    super(props);\n    fire();\n    this.state={...INITIAL_STATE}\n    this.setRef = ref => {\n      this.file = ref;\n    }\n  }\n\n  componentDidMount = () => {\n    \n    getFireDB_arr('User/',this,'autocomplete_student','type','parent');\n  }\n  \n\n  \n  handlenameChange = e =>\n  {\n    this.setState({textname : e.target.value});\n    console.log(this.props.firebase)\n    //this.props.firebase.user(\"note2\").set({name:\"note222\"});\n  }\n  handlecontentChange = e =>\n  {\n    this.setState({textcontent : e.target.value});\n  }\n  handlefileChange(e) {\n  this.setState({file:e.target.files});\n  }\n  doneonClick = () =>\n  {\n    console.log(this.state);\n    var obj = {...this.state};\n    obj.date = new Date().getTime();\n    \n    delete obj.autocomplete_student;\n    delete obj.redirectTo;\n\n    if(obj.file)\n    {\n      var x = document.getElementById(\"inputfile\");\n      console.log(x.files[0]);\n      // var blob = new Blob(obj.file[0],{ type: \"image/jpg\" });\n      upload_file('images/', x.files[0], x.files[0].name);\n    }\n\n    pushDB(\"Record\", obj)\n    .then(_res => {\n      this.inputElementcontent.value= \"\";\n      this.inputElementname.value=\"\";\n      this.setState({...this.state,/*StudentID: ,*/ redirect: true, redirectTo: \"/BOBO/studentList/0\" });\n    });\n  }\n\n  fileclick = () => {\n\n    this.inputElementfile.click();      \n\n\n\n  }\n  galleryclick = () => {\n    this.inputElementgallery.click();\n  }\n  cameraclick = () => {\n    this.inputElementcamera.click();\n  }\n\n  \n  render() {\n    if(this.state.redirect)\n    return <Redirect to={this.state.redirectTo}/>\n\n    return (\n        <div className=\"content\">\n          <Topbar name=\"Upload Class Record\" showBack={false} backTo=\"/BOBO\"/>    \n\n        <div className=\"row\">\n          <div className=\"col s12\">\n            Students:\n            <div className=\"input-field inline\">\n              <input type=\"text\"  ref={_input => this.inputElementname = _input} onChange={this.handlenameChange.bind(this)}/>\n              <label>Write student's name</label>\n            </div>\n          </div>\n        </div>\n        <div className=\"buttons\">\n          <form action=\"#\" >\n              <div className=\"btn pinkbutton buttonleft\" onClick={this.fileclick}>\n                <input ref={_input => this.inputElementfile = _input}  id=\"inputfile\" type=\"file\" onChange={this.handlefileChange.bind(this)} multiple name=\"File\"/>\n                <label className=\"bigfont\">File</label>\n              </div>           <div className=\"btn pinkbutton\" onClick={this.galleryclick}>\n                <input ref={_input2 => this.inputElementgallery = _input2} type=\"file\" accept=\"image/*;capture=camera\"/>\n                <label className=\"bigfont\">Camera</label>\n              </div>           <div className=\"btn pinkbutton\" onClick={this.cameraclick}>\n                <input ref={_input3 => this.inputElementcamera = _input3} type=\"file\" accept=\"image/*\" capture=\"camera\"/>\n                <label className=\"bigfont\">Gallery</label>\n              </div>\n              \n            </form>\n          </div>\n          <hr className=\"bottommargin\" color=\"#d3d3d3\"></hr>\n          <div className=\"bottommargin\">\n            <Textarea placeholder=\"Write class records..\n              #classs #amy\"\n              onChange={this.handlecontentChange}  ref={_input => this.inputElementcontent = _input} value={this.state.textcontent}/>\n              <div className=\"row\">\n                <PopupExample/>\n                <Button waves=\"light\" onClick={this.doneonClick.bind(this)}\n                  className=\"buttonright pinkcancelbutton\">\n                  Done\n                </Button>\n              </div>\n            </div>\n        </div>\n    )\n  }\n}\nexport default ClassRecord;","import React, { Component } from 'react';\nimport {CollectionItem} from 'react-materialize';\n\nexport class BoardListItem extends Component {\n  render() {\n    return (\n      <CollectionItem href={\"/BOBO/#/board/\" + this.props.data.id} className=\"CommonText\">\n        {this.props.data.name}\n      </CollectionItem>\n    )\n  }\n}\n\nexport default BoardListItem\n","import React, { Component } from 'react';\nimport BoardListItem from \"./BoardListItem\";\nimport Topbar from \"../Topbar\";\nimport {Row, Col, Collection, Autocomplete, Button} from 'react-materialize';\nimport {Redirect} from 'react-router';\nimport { fire, getFireDB} from '../../config/fire';\n\nimport \"../../css/Notices/BoardList.css\";\nimport \"../../css/Common.css\";\n\nexport class NoticeBoard extends Component {\n  state = {\n    Boards: [],\n    BoardUserMap: [],\n    validBoards: [],\n    autocompleteData: {Test:null, Test2:null},\n    redirect: false,\n    redirectTo: -1,\n    CurrentUser: {\n      id: 2,\n      name: \"\"\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    fire();\n    // this.state = {\n    //   Boards : [ {\n    //       id: 1,\n    //       name: \"Class A\",\n    //     },{\n    //       id: 2,\n    //       name: \"Class B\",\n    //     },{\n    //       id: 3,\n    //       name: \"Class C\"\n    //     },{\n    //       id: 4,\n    //       name: \"Class D\",\n    //     },{\n    //       id: 5,\n    //       name: \"Class E\",\n    //     },{\n    //       id: 6,\n    //       name: \"Class F\"\n    //     }\n    //   ],\n    //   BoardUserMap : [{\n    //     userId: 1,\n    //     boardId: 1\n    //   }, {\n    //     userId: 1,\n    //     boardId: 2\n    //   }, {\n    //     userId: 2,\n    //     boardId: 1\n    //   }, {\n    //     userId: 1,\n    //     boardId: 4\n    //   }],\n    //   CurrentUser : {\n    //     id: 1,\n    //     name: \"\"\n    //   },\n    //   UnreadPosts : [{\n    //     userId: 1,\n    //     postId: 34,\n    //     boardId: 1 \n    //   }, {\n    //     userId: 1,\n    //     postId: 35,\n    //     boardId: 2\n    //   }, {\n    //     userId: 1,\n    //     postId: 36,\n    //     boardId: 1\n    //   }],\n    //   validBoards: [],\n    //   autocompleteData: {Test:null, Test2:null},\n    //   redirect: false,\n    //   redirectTo: -1,\n    // }\n  }\n\n  componentDidMount = () => {\n    getFireDB()\n    .then(res =>{\n      console.log(res.val());\n      let DB = res.val();\n      var Boards = [];\n      for( var key in DB.Board ) Boards.push(DB.Board[key]);\n      \n      var BoardUserMap = [];\n      for( var key in DB.BoardUserMap) BoardUserMap.push(DB.BoardUserMap[key]);\n\n      var validBoardIds = BoardUserMap.filter(_mapElem => {\n        return _mapElem.userId === this.state.CurrentUser.id;\n      }).map(_mapElem => {\n        return _mapElem.boardId;\n      });\n  \n      var validBoards = Boards.filter(_board => validBoardIds.indexOf(_board.id)>-1);\n      var autocompleteData = validBoards.reduce( (_acc, _board) => {\n        return {..._acc, [_board.name]:null};\n      }, {});\n      this.setState({...this.state, validBoards, autocompleteData, showAutocomplete:true});\n    });\n  }\n\n  onAutocomplete = (_boardName) => {\n    var board = this.state.validBoards.find(_board => _board.name === _boardName);\n    this.setState({...this.state, redirect: true, redirectTo: \"board/\" + board.id});\n  }\n\n  renderBoardList = () => {\n    return this.state.validBoards.map(_board => {\n      return <BoardListItem data={_board}/>\n    });\n  }\n\n  render() {\n    if(this.state.redirect)\n      return <Redirect to={this.state.redirectTo}/>\n\n    return (\n      <div className=\"content\">\n        <Topbar\n          name=\"Notice Boards\"\n          showOptional={true}\n          optionalComponent={<Button\n                              id=\"board-list-add-btn\"\n                              node=\"a\"\n                              floating small\n                              waves=\"light\"\n                              icon=\"add\"\n                              href={\"/BOBO/#/addBoard\"}/>}/>\n        <Row id=\"board-list-search-row\">\n          <Col s={12}>\n            {/* <TextInput id=\"notice-list-search\" s={12} icon=\"search\" placeholder=\"Search notice board name.\"/> */}\n            {this.state.showAutocomplete ?\n              <Autocomplete\n                options={{data: this.state.autocompleteData, onAutocomplete:this.onAutocomplete}}\n                placeholder=\"Search notice board name\"\n                icon=\"search\" s={12}/> :\n              <span></span>\n            }\n          </Col>\n        </Row>\n        <Row>\n          <Col s={12}>\n            <Collection>{this.renderBoardList()}</Collection>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nexport default NoticeBoard\n","import React, { Component } from 'react'\n\nexport class Settings extends Component {\n  render() {\n    return (\n      <div className=\"content\">\n        Settings\n      </div>\n    )\n  }\n}\n\nexport default Settings\n","import React, { Component } from 'react';\nimport {CollectionItem} from 'react-materialize';\nimport {Redirect} from 'react-router';\n\nexport class NoticeListItem extends Component {\n  state = {\n    redirect: false\n  }\n\n  onTypeClick = (e) => {\n    this.props.onTypeClick(this.props.data.type);\n  }\n\n  onItemClick = (e) => {\n    this.setState({redirect:true, redirectTo: this.props.pathname + \"/notice/\" + this.props.data.id});\n  }\n\n  formatDate = (_date) => {\n    var _date = new Date(_date);\n    var day = _date.getDate();\n    var monthIndex = _date.getMonth();\n    var year = _date.getFullYear();\n    return year + \"/\" + (monthIndex + 1) + \"/\" + day;\n  }\n\n  renderTypeBadge = () => {\n    //this.props.pathname + \"/notice/\" + this.props.data.id\n    return (<div className=\"notice-list-item-type\"\n                onClick={this.onTypeClick}>\n              {this.props.data.type[0].toUpperCase()}\n            </div>);\n  }\n\n  render() {\n    if(this.state.redirect)\n      return <Redirect to={this.state.redirectTo}/>\n\n    return (\n      <CollectionItem>\n        {this.renderTypeBadge()}\n        <div style={{width:\"90%\", display:\"inline-block\"}} onClick={this.onItemClick}>\n          <span className={this.props.data.important?\"important\" : \"none\"}></span>\n          {this.props.data.name}\n          <span className=\"notice-list-item-questions\"><span>{this.props.data.questionCnt}</span></span>\n          <span className=\"notice-list-item-expire\">Expired at {this.formatDate(this.props.data.expireDate)}</span>\n        </div>\n      </CollectionItem>\n    )\n  }\n}\n\nexport default NoticeListItem\n","import React, { Component } from 'react';\nimport Topbar from '../Topbar';\nimport {Button, Pagination, Row, Col, Collection} from 'react-materialize';\nimport NoticeListItem from './NoticeListItem';\nimport \"../../css/Notices/Board.css\";\nimport { fire, getFireDB} from '../../config/fire';\n\nexport class Board extends Component {\n  state = {\n    board: {\n      name: \"\"\n    },\n    Notices: [],\n    validNotices: [],\n    displayNotices: [],\n    redirect: false,\n    redirectTo: \"\",\n  }\n\n  constructor(props) {\n    super(props);\n    fire();\n  }\n\n  getBoardId = () => {\n    return this.props.match.params.id;\n  }\n\n  parseQuery = () => {\n    var queryString = this.props.location.search;\n    var query = {};\n    var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n    for (var i = 0; i < pairs.length; i++) {\n        var pair = pairs[i].split('=');\n        query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n    }\n    return query;\n  }\n\n  componentDidMount = () => {\n    // console.log(this.props);\n    getFireDB()\n    .then(_res => {\n      let DB = _res.val();\n      for(var key in DB.Board) {\n        if( DB.Board[key].id == this.getBoardId() * 1 ) {\n          this.state.board = DB.Board[key];\n        }\n      }\n\n      var query = this.parseQuery();\n      var page = query.page ? query.page * 1 : 1;\n      var type = query.type ? query.type : \"all\";\n      var notices = [];\n      var questions = [];\n\n      for(var key in DB.Question) questions.push(DB.Question[key]);\n      for(var key in DB.Notice) {\n        if(DB.Notice[key].boardId === this.getBoardId() * 1) {\n          var questionCnt = 0;\n          questions.forEach(_question => {\n            if(_question.noticeId === DB.Notice[key].id) questionCnt++;\n          });\n          notices.push({...DB.Notice[key], questionCnt});\n        }\n      }\n      notices.sort((_elem1, _elem2) => {\n        return _elem2.id - _elem1.id;\n      });\n\n      var validNotices = notices.filter(_notice => {\n        return new Date(_notice.expireDate) > new Date();\n      })\n      .filter(_notice=>(type===\"all\" || _notice.type===type));\n  \n      var end = Math.min(page*10, validNotices.length);\n      var displayNotices = validNotices.slice((page-1) * 10, end);\n  \n      this.setState({...this.state,\n        Notices: notices,\n        validNotices,\n        displayNotices,\n        page,\n        redirect: false});\n    });\n\n    //fetch board data\n    // var boardId = this.getBoardId();\n    \n\n    // var genRandomDate = (start, end) => {\n    //   return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));\n    // }\n\n    // var genRandomNum = (_max) => {\n    //   return Math.floor(Math.random() * _max);\n    // }\n\n    // for(var i = 0 ; i < 30; i ++) {\n    //   types.forEach(_type => {\n    //     notices.push({\n    //       id: id++,\n    //       type: _type,\n    //       name: _type + \" \" + id,\n    //       questions: [],\n    //       expireDate: genRandomDate(new Date(2019, 0, 1), new Date(2019, 11, 30)),\n    //       questionCnt: genRandomNum(10),\n    //       important: genRandomNum(3) == 1,\n    //       persistent: genRandomNum(5) == 1, \n    //     });\n    //   });\n    // }\n\n    // var validNotices = notices.filter(_notice => {\n    //   return _notice.expireDate > new Date();\n    // })\n    // .filter(_notice=>(type===\"all\" || _notice.type===type));\n\n    // var end = Math.min(page*10, validNotices.length);\n    // var displayNotices = validNotices.slice((page-1) * 10, end);\n\n    // this.setState({...this.state,\n    //   Notices: notices,\n    //   validNotices,\n    //   displayNotices,\n    //   page,\n    //   redirect: false});\n  }\n\n  componentWillReceiveProps() {\n    window.location.reload();\n  }\n\n  onPageSelect = (e) => {\n    var queryString = \"?page=\"+e;\n    var query = this.parseQuery();\n    for(let [key, value] of Object.entries(query)) {\n      if(key === \"page\") continue;\n      queryString += \"&\" + encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n    }\n    \n    this.props.history.push(this.props.location.pathname + queryString);\n    window.location.reload();\n  }\n\n  onTypeClick = (_type) => {\n    var queryString = \"?type=\"+_type;\n    var query = this.parseQuery();\n    for(let [key, value] of Object.entries(query)) {\n      if(key === \"type\") continue;\n      queryString += \"&\" + encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n    }\n\n    this.props.history.push(this.props.location.pathname + queryString);\n    window.location.reload();\n  }\n\n  renderNoticeItems = () => {\n    return this.state.displayNotices.map(_notice => {\n      return <NoticeListItem\n        pathname={this.props.location.pathname}\n        data={_notice}\n        onTypeClick={this.onTypeClick}/>\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"content\">\n        <Topbar\n          name={this.state.board.name}\n          showBack={true}\n          backTo=\"/BOBO/#/board\"\n          showOptional={true}\n          optionalComponent={<Button\n                              id=\"board-list-add-btn\"\n                              node=\"a\"\n                              floating small\n                              waves=\"light\"\n                              icon=\"add\"\n                              href={\"/BOBO/#/board/\" + this.getBoardId() + \"/addNotice\"}/>}/>\n        \n        <Row id=\"board-notice-list\">\n          <Collection>\n            {this.renderNoticeItems()}\n          </Collection>\n        </Row>\n        <div id=\"board-pagination-row\">\n          <Pagination\n            activePage={this.state.page}\n            maxButtons={6}\n            items={Math.ceil(this.state.validNotices.length / 10)}\n            onSelect={this.onPageSelect}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Board\n","import React, { Component } from 'react'\nimport Topbar from '../Topbar';\nimport {TextInput, Row, Col, Tabs, Tab, Checkbox, Button} from 'react-materialize';\nimport \"../../css/Notices/AddBoard.css\";\nimport {Redirect} from 'react-router';\nimport { fire, getFireDB, pushMultipleDB, pushDB} from '../../config/fire';\n\nexport class AddBoard extends Component {\n  state = {\n    Users: [],\n    CurrentUser: {\n      id: 1,\n      name: \"\"\n    },\n    seletedUsers: new Set(),\n    redirect: false,\n    redirectTo: \"/BOBO/board\"\n  }\n\n  constructor(props) {\n    super(props);\n    fire();\n  }\n\n  componentDidMount = () => {\n    // var salt = []; var types = [\"instructor\", \"parent\"];\n    // for(var i = 0 ; i < 20; i++) salt.push(i);\n    // var id = 0;\n    // var users = [];\n    // types.forEach(_type => {\n    //   salt.forEach(_salt => {\n    //     users.push({\n    //       name:_type + \" \" + _salt,\n    //       id: id++,\n    //       type: _type\n    //     });\n    //   });\n    // });\n\n    // this.setState({Users: users});\n\n    getFireDB()\n    .then(_res => {\n      let DB = _res.val();\n      var Users = [];\n      var nextBoardId = 0;\n      for(var key in DB.User) {\n        if(DB.User[key].id != this.state.CurrentUser.id)\n          Users.push(DB.User[key]);\n      }\n\n      for(var key in DB.Board){\n        var boardId = DB.Board[key].id;\n        if(boardId > nextBoardId) nextBoardId = boardId;\n      }\n      nextBoardId++;\n      this.setState({...this.state, Users, nextBoardId});\n    });\n  }\n\n  onChkBoxChange = (e) => {\n    var userId = e.target.value;\n    if(this.state.seletedUsers.has(userId)) this.state.seletedUsers.delete(userId);\n    else this.state.seletedUsers.add(userId);\n  }\n\n  onNameChange = (e) => {\n    this.setState({...this.state, [e.target.id]:e.target.value});\n  }\n\n  addBoard = () => {\n    console.log(this.state.seletedUsers);\n    console.log(this.state.boardName);\n    var nextBoardId = this.state.nextBoardId;\n    var BUobjs = [{boardId: nextBoardId, userId: this.state.CurrentUser.id}];\n    this.state.seletedUsers.forEach(_userId => {\n      BUobjs.push({boardId: nextBoardId, userId: _userId * 1});\n    });\n    pushDB(\"Board\", {id: nextBoardId, name: this.state.boardName})\n    .then(_res => {\n      return pushMultipleDB(\"BoardUserMap\", BUobjs);\n    })\n    .then(_res => {\n      this.setState({...this.state, redirect: true});\n    });\n  }\n\n  renderUserCheckbox = (_type) => {\n    var users = this.state.Users.filter(_user => _user.type === _type);\n    return users.map(_user => {\n      return <Col s={12}><Checkbox value={_user.id.toString()} label={_user.name} onChange={this.onChkBoxChange}/></Col>\n    });\n  }\n\n  render() {\n    if(this.state.redirect)\n      return <Redirect to={this.state.redirectTo}/>\n\n    return (\n      <div className=\"content\">\n        <Topbar name=\"Add Board\" showBack={true} backTo={\"/BOBO/#/board\"}/>\n        <Row id=\"add-board-name-row\">\n          <Col s={12}>\n            <TextInput s={12} id=\"boardName\" label=\"Name\" onChange={this.onNameChange}/>\n          </Col>\n        </Row>\n        <Row id=\"add-board-user-list-row\">\n          <Col s={12}>\n            <Tabs s={12}>\n              <Tab title=\"Instructors\">\n                {this.renderUserCheckbox(\"instructor\")}\n              </Tab>\n              <Tab title=\"Parents\">\n                {this.renderUserCheckbox(\"parent\")}\n              </Tab>\n            </Tabs>\n          </Col>\n        </Row>\n        <Row>\n          <Col s={12}>\n            <Button className=\"CommonButton\" waves=\"light\" style={{float:\"right\"}} onClick={this.addBoard}>Add</Button>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nexport default AddBoard\n","import React, { Component } from 'react'\nimport { Card, Button, Textarea } from 'react-materialize';\n\nexport class QuestionListItem extends Component {\n  state = {\n    showAnswerCard: false,\n    showNewAnswer: false,\n    newAnswer: \"\",\n  }\n\n  formatDate = (_date) => {\n    _date = new Date(_date);\n    var day = _date.getDate();\n    var monthIndex = _date.getMonth();\n    var year = _date.getFullYear();\n    return year + \"/\" + (monthIndex + 1) + \"/\" + day;\n  }\n\n  onReplyBtnClick = (e) => {\n    this.setState({...this.state, showAnswerCard: true});\n  }\n\n  onNewAnswerChange = (e) => {\n    this.setState({...this.state, answerContent: e.target.value});\n  }\n\n  onNewAnswerBtnClick = (e) => {\n    this.props.onAnswer({...this.props.data, answer: this.state.answerContent});\n    this.setState({...this.state, showAnswerCard: false, showNewAnswer: true, newAnswer: this.state.answerContent});\n  }\n\n  renderQuestionHeader = () => {\n    return (<div className=\"question-list-item-header grey lighten-2\">\n      <span className=\"name\">{this.props.data.userName}</span>\n      {this.props.data.answer === \"\" && this.state.newAnswer === \"\" && !this.state.showAnswerCard ?\n      <Button flat waves=\"light\" onClick={this.onReplyBtnClick}>\n        <i className=\"material-icons\">reply</i>\n      </Button> : <span/>\n      }\n      <span className=\"date\">{this.formatDate(this.props.data.createDate)}</span>\n    </div>);\n  }\n\n  render() {\n    return (\n      <div className=\"question-list-item-container\">\n        <Card className=\"white\" header={this.renderQuestionHeader()}>\n          <p>{this.props.data.content}</p>\n          \n          {this.state.showAnswerCard ? \n            <div>\n              <Textarea\n                className=\"new-answer-content\" placeholder=\"I think ...\"\n                onChange={this.onNewAnswerChange}/>\n              <Button className=\"red lighten-5 black-text new-answer-btn\" onClick={this.onNewAnswerBtnClick}>Answer</Button>\n            </div> : <span/>\n          }\n\n        </Card>\n        <Card className={\"grey lighten-2 answer-container \" + (this.props.data.answer === \"\" ? \"none\" : \"\")}>\n          <div><span className=\"answer-content\">{this.props.data.answer}</span></div>\n        </Card>\n        {this.state.showNewAnswer ?\n          <Card className=\"grey lighten-2 answer-container\">\n            <div><span className=\"answer-content\">{this.state.newAnswer}</span></div>\n          </Card> : <span/>\n        }\n      </div>\n    )\n  }\n}\n\nexport default QuestionListItem\n","import React, { Component } from 'react'\nimport Topbar from '../Topbar';\nimport { Row, Col, Textarea, Card, Button } from 'react-materialize';\nimport \"../../css/Notices/Notice.css\";\nimport QuestionListItem from './QuestionListItem';\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB} from '../../config/fire';\n\nexport class Notice extends Component {\n  state = {\n    type: \"homework\",\n    name: \"\",\n    content: \"\",\n    expireDate: new Date(),\n    important: Math.floor(Math.random() * 2) == 1,\n    persistent: Math.floor(Math.random() * 2) == 1,\n    questions: [],\n    CurrentUser: {\n      id: 1,\n      name: \"Now\"\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    fire();\n  }\n\n  getNoticeId = () => {\n    return this.props.match.params.id * 1;\n  }\n\n  componentDidMount() {\n    getFireDB()\n    .then(_res => {\n      let DB = _res.val();\n      var noticeId = this.getNoticeId();\n      var noticeObj = {};\n      for(var key in DB.Notice) {\n        if(DB.Notice[key].id === noticeId) {\n          noticeObj = DB.Notice[key];\n        }\n      }\n\n      var questions = [];\n      var nextQuestionId = 0;\n      for(var key in DB.Question) {\n        var questionObj = DB.Question[key];\n        if(questionObj.id > nextQuestionId)\n          nextQuestionId = questionObj.id;\n        if(questionObj.noticeId === noticeId)\n          questions.push({...questionObj, key});\n      }\n      nextQuestionId++;\n      this.nextQuestionId = nextQuestionId;\n      this.setState({...noticeObj, questions});\n    });\n  }\n\n  formatDate = (_date) => {\n    _date = new Date(_date);\n    var day = _date.getDate();\n    var monthIndex = _date.getMonth();\n    var year = _date.getFullYear();\n    return year + \"/\" + (monthIndex + 1) + \"/\" + day;\n  }\n\n  onNewQuestionChange = (e) => {\n    this.setState({...this.state, newQuestionContent: e.target.value});\n  }\n\n  onAnswerBtnClick = (_questionObj) => {\n    console.log(_questionObj);\n    var obj = {..._questionObj};\n    delete obj.key;\n    setDB(\"Question/\" + _questionObj.key, obj);\n  }\n\n  onNewQuestionBtnClick = (e) => {\n    console.log(this.state.newQuestionContent);\n    var questionObj = {\n      content: this.state.newQuestionContent,\n      userId: this.state.CurrentUser.id,\n      userName: this.state.CurrentUser.name,\n      noticeId: this.getNoticeId(),\n      id: this.nextQuestionId++,\n      createDate: new Date().getTime(),\n      answer: \"\",\n    };\n\n    var questions = this.state.questions;\n    questions.push(questionObj);\n    this.setState({...this.state, questions, newQuestionContent: \"\"});\n    pushDB(\"Question\", questionObj);\n  }\n\n  renderQuestions = () => {\n    return this.state.questions.map(_question => {\n      return (<QuestionListItem data={_question} onAnswer={this.onAnswerBtnClick}/>); \n    });\n  }\n\n  renderTypeBadge = () => {\n    //this.props.pathname + \"/notice/\" + this.props.data.id\n    return (<div className=\"notice-type\"\n                onClick={this.onTypeClick}>\n              <span>\n                {this.state.type[0].toUpperCase()}\n              </span>\n            </div>);\n  }\n\n  render() {\n    return (\n      <div className=\"content\" id=\"notice-content\">\n        <Topbar name=\"Notice\" showBack={true} backTo={\"/BOBO/#\" + this.props.location.pathname.slice(0, this.props.location.pathname.indexOf(\"/notice\"))}/>\n        <Row id=\"notice-name-row\">\n          <Col s={12}>\n            {this.renderTypeBadge()}\n            <div style={{width:\"90%\", display:\"inline-block\"}}>\n              <span className={this.state.important?\"important\" : \"none\"}></span>\n              <span className=\"notice-name\">{this.state.name}</span>\n              {/* <span className=\"notice-list-item-questions\"><span>{this.props.data.questionCnt}</span></span> */}\n              <span className=\"notice-expire\">Expires at {this.formatDate(this.state.expireDate)}</span>\n            </div>\n          </Col>\n        </Row>\n        <Row id=\"notice-content-row\">\n          <Col s={12}>\n            <Card className=\"white\"><p>{this.state.content}</p></Card>\n          </Col>\n          <Col s={12}>\n            <div>Questions</div>\n            {this.renderQuestions()}\n          </Col>\n          <Col s={12} id=\"new-question-row\">\n            <Card className=\"white\" header={<div className=\"white-text add-question-header\">Leave Question</div>}>\n              <Textarea\n                id=\"new-question-content\"\n                placeholder=\"What do you want to ask?\"\n                onChange={this.onNewQuestionChange}\n                value={this.state.newQuestionContent}/>\n              <Button className=\"CommonButton\" id=\"new-question-leave-btn\" onClick={this.onNewQuestionBtnClick}>Leave</Button>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nexport default Notice\n","import React, { Component } from 'react';\nimport Topbar from '../Topbar';\nimport {TextInput, Row, Col, Textarea, Checkbox, RadioGroup, DatePicker, Button} from 'react-materialize';\nimport \"../../css/Notices/AddNotice.css\";\nimport {Redirect} from 'react-router';\nimport { fire, getFireDB, pushMultipleDB, pushDB} from '../../config/fire';\n\nexport class AddNotice extends Component {\n  state = {\n    CurrentUser: {\n      id: 1,\n    },\n    important: false,\n    persistent: false,\n    type: \"homework\",\n    redirect: false,\n    redirectTo: \"\",\n  }\n\n  constructor(props) {\n    super(props);\n    fire();\n  }\n\n  getBoardId = () => {\n    return this.props.match.params.id;\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    getFireDB().then(_res => {\n      let DB = _res.val();\n      console.log(DB);\n      var nextNoticeId = 0;\n      for(var key in DB.Notice) {\n        var noticeId = DB.Notice[key].id;\n        if(noticeId > nextNoticeId)\n          nextNoticeId = noticeId;\n      }\n      nextNoticeId++;\n      this.nextNoticeId = nextNoticeId;\n    });\n  }\n\n  onChange = (e) => {\n    this.setState({...this.state, [e.target.id]:e.target.value});\n  }\n\n  onImportantChange = (e) => {\n    this.setState({...this.state, important: !this.state.important});\n  }\n\n  onPersistentChange = (e) => {\n    this.setState({...this.state, persistent: !this.state.persistent});\n  }\n\n  onExpireDateChange = (e) => {\n    this.setState({...this.state, expireDate: e});\n  }\n\n  onTypeChange = (e) => {\n    this.setState({...this.state, type: e.target.value});\n  }\n\n  onNoticeAdd = () => {\n    console.log(this.state);\n    var obj = {...this.state};\n    obj.id = this.nextNoticeId;\n    obj.userId = this.state.CurrentUser.id;\n    obj.expireDate = obj.expireDate.getTime();\n    obj.createDate = new Date().getTime();\n    obj.boardId = this.getBoardId() * 1;\n    obj.name = obj.noticeName;\n    obj.content = obj.noticeContent;\n    \n    delete obj.redirect;\n    delete obj.redirectTo;\n    delete obj.CurrentUser;\n    delete obj.noticeName;\n    delete obj.noticeContent;\n\n    pushDB(\"Notice\", obj)\n    .then(_res => {\n      this.setState({...this.state, redirect: true, redirectTo: \"/board/\" + this.getBoardId()});\n    });\n  }\n\n  render() {\n    if(this.state.redirect)\n      return <Redirect to={this.state.redirectTo}/>\n\n    return (\n      <div className=\"content\">\n        <Topbar name=\"Add Notice\" showBack={true} backTo={\"/BOBO/#/board/\" + this.getBoardId()}/>\n        <Row id=\"add-notice-name-row\">\n          <Col s={12}>\n            <TextInput s={12} id=\"noticeName\" label=\"Name\" onChange={this.onChange}/>\n          </Col>\n          <Col s={12}>\n            <Textarea\n              id=\"noticeContent\" s={12}\n              placeholder=\"Write some notices in here\"\n              onChange={this.onChange}/>\n          </Col>\n        </Row>\n        <Row id=\"add-notice-info-row\">\n          <Col s={6}>\n            <Checkbox value=\"important\" id=\"important\" label=\"important!\" onChange={this.onImportantChange}/>\n          </Col>\n          <Col s={6}>\n            <Checkbox value=\"persistent\" id=\"persistent\" label=\"persistent\" onChange={this.onPersistentChange}/>\n          </Col>\n          <Col s={12} style={{marginTop: \"10px\"}}>\n            <DatePicker s={12} onChange={this.onExpireDateChange} label=\"Expire Date\"/>\n          </Col>\n          <Col s={12} id=\"add-notice-type-col\">\n            <RadioGroup\n              id=\"type\"\n              name=\"type\"\n              label=\"type\"\n              value=\"homework\"\n              onChange={this.onTypeChange}\n              options={[{label: \"homework\", value:\"homework\"},\n                      {label: \"schedule\", value: \"schedule\"},\n                      {label: \"activity\", value: \"activity\"}]}/>\n          </Col>\n          \n          <Col s={12}>\n            <Button className=\"CommonButton\" style={{float: \"right\"}} onClick={this.onNoticeAdd}>Add</Button>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nexport default AddNotice\n","import React, { Component } from 'react'\nimport {Row, Col} from 'react-materialize';\nimport '../../css/Students/Demographic.css'\n\nexport class Demographic extends Component {\n\n  render() {\n      return (\n          <div className=\"DemographicContainer\">\n              <Row className=\"DemographicRow\" style={{paddingTop: '15px', paddingBottom: '15px'}}>\n                  <Col className=\"DemographicCol\" s={5}>\n                      <div className=\"ProfileImage\" alt=\"logo\" style={{backgroundImage: 'url('+this.props.ImageURL+')'}}></div>\n                  </Col>\n                  <Col className=\"DemographicCol\" s={7}>\n                      <div className=\"ProfileTextWrapper\">\n                          <div className=\"ProfileText\">\n                              <span> Name: {this.props.Name}</span>\n                              <br/>\n                              <span>Class: {this.props.Class}</span>\n                              <br/>\n                              <span>Age: {this.props.Age}</span>\n                              <br/>\n                              <span>Tel: {this.props.Tel}</span>\n                          </div>\n                      </div>\n                  </Col>\n              </Row>\n          </div>\n      )\n  }\n}\n\nexport default Demographic;","import React, { Component } from 'react'\nimport Topbar from '../Topbar';\nimport '../../css/Students/StudentProfile.css'\nimport {Redirect} from 'react-router';\nimport Demographic from './Demographic';\nimport '../../css/Common.css'\nimport {Button} from 'react-materialize'\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../../config/fire';\n\nexport class StudentProfile extends Component {\n    state={\n        redirect:false,\n        target:\"Loading...\",\n        Name: \"Loading...\",\n        Class: \"Loading...\",\n        Age: \"Loading...\",\n        Tel: \"Loading...\",\n        url: \"\",\n        mount:true\n    }\n\n    constructor(props) \n    {\n      super(props);\n      getFireDB('/User').then(\n        result => {\n          var userList = result.val();\n          var args;\n          for(var key in userList) {\n            args = userList[key];\n            if(args['id']==this.props.match.params.student_id) {\n              break;\n            }\n          }\n          this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\n          download_picture(args['picture'], this);\n        }\n      )\n    }\n\n    redirectToClassRecord = () => {\n        this.setState({target:\"/BOBO/studentProfile/classRecord/\"+this.props.match.params.instructor_id\n                                  + '/' +this.props.match.params.student_id,\n                        redirect:true});\n    }\n\n    redirectToInstructorsNote = () => {\n        this.setState({target:\"/BOBO/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id\n                                  +'/'+this.props.match.params.student_id,\n                        redirect:true});\n    }\n\n    render() {\n        if(this.state.redirect)\n            return (<Redirect to={this.state.target}></Redirect>);\n        return (\n        <div style = {{width:\"100%\"}} className=\"content studentProfileContent\">\n            <Topbar name=\"Profile\" showBack={true} backTo = {\"/BOBO/studentList/\"+this.props.match.params.instructor_id}></Topbar>\n            <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n            <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\n            <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n            <div className=\"ButtonContainer\">\n                <Button className=\"Button\" \n                        onClick={this.redirectToClassRecord}>\n                    Class Record\n                </Button>\n                <br/>\n                <Button className=\"Button\"\n                        onClick={this.redirectToInstructorsNote}>\n                    Instructor's Note\n                </Button>\n            </div>\n        </div>\n        );\n    }\n}\n\n\nexport default StudentProfile","import React, { Component } from 'react'\nimport Topbar from '../Topbar';\nimport '../../css/Students/StudentProfile.css'\nimport '../../css/Students/InstructorsNote.css'\nimport {Redirect} from 'react-router';\nimport Demographic from './Demographic'\nimport Popup from 'reactjs-popup'\nimport {Checkbox, Icon, Button} from 'react-materialize'\nimport {Link} from 'react-router-dom'\nimport '../../css/Common.css'\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../../config/fire';\n\nclass DeletePopup extends Component {\n  state={\n    checked:false,\n    open:false\n  }\n\n  check =(event)=> {\n    this.setState({checked: !this.state.checked});\n  }\n\n  deleteNote = () => {\n    console.log('/Note/'+this.props.student_id+'/'+this.props.instructor_id);\n    deleteDB('/Note/'+this.props.student_id+'/'+this.props.instructor_id);\n    window.location.reload();\n  }\n\n  closing = () => {\n    this.setState({checked: false})\n  }\n\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\n  render() {\n    return (\n      <Popup contentStyle={{width: '80%'}} trigger={<div style={{display:\"inline-block\"}}><Icon className=\"InstructorNoteIcon\" small={true}>delete_forever</Icon></div>} \n                position=\"top right\" onClose={this.closing}>\n        { close => (\n          <div className=\"NoteDeleteContainer\">\n              <span className=\"NoteDeleteTitle\">\n                  Delete Note\n              </span>\n              <br/>\n                <Checkbox className = \"NoteDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\"/>\n              <span className=\"NoteDeleteWarningText\">I hereby understand that I </span>\n              <span className=\"NoteDeleteWarningTextImportant\">cannot recover</span>\n              <span className=\"NoteDeleteWarningText\"> the deleted note.</span>\n              <br/>\n              <br/>\n                <button className=\"close pinkcancelbutton\" onClick={close}>\n                    No\n                </button>\n              {this.state.checked? (\n                <button className=\"close pinkcancelbutton\" style={{float:\"right\"}} onClick={this.deleteNote}>\n                    Yes\n                </button>\n              ) : null}\n          </div>)\n        }\n      </Popup>\n    )\n  }\n}\n\nexport class InstructorsNote extends Component {\n    state={\n      loaded: false,\n      Notes: [],\n      Class: \"Loading...\",\n      Age: \"Loading...\",\n      Tel: \"Loading...\",\n      url: \"\",\n      mount:true\n  }\n\n  constructor(props) \n  {\n    super(props);\n    getFireDB('/User').then(\n      result => {\n        var userList = result.val();\n        var args;\n        for(var key in userList) {\n          args = userList[key];\n          if(args['id']==this.props.match.params.student_id) {\n            break;\n          }\n        }\n        console.log(args);\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\n        download_picture(args['picture'], this);\n      }\n    )\n    this.setNotes();\n  }\n\n  setNotes = ()=>{\n    getFireDB('/Note/'+this.props.match.params.student_id).then(\n      result => {\n        let notes = [];\n        let notesRaw = result.val();\n        for(var key in notesRaw) {\n          notes.push({Instructor: key, Content: notesRaw[key]});\n        }\n        this.setState({Notes: notes, loaded:true});\n      }\n    )\n  }\n\n  renderNoteList = () => {\n      if(this.state.loaded==false) {\n        return (<div  style={{textAlign:\"center\", fontSize:\"20px\", fontWeight:\"bold\"}}>Loading...</div>)\n      }\n\n      var myNoteExists = false;\n      var i =0;\n      var noteList = this.state.Notes.map(_note => {\n        console.log(_note);\n        if(_note.Instructor!==this.props.match.params.instructor_id)\n            return <Note instructor={_note.Instructor} student={this.props.match.params.student_id} \n                          content={_note.Content} key={i++}/>\n        else\n        {\n            myNoteExists = true;\n            return <MyNote instructor={_note.Instructor} student = {this.props.match.params.student_id} content={_note.Content} key={i++}/>\n        }\n      });\n\n      if(!myNoteExists)\n          noteList.push(\n              <div className=\"AddButtonContainer\" key = {i++}>\n                <Link to={\"/BOBO/studentProfile/instructorsNoteAddModify/\"+this.props.match.params.instructor_id+\n                            '/'+this.props.match.params.student_id}>\n                  <Button className=\" CommonButton\">Add Note!</Button>\n                </Link>\n              </div>\n          );\n      return <div className=\"NoteContainer\">{noteList}</div>;\n  }\n\n  render() {\n      if(this.state.redirect)\n          return (<Redirect to={this.state.target}></Redirect>);\n\n      return (\n      <div style = {{width:\"100%\"}} className=\"content InstructorsNoteContent\">\n          <div>\n              <Topbar name=\"Instructor's Note\" showBack={true} backTo = {\"/BOBO/studentProfile/main/\"+\n                                this.props.match.params.instructor_id+'/'+this.props.match.params.student_id}></Topbar>\n          </div>\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n          <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n          {this.renderNoteList()}\n      </div>\n      );\n  }\n}\n\nclass Note extends Component {\n    render() {\n        return (\n            <div className=\"Note\">\n                <span className=\"NoteInstructor\"> {' '+this.props.instructor+'\\'s Note'}</span>\n                <br/>\n                <span className=\"NoteContent\">&nbsp;&nbsp;&nbsp;{'- '+this.props.content}</span>\n            </div>\n        );\n    }\n}\n\nclass MyNote extends Component {\n    render() {\n        return (\n            <div>\n                <div className=\"Note\">\n                    <div className=\"MyNoteButtonContainer\">\n                      <Link to={\"/BOBO/studentProfile/instructorsNoteAddModify/\"+this.props.instructor+\n                              '/'+this.props.student}>\n                        <Icon className=\"InstructorNoteIcon\" small={true}>edit</Icon>\n                      </Link>\n                      <DeletePopup instructor_id={this.props.instructor} student_id={this.props.student}/>\n                    </div>\n                    <span className=\"NoteInstructor\">{' '+this.props.instructor+'\\'s Note'}</span>\n                    <br/>\n                    <div style={{marginLeft:\"20px\"}}>\n                      <span className=\"NoteContent\">{'- '+this.props.content} </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default InstructorsNote","import React, { Component } from 'react'\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom'\nimport Popup from 'reactjs-popup'\n\nimport { Row, Col, Collection, CollectionItem, Button, Icon, Checkbox } from 'react-materialize';\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture } from '../../config/fire';\nimport Topbar from '../Topbar';\nimport Demographic from './Demographic'\n//import RecordListItem from './RecordListItem';\n\nimport '../../css/Students/StudentProfile.css'\nimport \"../../css/Students/ClassRecord.css\"\nimport '../../css/Common.css'\n\nexport class ClassRecord extends Component {\n\n  state = {\n    Records: [{\n      key: '-LeCY3zdkGo8afNw_RxG',\n      StudentID: 'tommy',\n      InstructorID: 'teacher101',\n      Date: '2019/05/03',\n      Text: 'He made a origami pikachu today!',\n      Hashtag: ['art']\n    }, {\n      key: '1',\n      StudentID: 'runxia',\n      InstructorID: 'sam',\n      Date: '2019/05/03',\n      Text: 'He made a origami pikachu today!',\n      Hashtag: ['art']\n    }, {\n      key: '2',\n      StudentID: 'tommy11',\n      InstructorID: 'sam',\n      Date: '2019/05/08',\n      Text: 'He made a origami pikachu today!',\n      Hashtag: ['art', 'origami']\n    }, {\n      key: '3',\n      StudentID: 'jinjin',\n      InstructorID: 'teacher101',\n      Date: '2019/05/09',\n      Text: 'He made a origami pikachu today!',\n      Hashtag: ['art', 'jin']\n    }, {\n      key: '4',\n      StudentID: 'woo-woo',\n      InstructorID: 'sam',\n      Date: '2019/05/09',\n      Text: 'He made a origami pikachu today!',\n      Hashtag: ['art', 'pikachu']\n    }, {\n      key: '5',\n      StudentID: 'tommy',\n      InstructorID: 'teacher101',\n      Date: '2019/05/10',\n      Text: 'He made a origami pikachu today! \\n He tried very hard, but he failed to complete it. TT ',\n      Hashtag: ['pikapika', 'art']\n    }, {\n      key: '6',\n      StudentID: 'tommy',\n      InstructorID: 'Juho',\n      Date: '2019/05/10',\n      Text: 'He made a origami pikachu today! \\n He tried very hard, but he failed to complete it. TT ',\n      Hashtag: ['pikapika']\n    }, {\n      key: '7',\n      StudentID: 'tommy',\n      InstructorID: 'Juho',\n      Date: '2019/05/12',\n      Text: 'He made a origami pikachu today! \\n He tried very hard, but he failed to complete it. TT ',\n      Hashtag: ['pikapika', 'chu', 'art']\n    }, {\n      key: '8',\n      StudentID: 'tommy',\n      InstructorID: 'teacher101',\n      Date: '2019/05/14',\n      Text: 'He made a origami pikachu today! \\n He tried very hard, but he failed to complete it. TT ',\n      Hashtag: ['pikapika', 'origami']\n    }\n    ],\n    loaded: false,\n    Name: \"Loading...\",\n    Class: \"Loading...\",\n    Age: \"Loading...\",\n    Tel: \"Loading...\",\n    url: \"\",\n    mount:true\n  }\n  \n\n  \n  constructor(props) \n  {\n    super(props);\n    getFireDB('/User').then(\n      result => {\n        var userList = result.val();\n        var args;\n        for(var key in userList) {\n          args = userList[key];\n          if(args['id']==this.props.match.params.student_id) {\n            break;\n          }\n        }\n        console.log(args);\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\n        download_picture(args['picture'], this);\n      }\n    )\n  }\n\n\n  renderRecordList = () => {\n    var validRecords = this.state.Records.filter(_record => {\n      return _record.StudentID === 'tommy' //FIXME:\n    })\n    //console.log('valid:', validRecords)\n    //console.log(this.state.Records)\n    //return <RecordListItem data={this.state.Records} />;\n    return validRecords.map(_record => {\n      if (_record.InstructorID === 'teacher101') //FIXME: MyID\n        return <MyRecordListItem data={_record} test={this.passSetState} />\n      else\n        return <RecordListItem data={_record} test={this.passSetState} />\n    });\n  }\n\n  passSetState = () => {\n    console.log(\"test A\");\n  }\n\n  render() {\n    if (this.state.redirect)\n      return <Redirect to={this.state.redirectTo} />\n\n    return (\n      <div style={{ width: \"100%\" }} /*className=\"content class-record-container\" */>\n        <div>\n          <Topbar\n            name=\"Class Record\"\n            showBack={true}\n            backTo={\"/BOBO/studentProfile/main/\" + this.props.match.params.instructor_id+'/'+this.props.match.params.student_id}\n            showOptional={true}\n            optionalComponent={<Button\n              id=\"board-list-add-btn\"\n              node=\"a\"\n              floating small\n              waves=\"light\"\n              icon=\"add\"\n              href={\"/BOBO/classRecord\"} />}></Topbar>\n        </div>\n\n        <div className=\"class-record-contentr\">\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n          <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n\n          <div id=\"show-record-list-row\">\n            <div s={12}>\n              <Collection>\n                {this.renderRecordList()}\n              </Collection>\n            </div>\n          </div>\n        </div> {/* end class-record-continer */}\n\n      </div> //end class-record-content\n    );\n  }\n}\n\n\nclass RecordListItem extends Component {\n  render() {\n    //console.log(this.props.data)\n    this.props.test();\n    return (\n      <CollectionItem>\n        <Row s={12}>\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\n          <Col s={2}></Col>\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\n        </Row>\n        <Row>\n          <Col>\n            {this.props.data.Text}\n          </Col>\n        </Row>\n        {/* Hashtags */}\n        <Row>\n          <Col>\n            <Hashtags data={this.props.data.Hashtag} />\n          </Col>\n        </Row>\n      </CollectionItem>\n    )\n  }\n}\n\nclass MyRecordListItem extends Component {\n  render() {\n    //console.log(this.props.data)\n    //this.props.test();\n    return (\n      <CollectionItem>\n        <Row s={12}>\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\n          <Col s={2}></Col>\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\n        </Row>\n        <Row>\n          <Col>\n            {this.props.data.Text}\n          </Col>\n        </Row>\n        {/* Hashtags and edit/delete buttons */}\n        <Row s={12}>\n          <Col s={8}>\n            <Hashtags data={this.props.data.Hashtag} />\n          </Col>\n          {/* edit/delete buttons */}\n          <Col s={4}><div align='right'>\n            <Link to={\"/BOBO/studentProfile/editClassRecord/\" + this.props.data.key}>\n              <Icon className=\"edit-record-icon\" small='true'>edit</Icon>\n            </Link>\n            {/* <Icon small='true'>delete</Icon> */}\n            <DeleteRecordPopup data={this.props.data}></DeleteRecordPopup>\n          </div></Col>\n        </Row>\n      </CollectionItem>\n    )\n  }\n}\n\n\nclass Hashtags extends Component {\n  render() {\n    console.log('hashtag!', this.props.data)\n    return (\n      this.props.data.map(_elem => {\n        return <Hashtag data={_elem} />\n      })\n    );\n  }\n}\n\nclass Hashtag extends Component {\n  onHashtagSelection = e => {\n    console.log('select !!!')\n    //window.location.reload();\n  }\n\n  render() {\n    return (\n      <span id='hash-span' onClick={this.onHashtagSelection()}>{'#' + this.props.data + ' '}</span>\n    );\n  }\n}\n\n\n\n\nclass DeleteRecordPopup extends Component {\n  state = {\n    checked: false,\n    open: false\n  }\n\n  check = (event) => {\n    this.setState({ checked: !this.state.checked });\n  }\n\n  deleteRecord = () => {\n    deleteDB('/Record/' + this.props.data.key);\n    window.location.reload();\n  }\n\n  closing = () => {\n    this.setState({ checked: false })\n  }\n\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\n  render() {\n    return (\n      <Popup contentStyle={{ width: '60%' }} trigger={<div style={{ display: \"inline-block\" }}><Icon className=\"InstructorNoteIcon\" small='true'>delete_forever</Icon></div>}\n        position=\"top right\" onClose={this.closing}>\n        {close => (\n          <div className=\"RecordDeleteContainer\">\n            <span className=\"RecordDeleteTitle\">\n              Delete Record\n              </span>\n            <br />\n            <Checkbox className=\"RecordDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\" />\n            <span className=\"RecordDeleteWarningText\">I hereby understand that I </span>\n            <span className=\"RecordDeleteWarningTextImportant\">cannot recover</span>\n            <span className=\"RecordDeleteWarningText\"> the deleted record.</span>\n            <br />\n            <br />\n            <button className=\"close pink-cancel-button\" onClick={close}>\n              No\n                </button>\n            {this.state.checked ? (\n              <button className=\"close pink-cancel-button\" style={{ float: \"right\" }} onClick={this.deleteRecord}>\n                Yes\n                </button>\n            ) : null}\n          </div>)\n        }\n      </Popup>\n    )\n  }\n}\n\n\nexport default ClassRecord","import React, { Component } from 'react'\nimport Topbar from '../Topbar';\nimport '../../css/Students/StudentProfile.css'\nimport '../../css/Students/InstructorsNote.css'\nimport {Redirect} from 'react-router'; \nimport Demographic from './Demographic'\nimport {Textarea} from 'react-materialize';\nimport {Link} from 'react-router-dom';\nimport {Button} from 'react-materialize'\nimport '../../css/Common.css'\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, updateChild, download_picture} from '../../config/fire';\n\nexport class EditClassRecord extends Component {\n\n  state = {\n    textcontent : \"\",\n    loaded: false,\n    Class: \"Loading...\",\n    Age: \"Loading...\",\n    Tel: \"Loading...\",\n    url: \"\",\n    mount:true\n}\n\nconstructor(props) \n{\n  super(props);\n  getFireDB('/User').then(\n    result => {\n      var userList = result.val();\n      var args;\n      for(var key in userList) {\n        args = userList[key];\n        if(args['id']==this.props.match.params.student_id) {\n          break;\n        }\n      }\n      this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\n      download_picture(args['picture'], this);\n    }\n  )\n  getFireDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id).then(\n    result => {\n      this.setState({textcontent: result.val(), loaded: true})\n    }\n  )\n}\n\n  handlecontentChange = e=> {\n    this.setState({textcontent: e.target.value});\n  }\n\n  confirm = ()=> {\n    if(this.state.textcontent.length!=0)\n    {\n      updateChild('/Note/'+this.props.match.params.student_id, this.props.match.params.instructor_id, this.state.textcontent);\n      return;\n    }\n    else\n    {\n      deleteDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id);\n    }\n  }\n\n  render() {\n    return (\n    <div style = {{width:\"100%\"}} className=\"content InstructorsNoteContent\">\n        <div>\n            <Topbar name=\"Instructor's Note\" showBack={true} \n                  backTo = {\"/BOBO/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\n                                this.props.match.params.student_id}></Topbar>\n        </div>\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n        <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n        {this.state.loaded?\n        <div className=\"NoteContainer\">\n          <div style={{width: \"100%\", display: \"table\", textAlign:\"center\"}}>\n            <Textarea placeholder=\"Write note on this student\" style={{width: \"90%\", display: \"table-cell\"}}\n              onChange={this.handlecontentChange} value={this.state.textcontent} />\n          </div>\n          <Link to={\"/BOBO/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\n                      this.props.match.params.student_id}>\n            <Button className=\"CommonButton\" style={{marginLeft: \"20px\"}} >\n              Cancel\n            </Button>\n            <Button className=\"CommonButton\" style={{marginRight: \"20px\", float:\"right\"}} onClick={this.confirm}>\n              Confirm\n            </Button>\n          </Link>\n        </div> : (<div  style={{textAlign:\"center\", fontSize:\"20px\", fontWeight:\"bold\"}}>Loading...</div>)\n        }\n    </div>\n    );\n  }\n}\n\nexport default EditClassRecord","import React, { Component } from 'react'\nimport Topbar from '../Topbar';\nimport '../../css/Students/StudentProfile.css'\nimport '../../css/Students/InstructorsNote.css'\nimport {Redirect} from 'react-router';\nimport Demographic from './Demographic'\nimport {Textarea} from 'react-materialize';\nimport {Link} from 'react-router-dom';\nimport {Button} from 'react-materialize'\nimport '../../css/Common.css'\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, updateChild, download_picture} from '../../config/fire';\n\nexport class InstructorsNoteAddModify extends Component {\n\n  state = {\n    textcontent : \"\",\n    loaded: false,\n    Class: \"Loading...\",\n    Age: \"Loading...\",\n    Tel: \"Loading...\",\n    url: \"\",\n    mount:true\n  }\n\n\n  constructor(props) \n  {\n    super(props);\n    getFireDB('/User').then(\n      result => {\n        var userList = result.val();\n        var args;\n        for(var key in userList) {\n          args = userList[key];\n          if(args['id']==this.props.match.params.student_id) {\n            break;\n          }\n        }\n        console.log(args);\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\n        download_picture(args['picture'], this);\n      }\n    )\n    getFireDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id).then(\n      result => {\n        this.setState({textcontent: result.val(), loaded: true})\n      }\n    )\n  }\n\n  handlecontentChange = e=> {\n    this.setState({textcontent: e.target.value});\n  }\n\n  confirm = ()=> {\n    if(this.state.textcontent.length!=0)\n    {\n      updateChild('/Note/'+this.props.match.params.student_id, this.props.match.params.instructor_id, this.state.textcontent);\n      return;\n    }\n    else\n    {\n      deleteDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id);\n    }\n  }\n\n  render() {\n    return (\n    <div style = {{width:\"100%\"}} className=\"content InstructorsNoteContent\">\n        <div>\n            <Topbar name=\"Instructor's Note\" showBack={true} \n                  backTo = {\"/BOBO/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\n                                this.props.match.params.student_id}></Topbar>\n        </div>\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n        <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\n        {this.state.loaded?\n        <div className=\"NoteContainer\">\n          <div style={{width: \"100%\", display: \"table\", textAlign:\"center\"}}>\n            <Textarea placeholder=\"Write note on this student\" style={{width: \"90%\", display: \"table-cell\"}}\n              onChange={this.handlecontentChange} value={this.state.textcontent} />\n          </div>\n          <Link to={\"/BOBO/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\n                      this.props.match.params.student_id}>\n            <Button className=\"CommonButton\" style={{marginLeft: \"20px\"}} >\n              Cancel\n            </Button>\n            <Button className=\"CommonButton\" style={{marginRight: \"20px\", float:\"right\"}} onClick={this.confirm}>\n              Confirm\n            </Button>\n          </Link>\n        </div> : (<div  style={{textAlign:\"center\", fontSize:\"20px\", fontWeight:\"bold\"}}>Loading...</div>)\n        }\n    </div>\n    );\n  }\n}\n\nexport default InstructorsNoteAddModify","import React, { Component } from 'react'\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../config/fire.js';\nimport {Redirect} from 'react-router';\nimport {Button} from 'react-materialize'\n\nimport \"../css/login.css\"\n\n\nexport class LogIn extends Component {\n  state={\n      redirect:false,\n      target:\"Loading...\",\n      url: \"\",\n      mount:true\n  }\n\n  constructor(props) \n  {\n    super(props);\n  }\n\n  loginSuccess = () => {\n      this.setState({target:\"/BOBO/studentList/tommy11\",\n                      redirect:true});\n  }\n\n  render() {\n      if(this.state.redirect)\n          return (<Redirect to={this.state.target}></Redirect>);\n      return (\n        <div align='center'>\n          <Button id='login-button' onClick={this.loginSuccess} >LogIn!</Button>\n        </div>\n      );\n  }\n}\n\n\nexport default LogIn","import React from 'react';\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\nimport \"materialize-css/dist/css/materialize.css\"\nimport \"materialize-css/dist/js/materialize.min.js\"\n\nimport '../css/App.css'\n\nimport Menu from './Menu';\nimport StudentList from \"./Students/StudentList\";\nimport UploadClassRecord from \"./UploadClassRecord/ClassRecord\";\nimport NoticeBoard from \"./Notices/BoardList\";\nimport Settings from \"./Settings/Settings\";\nimport Board from './Notices/Board';\nimport AddBoard from \"./Notices/AddBoard\";\nimport Notice from './Notices/Notice';\nimport AddNotice from './Notices/AddNotice';\nimport StudentProfile from \"./Students/StudentProfile\";\nimport InstructorsNote from \"./Students/InstructorsNote\";\nimport ClassRecord from \"./Students/ClassRecord\";\nimport EditClassRecord from \"./Students/EditClassRecord\";\nimport InstructorsNoteAddModify from './Students/InstructorsNoteAddModify';\nimport LogIn from './LogIn';\n\nimport { fire} from '../config/fire';\nfunction App() {\n  fire();\n  return (\n    <Router>\n      <div className=\"container\">\n        <Route path=\"/studentList/:instructor_id\" component={StudentList}/>\n        <Route path=\"/studentProfile/main/:instructor_id/:student_id\" component={StudentProfile}/>\n        <Route path=\"/studentProfile/instructorsNote/:instructor_id/:student_id\" component={InstructorsNote}/>\n        <Route path=\"/studentProfile/instructorsNoteAddModify/:instructor_id/:student_id\" component={InstructorsNoteAddModify}/>\n        <Route path=\"/studentProfile/classRecord/:instructor_id/:student_id\" component={ClassRecord}/>\n        <Route path=\"/studentProfile/editClassRecord/:key\" component={EditClassRecord}/>\n        <Route exact path=\"/classRecord\" component={UploadClassRecord}/>\n        <Route exact path=\"/addBoard\" component={AddBoard}/>\n        <Route exact path=\"/board\" component={NoticeBoard}/>\n        <Route exact path=\"/board/:id/addNotice\" component={AddNotice}/>\n        <Route exact path=\"/board/:id\" component={Board}/>\n        <Route exact path=\"/board/:id/notice/:id\" component={Notice}/>\n        <Route exact path=\"/settings\" component={Settings}/>\n        <Switch>\n          <Route exact path=\"/BOBO\" component={LogIn}/>\n          <Route exact path=\"*\" component={Menu}/>\n        </Switch>   \n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}