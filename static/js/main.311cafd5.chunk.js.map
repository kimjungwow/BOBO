{"version":3,"sources":["components/BOBO_logo.jpeg","components/Students/basic.png","config/fire.js","components/Menu.js","components/Topbar.js","components/Students/StudentList.js","components/UploadClassRecord/ClassRecord.js","components/Notices/BoardListItem.js","components/Notices/BoardList.js","components/Settings/Settings.js","components/Notices/NoticeListItem.js","components/Notices/Board.js","components/Notices/AddBoard.js","components/Notices/QuestionListItem.js","components/Notices/Notice.js","components/Notices/AddNotice.js","components/Students/Demographic.js","components/Students/StudentProfile.js","components/Students/InstructorsNote.js","components/Students/ClassRecord.js","components/Students/CLassRecordFiltered.js","components/Students/EditClassRecord.js","components/Students/InstructorsNoteAddModify.js","components/LogIn.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","database","storage","Menu","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","react_default","a","createElement","className","react_router_dom","to","lib","medium","Component","Topbar","id","s","props","name","showBack","node","floating","small","waves","icon","href","backTo","showOptional","optionalComponent","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","fire","firebase","length","getstorage","getFireDB","dir","ref","once","pushDB","obj","push","pushDB_wait","forwait","console","log","pushMultipleDB","objs","updates","forEach","_obj","update","setDB","set","deleteDB","remove","getFireDB_arr","_this","target","type","want","targetref","temparr","snapshot","child","val","setState","defineProperty","updateChild","childName","upload_file","file","filename","uploadTask","put","on","progress","bytesTransferred","totalBytes","state","TaskState","PAUSED","RUNNING","error","getDownloadURL","then","downloadURL","download_picture","pictureurl","Storageref","strarray","split","url","mount","catch","StudentList","call","Students","CurrentUser","Users","autocompleteData","Test","Test2","StudentFiltered","ClassTable","curr_instructor","match","params","instructor_id","componentDidMount","assertThisInitialized","res","DB","User","filter","_mapElem","map","reduce","_acc","_user","objectSpread","showAutocomplete","result","onAutocomplete","_studentName","student","find","_student","redirect","redirectTo","onClassSelection","e","document","getElementById","selectedClass","options","selectedIndex","text","class","showSelectClass","renderStudentList","studentLists","sort","_a","_b","StudentList_StudentListItem","data","instructor","renderStudentFilteredList","renderClassList","_class","StudentList_ClassListItem","react_router","components_Topbar","placeholder","style","alignItems","onChange","width","disabled","selected","ClassListItem","StudentListItem","marginTop","marginBotton","height","src","image_url","alt","PopupExample","ClassRecord_CancelPopup","trigger","position","close","onClick","float","ClassRecord","doneonClick","INITIAL_STATE","InstructorID","StudentID","Studentname","Text","autocomplete_student","Date","Hashtag","showmodifiy","photos","files","window","location","hash","indexOf","temparray","index","Number","handlenameChange","handlecontentChange","_userName","parent","onAutocompleteChange","asyncToGenerator","regenerator_default","mark","_callee","rawdate","rawmonth","datestring","dirname","regex","wrap","_context","prev","next","getMonth","String","getFullYear","getDate","getTime","exec","Promise","_resolve","_reject","completed","fromfile","fromcamera","fromgallery","Array","prototype","__resolve","__reject","sent","_res","inputElementcontent","inputElementname","stop","flipbool","fileclick","inputElementfile","click","galleryclick","inputElementgallery","cameraclick","inputElementcamera","setRef","_this2","_input","action","handlefileChange","bind","multiple","_input2","accept","capture","_input3","ClassRecord_PopupExample","CancelPopup","checked","open","check","event","_this3","closing","_this4","reactjs_popup_es","contentStyle","onClose","label","BoardListItem","NoticeBoard","Boards","BoardUserMap","validBoards","Board","validBoardIds","userId","boardId","_board","_boardName","board","renderBoardList","Notices_BoardListItem","Settings","textAlign","NoticeListItem","_getPrototypeOf2","_len","args","_key","concat","onTypeClick","onItemClick","pathname","formatDate","_date","day","monthIndex","renderTypeBadge","toUpperCase","display","important","questionCnt","expireDate","Notices","validNotices","displayNotices","getBoardId","parseQuery","queryString","search","query","pairs","substr","i","pair","decodeURIComponent","page","notices","questions","Question","Notice","_question","noticeId","_elem1","_elem2","_notice","end","Math","min","slice","onPageSelect","_i","_Object$entries","entries","_ref3","_ref2","slicedToArray","encodeURIComponent","history","reload","_type","_i2","_Object$entries2","_ref6","_ref5","renderNoticeItems","Notices_NoticeListItem","activePage","maxButtons","items","ceil","onSelect","AddBoard","seletedUsers","Set","nextBoardId","onChkBoxChange","has","delete","add","onNameChange","addBoard","boardName","BUobjs","_userId","renderUserCheckbox","toString","title","QuestionListItem","showAnswerCard","showNewAnswer","newAnswer","onReplyBtnClick","onNewAnswerChange","answerContent","onNewAnswerBtnClick","onAnswer","answer","renderQuestionHeader","userName","flat","createDate","header","content","floor","random","persistent","getNoticeId","onNewQuestionChange","newQuestionContent","onAnswerBtnClick","_questionObj","onNewQuestionBtnClick","questionObj","nextQuestionId","renderQuestions","Notices_QuestionListItem","noticeObj","AddNotice","onImportantChange","onPersistentChange","onExpireDateChange","onTypeChange","onNoticeAdd","nextNoticeId","noticeName","noticeContent","Demographic","paddingTop","paddingBottom","backgroundImage","ImageURL","Name","Class","Age","Tel","StudentProfile","redirectToClassRecord","student_id","redirectToInstructorsNote","userList","border","backgroundColor","components_Students_Demographic","DeletePopup","deleteNote","NamePopup","fontWeight","lineHeight","tel","InstructorsNote","_Component3","loaded","Notes","setNotes","notes","notesRaw","Instructor","Content","renderNoteList","fontSize","myNoteExists","noteList","_note","userInfo","getUserInfo","InstructorsNote_Note","instructor_name","instructor_tel","InstructorsNote_MyNote","Note","InstructorsNote_NamePopup","MyNote","InstructorsNote_DeletePopup","marginLeft","validRecords","renderRecordList","_record","ClassRecord_MyRecordListItem","test","passSetState","ClassRecord_RecordListItem","records","date","Records","RecordListItem","renderHashtags","_elem","ClassRecord_Hashtag","renderPictures","_url_key","align","color","MyRecordListItem","ClassRecord_DeleteRecordPopup","DeleteRecordPopup","deleteRecord","_this5","ClassRecordFiltered","CLassRecordFiltered_MyRecordListItem","CLassRecordFiltered_RecordListItem","CLassRecordFiltered_Hashtag","CLassRecordFiltered_DeleteRecordPopup","EditClassRecord","textcontent","confirm","marginRight","InstructorsNoteAddModify","LogIn","loginSuccess","photo","App","path","component","UploadClassRecord","exact","Boolean","hostname","ReactDOM","render","components_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.311cafd5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/BOBO_logo.3a739164.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/basic.38eea7b4.png\";","import * as firebase from 'firebase'\r\nlet database;\r\nlet storage;\r\nlet config = {\r\n    apiKey: \"AIzaSyA5_bIw4uLv00p40TzdHn6MsG3zmIScw24\",\r\n    authDomain: \"cs374-bobo.firebaseapp.com\",\r\n    databaseURL: \"https://cs374-bobo.firebaseio.com\",\r\n    projectId: \"cs374-bobo\",\r\n    storageBucket: \"cs374-bobo.appspot.com\",\r\n    messagingSenderId: \"639352671004\"\r\n}\r\nexport const fire = () => {\r\n    if (!firebase.apps.length) {\r\n        firebase.initializeApp(config);\r\n    }\r\n  database = firebase.database()\r\n  \r\n  storage = firebase.storage()\r\n\r\n}\r\n\r\nexport const getstorage = () => {\r\n  return storage;\r\n}\r\n\r\nexport const getFireDB = (dir) => {\r\n  if (dir===null)\r\n    dir = '/';\r\n  return database.ref(dir).once('value')\r\n}\r\n\r\nexport const getPictureURL = (name, _this) => {\r\n  var targetref = database.ref('/User/');\r\n  var url=\"\"\r\n  targetref.once('value', function(snapshot) {\r\n    snapshot.forEach(function(child){\r\n      if(child.val().name === name)\r\n      {\r\n        _this.setState({url:child.val().picture});\r\n        _this.setState({originurl:child.val().picture});       \r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const getPictureURL_Record = (name, _this, recordtime) => {\r\n  var targetref = database.ref('/ClassRecords/'+recordtime);\r\n  var url=\"\"\r\n  \r\n\r\n  return new Promise((_resolve, _reject) => {\r\n    targetref.once('value', function(snapshot) {\r\n      snapshot.forEach(function(child){\r\n        console.log(child.val().name, name);\r\n        if(child.val().name === name)\r\n        {\r\n          // return child.val().picture;\r\n          _resolve(child.val().picture)\r\n        }\r\n      })\r\n    })\r\n  });\r\n  \r\n\r\n  \r\n  \r\n  \r\n\r\n}\r\n\r\n\r\nexport const pushDB = (dir, obj) => {\r\n  return database.ref(dir).push(obj);\r\n}\r\n\r\n\r\nexport const pushDB_wait = (dir, obj,forwait) => {\r\n  console.log(forwait);\r\n  return database.ref(dir).push(obj);\r\n}\r\n\r\nexport const pushMultipleDB = (dir, objs) => {\r\n  var updates = {};\r\n  let ref = database.ref(dir);\r\n  objs.forEach(_obj => {\r\n    updates[ref.push().key] = _obj;\r\n  });\r\n  return ref.update(updates);\r\n}\r\n\r\nexport const setDB = (dir, obj) => {\r\n  return database.ref(dir).set(obj);\r\n}\r\n\r\nexport const deleteDB = (dir) => {\r\n  database.ref(dir).remove();\r\n}\r\n\r\nexport const getFireDB_arr = (dir, _this, target, type, want) => {\r\n  if (dir===null)\r\n    dir = '/';\r\n  var targetref = database.ref(dir);\r\n  var temparr = [];\r\n  targetref.once('value', function(snapshot) {\r\n    snapshot.forEach(function(child){\r\n      if(type)\r\n      {   \r\n        if(child.val()[type] === want)\r\n        {\r\n          temparr.push(child.val());\r\n          _this.setState({[target]:temparr});\r\n        }\r\n      }\r\n      else \r\n      {\r\n        temparr.push(child.val());\r\n        _this.setState({[target]:temparr});\r\n      }     \r\n    })\r\n  })\r\n  \r\n  return temparr\r\n}\r\n\r\nexport const updateChild = (dir, childName, value) => {\r\n  database.ref(dir).update({[childName]: value});\r\n}\r\n\r\n\r\n\r\nexport const upload_file = (dir, file, filename) => {\r\n  let target = storage.ref(dir + filename);\r\n  //target.put(file);\r\n  var uploadTask = target.put(file);\r\n\r\n  // Register three observers:\r\n  // 1. 'state_changed' observer, called any time the state changes\r\n  // 2. Error observer, called on failure\r\n  // 3. Completion observer, called on successful completion\r\n  uploadTask.on('state_changed', function(snapshot){\r\n    // Observe state change events such as progress, pause, and resume\r\n    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n    var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n    console.log('Upload is ' + progress + '% done');\r\n    switch (snapshot.state) {\r\n      case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n        console.log('Upload is paused');\r\n        break;\r\n      case firebase.storage.TaskState.RUNNING: // or 'running'\r\n        console.log('Upload is running');\r\n        break;\r\n    }\r\n  }, function(error) {\r\n    // Handle unsuccessful uploads\r\n  }, function() {\r\n    // Handle successful uploads on complete\r\n    // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n    uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n      console.log('File available at', downloadURL);\r\n\r\n    });\r\n\r\n  });\r\n}\r\n\r\n\r\nexport const download_picture = (pictureurl, _this) => {\r\n  var Storageref = storage.ref();\r\n  \r\n  var strarray = pictureurl.split('/')\r\n  const images = Storageref.child(strarray[0])\r\n  const image = images.child(strarray[1]) \r\n\r\n  storage.ref('User').child(strarray[1]).getDownloadURL().then(function(url) {\r\n      \r\n      \r\n      _this.setState({url});\r\n    \r\n      _this.setState({mount:false});\r\n\r\n  }).catch(function(error) {\r\n    // Handle any errors\r\n    _this.setState({mount:false});\r\n    \r\n    return;\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\nexport const upload_file2 = (dir, file, filename, _this) => {\r\n  let target = storage.ref(dir + filename);\r\n  target.put(file).then(function(snapshot){\r\n    _this.setState({\r\n      photos : _this.state.photos.concat(storage.ref(dir + filename).getDownloadURL())\r\n    });\r\n  });\r\n  // var uploadTask = target.put(file);\r\n  // new Promise(function (resolve, reject) {\r\n  //   target.put(file, function () {\r\n  //     resolve(target);\r\n  //   })\r\n\r\n  // }).then(function(target){\r\n  //   _this.setState({\r\n  //     photos : _this.state.photos.concat(storage.ref(dir + filename).getDownloadURL())\r\n  //   });\r\n  // });\r\n\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { Icon } from 'react-materialize';\r\n\r\nimport \"../css/Menu.css\";\r\n\r\nexport class Menu extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"menu\">\r\n        <div className=\"menu-item\"><Link to=\"/studentList/3\">\r\n          <Icon className=\"menu-icon\" medium={true}>assignment_ind</Icon>\r\n          </Link></div>\r\n        <div className=\"menu-item\"><Link to=\"/classRecord/3\">\r\n          <Icon className=\"menu-icon\" medium={true}>add_box</Icon>\r\n          </Link></div>\r\n        <div className=\"menu-item\"><Link to=\"/board\">\r\n          <Icon className=\"menu-icon\" medium={true}>assignment</Icon>\r\n          </Link></div>\r\n        <div className=\"menu-item\"><Link to=\"/settings\">\r\n          <Icon className=\"menu-icon\" medium={true}>settings</Icon>\r\n          </Link></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Menu\r\n","import React, { Component } from 'react';\r\nimport {Row, Col, Button} from 'react-materialize';\r\nimport \"../css/Topbar.css\";\r\n\r\nexport class Topbar extends Component {\r\n  render() {\r\n    return (\r\n      <Row id=\"topbar-row\">\r\n        <Col s={12}>\r\n          <div id=\"topbar-container\">\r\n            <span id=\"topbar\">{this.props.name}</span>\r\n            {this.props.showBack ? <Button id=\"topbar-back-btn\" node=\"a\" floating small waves=\"light\" icon=\"arrow_back\" href={this.props.backTo}/>: <span></span>}\r\n            {this.props.showOptional? this.props.optionalComponent : <span></span>}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Topbar\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport {Link} from 'react-router-dom'\r\nimport Popup from 'reactjs-popup'\r\nimport { Row, Col, Collection, CollectionItem, Autocomplete, Button, Dropdown, Select, Divider } from 'react-materialize';\r\n\r\nimport Topbar from \"../Topbar\";\r\n//import StudentListItem from './StudentListItem';\r\n//import ClassListItem from './ClassListItem';\r\nimport { fire, getFireDB_arr, getFireDB, download_picture, getPictureURL } from '../../config/fire'\r\nimport \"../../css/Students/StudentList.css\"\r\nimport photo from './basic.png'\r\n\r\nexport class StudentList extends Component {\r\n\r\n  state = {\r\n    Students: [],\r\n    CurrentUser: {\r\n      id: 1,\r\n      name: \"Juho Kim\"\r\n    },\r\n    Users: [],\r\n    autocompleteData: { Test: null, Test2: null },\r\n    StudentFiltered: [],\r\n    ClassTable: [],\r\n    curr_instructor: this.props.match.params.instructor_id\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    getFireDB_arr('User/', this, 'Students', 'type', 'parent');\r\n    \r\n    getFireDB()\r\n    .then(res =>{\r\n      // console.log(\"--- \", this.state.Students);\r\n      let DB = res.val();\r\n      var Users = [];\r\n      for( var key in DB.User ) Users.push(DB.User[key]);\r\n      var Parents = Users.filter(_mapElem => {\r\n        return _mapElem.type == 'parent';\r\n      }).map(_mapElem => {\r\n        return _mapElem.name;\r\n      });\r\n      var autocompleteData = Parents.reduce( (_acc, _user) => {\r\n        return {..._acc, [_user]:null};\r\n      }, {});\r\n      console.log(\"***\", Users);\r\n      this.setState({...this.state, Users, autocompleteData, showAutocomplete:true});\r\n    });\r\n\r\n    getFireDB('Class/').then (\r\n      result => {\r\n        console.log(\"classtable: \",result.val())\r\n        var classtable = result.val();\r\n        this.setState({ ...this.state, ClassTable: result.val() });\r\n      }\r\n    )\r\n  }\r\n\r\n  onAutocomplete = (_studentName) => {\r\n    console.log(this.state.Users);\r\n\r\n    var student = this.state.Users.find(_student => _student.name === _studentName)\r\n    this.setState({ ...this.state, redirect: true, redirectTo: \"/studentProfile/main/\"+this.state.curr_instructor+\"/\" +student.id  });\r\n  }\r\n\r\n  onClassSelection = e => {\r\n    var s = document.getElementById(\"selection\")\r\n    var selectedClass = s.options[s.selectedIndex].text\r\n    console.log(\"selected class: \",selectedClass)\r\n    var StudentFiltered = this.state.Students.filter(_student => {\r\n      console.log(\"**\", _student.name, _student.class)\r\n      return _student.class === selectedClass\r\n    })\r\n    console.log(\"filt:\",StudentFiltered)\r\n    this.setState({ ...this.state, selectedClass, StudentFiltered, showSelectClass: true });\r\n  }\r\n\r\n\r\n  renderStudentList = () => {\r\n    var studentLists = this.state.showSelectClass ? this.state.StudentFiltered : this.state.Students;\r\n    studentLists.sort(function(_a, _b) {\r\n      return _a.name > _b.name ? 1 : -1;\r\n    });\r\n    return studentLists.map(_student => {\r\n      return <StudentListItem data={_student} instructor={this.state.curr_instructor} />\r\n    });\r\n  }\r\n\r\n  renderStudentFilteredList = () => {\r\n    console.log('renderfilter:', this.state.StudentFiltered)\r\n    return this.state.StudentFiltered.map(_student => {\r\n      return <StudentListItem data={_student} instructor={this.state.curr_instructor} />\r\n    });\r\n  }\r\n\r\n  renderClassList = () => {\r\n    return this.state.ClassTable.map(_class => {\r\n      return <ClassListItem data={_class}/>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo} />\r\n\r\n    return (\r\n      <div className='content student-list-content'>\r\n        <div><Topbar id='class-record-topbar' name=\"Student List\" /> </div>\r\n        { /* search */}\r\n        <Row id=\"student-list-search-row\">\r\n          <Col s={12}>\r\n            {this.state.showAutocomplete ?\r\n              <Autocomplete\r\n                options={{ data: this.state.autocompleteData, onAutocomplete: this.onAutocomplete }}\r\n                placeholder=\"Search by student name\"\r\n                icon=\"search\"\r\n                s={12} /> :\r\n              <span></span>\r\n            }\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* select class */}\r\n        <Row id=\"select-class-row\" style={{ alignItems: 'center' }}>\r\n          <Col s={12}>\r\n            <Select\r\n              id='selection'\r\n              onChange={this.onClassSelection}\r\n              style={{ width: '100%' }}>\r\n              <option value=\"\" disabled selected>Select a class</option>\r\n              {this.renderClassList()}\r\n            </Select>\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* show student list */}\r\n        <Row id=\"show-student-list-row\">\r\n          <Col className=\"showStudentList\" s={12}>\r\n            <Collection>\r\n              {this.renderStudentList()}\r\n            </Collection>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass ClassListItem extends Component {\r\n  render() {\r\n    return (\r\n      <option value={this.props.data}>\r\n        {this.props.data}\r\n      </option>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass StudentListItem extends Component {\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <CollectionItem className=\"student\" href={\"/BOBO/#/studentProfile/main/\" +this.props.instructor +'/'+this.props.data.id}>\r\n        <Row className=\"studentChild\" style={{ marginTop: '0px', marginBotton: '0px', height: '70px' }}>\r\n          {/* profile image */}\r\n          <Col s={3} style={{ alignItems: 'center' }}>\r\n            {/* <img className=\"profileImage\" id=\"profile\" src={purl} alt=\"photo\" width='70px' height='70px'></img> */}\r\n            <img className=\"profileImage\" src={this.props.data.image_url} alt=\"photo\" width='70px' height='70px'></img>\r\n          </Col>\r\n          {/* name and class */}\r\n          <Col className=\"studentItem\" s={9} >\r\n            <div className=\"studentItemChild\">\r\n              <div className='studentName'>{this.props.data.name}</div>\r\n              <br></br>\r\n              {this.props.data.class}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default StudentList","import React, { Component } from 'react'\r\nimport {Row, Col, Autocomplete,Button,TextInput,Icon, Textarea,Checkbox} from 'react-materialize';\r\nimport Topbar from \"../Topbar\";\r\nimport '../../css/ClassRecord.css';\r\nimport '../../css/Common.css';\r\nimport Popup from \"reactjs-popup\";\r\nimport {Link} from 'react-router-dom';\r\nimport { fire, getstorage, getFireDB,getFireDB_arr, pushDB,pushDB_wait, upload_file, upload_file2} from '../../config/fire';\r\nimport {Redirect} from 'react-router';\r\nimport * as firebase from 'firebase'\r\n\r\n\r\n\r\nconst PopupExample =  () => (\r\n  <CancelPopup trigger={<Button className=\"pinkcancelbutton buttonleft\" >Cancel</Button>} position=\"top left\">\r\n    {close => (\r\n      <div>\r\n        <p>Are you sure to cancel?<br></br><br></br></p>\r\n\r\n          <Button className=\"close pinkcancelbutton\" onClick={close}>No</Button>\r\n          <Link to=\"/studentList/tommy11\">\r\n            <Button className=\"close pinkcancelbutton\" style={{float:\"right\"}} onClick={ClassRecord.doneonClick}>\r\n              Yes\r\n            </Button>\r\n          </Link>\r\n      </div>\r\n    )}\r\n  </CancelPopup>\r\n)\r\n\r\n\r\n\r\nconst INITIAL_STATE = {\r\n  InstructorID:'teacher101',\r\n  StudentID: '',\r\n  Studentname: '',\r\n  Text:'',\r\n  file:null,\r\n  student:[],\r\n  autocomplete_student:[],\r\n  autocompleteData: {Test:null, Test2:null},\r\n  Users:[],\r\n  Date:'',\r\n  redirectTo: \"\",\r\n  disabled: false,\r\n  Hashtag:[],\r\n  showmodifiy:false,\r\n  photos:[],\r\n  files:[],\r\n\r\n};\r\n\r\nexport class ClassRecord extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    fire();\r\n    this.state={...INITIAL_STATE}\r\n    this.setRef = ref => {\r\n      this.file = ref;\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n\r\n    getFireDB_arr('User/',this,'autocomplete_student','type','parent');\r\n    getFireDB()\r\n    .then(res =>{\r\n      let DB = res.val();\r\n      var Users = [];\r\n      for( var key in DB.User ) Users.push(DB.User[key]);\r\n      var Parents = Users.filter(_mapElem => {\r\n        return _mapElem.type == 'parent';\r\n      }).map(_mapElem => {\r\n        return _mapElem.name;\r\n      });\r\n      var autocompleteData = Parents.reduce( (_acc, _user) => {\r\n        return {..._acc, [_user]:null};\r\n      }, {});\r\n      this.setState({...this.state, Users, autocompleteData, showAutocomplete:true});\r\n          \r\n      if(window.location.hash.indexOf(\"?\")!=-1)\r\n      {\r\n        var temparray=window.location.hash.split(\"?\");\r\n        for (var index in Users) \r\n        {\r\n          \r\n          if(Users[index].id===Number(temparray[1]))\r\n          {\r\n            this.setState({...this.state, Studentname:Users[index].name,StudentID:Number(temparray[1])});\r\n            var select_parent = document.getElementById(\"studentname\");\r\n            select_parent.value = Users[index].name;\r\n\r\n          }\r\n        }\r\n      }\r\n    });\r\n            \r\n  }\r\n  \r\n\r\n  \r\n  handlenameChange = e =>\r\n  {\r\n    \r\n    this.setState({...this.state, Studentname : e.target.value});\r\n  }\r\n  handlecontentChange = e =>\r\n  {\r\n    var Studentname = this.state.Studentname;\r\n    console.log(Studentname);\r\n    this.setState({...this.state, Text : e.target.value},\r\n      () => {\r\n        var select_parent = document.getElementById(\"studentname\");\r\n        select_parent.value = Studentname;\r\n      });\r\n  }\r\n  handlefileChange(e) {\r\n  this.setState({...this.state, file:e.target.files});\r\n  }\r\n  onAutocomplete = (_userName) => {\r\n    console.log(this.state.Users);\r\n    console.log(_userName);\r\n\r\n    var parent = this.state.Users.find(_user => _user.name === _userName);\r\n    \r\n    this.setState({...this.state, StudentID:parent.id,Studentname:_userName}, () => {\r\n      var select_parent = document.getElementById(\"studentname\");\r\n      select_parent.value = _userName;\r\n    });\r\n  }\r\n\r\n  onAutocompleteChange =  (e) => {\r\n    this.setState({...this.state, Studentname : e.target.value});\r\n  }\r\n  doneonClick = async () =>\r\n  {\r\n    var obj = {...this.state};\r\n    var rawdate = new Date();\r\n    var rawmonth = rawdate.getMonth() + 1;\r\n    var datestring = String(rawdate.getFullYear()) +\"/\"+ String(rawmonth)+\"/\" + String(rawdate.getDate()) ;\r\n    var dirname = rawdate.getTime();\r\n    obj.Date = datestring\r\n    \r\n    delete obj.autocomplete_student;\r\n    delete obj.redirectTo;\r\n    delete obj.Users;\r\n    delete obj.showAutocomplete;\r\n    delete obj.disabled;\r\n\r\n    var regex = /(?:^|\\s)(?:#)([a-zA-Z--\\d]+)/gm;\r\n    var match;\r\n    \r\n    obj.Hashtag = [];\r\n\r\n    while ((match = regex.exec(obj.Text))) {\r\n        obj.Hashtag.push(match[1]);\r\n    }\r\n\r\n    var forwait = await new Promise((_resolve, _reject) => {\r\n      var completed=0;\r\n      \r\n      if(obj.file)\r\n      {\r\n        var fromfile = document.getElementById(\"inputfile\");\r\n        var fromcamera = document.getElementById(\"inputcamera\");\r\n        var fromgallery = document.getElementById(\"inputgallery\");\r\n\r\n        \r\n        Array.prototype.forEach.call(fromfile.files, function(file) { \r\n          upload_file('ClassRecords/'+dirname+'/',file,file.name);\r\n          obj.files.push('ClassRecords/'+dirname+'/'+file.name);\r\n        });\r\n        Array.prototype.forEach.call(fromcamera.files, function(file) { \r\n          upload_file('ClassRecords/'+dirname+'/',file,file.name);\r\n          obj.photos.push('ClassRecords/'+dirname+'/'+file.name);\r\n        });\r\n        Array.prototype.forEach.call(fromgallery.files, function(file) { \r\n\r\n          let target = getstorage().ref('ClassRecords/'+dirname+'/');\r\n          var uploadTask = target.put(file);\r\n          uploadTask.on('state_changed', function(snapshot){\r\n            // Observe state change events such as progress, pause, and resume\r\n            // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            console.log('Upload is ' + progress + '% done');\r\n            switch (snapshot.state) {\r\n              case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n                console.log('Upload is paused');\r\n                break;\r\n              case firebase.storage.TaskState.RUNNING: // or 'running'\r\n                console.log('Upload is running');\r\n                break;\r\n            }\r\n          }, function(error) {\r\n            // Handle unsuccessful uploads\r\n          }, function() {\r\n            // Handle successful uploads on complete\r\n            // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n            uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n              console.log('File available at', downloadURL);\r\n              obj.photos.push(downloadURL);\r\n              // _resolve(forwait);\r\n\r\n\r\n              new Promise(function(__resolve, __reject){\r\n                console.log(\"Before resolve\",completed);\r\n                completed++;\r\n                __resolve(completed);\r\n\r\n              }).then(function(result){\r\n                console.log(\"After resolve\",completed);\r\n                if(result==1)\r\n                {\r\n                  console.log(\"RESOLVE!\");\r\n                  _resolve(forwait);\r\n                }\r\n              })\r\n            });\r\n        \r\n          });\r\n        });\r\n      }\r\n      else\r\n      {\r\n        _resolve(forwait);\r\n      }\r\n\r\n      }\r\n    )\r\n\r\n\r\n\r\n    pushDB_wait(\"Record\", obj, forwait)\r\n    .then(_res => {\r\n      this.inputElementcontent.value= \"\";\r\n      this.inputElementname.value=\"\";\r\n      this.setState({...this.state,/*StudentID: ,*/ redirect: true, redirectTo: \"/studentList/tommy11\" });\r\n    });\r\n  }\r\n  \r\n  flipbool = () => {\r\n    if(this.state.showAutocomplete)\r\n      this.setState({...this.state, showAutocomplete:false});\r\n    else\r\n      this.setState({...this.state, showAutocomplete:true});\r\n  }\r\n\r\n  fileclick = () => {\r\n    this.inputElementfile.click();      \r\n  }\r\n  galleryclick = () => {\r\n    this.inputElementgallery.click();\r\n  }\r\n  cameraclick = () => {\r\n    this.inputElementcamera.click();\r\n  }\r\n\r\n  \r\n  render() {\r\n    if(this.state.redirect)\r\n    return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n        <div className=\"content\">\r\n          <Topbar name=\"Upload Class Record\" showBack={false} backTo=\"/BOBO\"/>    \r\n\r\n          <Row id=\"parent-search-row\">\r\n          <Col s={12}>\r\n            {/* <TextInput id=\"notice-list-search\" s={12} icon=\"search\" placeholder=\"Search notice board name.\"/> */}\r\n            {this.state.showAutocomplete ?\r\n              <Autocomplete id=\"studentname\"\r\n                ref={_input => this.inputElementname = _input}\r\n                options={{data: this.state.autocompleteData, onAutocomplete:this.onAutocomplete}}\r\n                value={this.state.Studentname}\r\n                onChange={this.onAutocompleteChange}\r\n                placeholder=\"Search student name\"\r\n                icon=\"search\" s={12}/> :\r\n                <span></span>\r\n                //<Textarea onChange={this.flipbool} id=\"after\" value=\"\" icon=\"search\" s={12}/>       \r\n            }\r\n\r\n          </Col>\r\n        </Row>\r\n        <div className=\"buttons\">\r\n          <form action=\"#\" >\r\n              <div className=\"btn pinkbutton buttonleft\" onClick={this.fileclick}>\r\n                <input ref={_input => this.inputElementfile = _input}  id=\"inputfile\" type=\"file\" onChange={this.handlefileChange.bind(this)} multiple name=\"File\"/>\r\n                <label className=\"bigfont\">File</label>\r\n              </div>           <div className=\"btn pinkbutton\" onClick={this.galleryclick}>\r\n                <input ref={_input2 => this.inputElementgallery = _input2} type=\"file\" accept=\"image/*\"  onChange={this.handlefileChange.bind(this)} multiple id=\"inputcamera\" capture=\"camera\"/>\r\n                <label className=\"bigfont\">Camera</label>\r\n              </div>           <div className=\"btn pinkbutton\" onClick={this.cameraclick}>\r\n                <input ref={_input3 => this.inputElementcamera = _input3} type=\"file\" accept=\"image/*\" onChange={this.handlefileChange.bind(this)} multiple id=\"inputgallery\"/>\r\n                <label className=\"bigfont\">Gallery</label>\r\n              </div>\r\n              \r\n            </form>\r\n          </div>\r\n          \r\n          <div className=\"bottommargin\">\r\n            <Textarea placeholder=\"Write class records..\r\n              #classs #amy\"\r\n              onChange={this.handlecontentChange}  ref={_input => this.inputElementcontent = _input} value={this.state.Text}/>\r\n              <div className=\"row\">\r\n                <PopupExample/>\r\n                <Button waves=\"light\" onClick={this.doneonClick.bind(this)}\r\n                  className=\"buttonright pinkcancelbutton\">\r\n                  Done\r\n                </Button>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\nexport default ClassRecord;\r\n\r\nclass CancelPopup extends Component {\r\n  state={\r\n    checked:false,\r\n    open:false\r\n  }\r\n\r\n  check =(event)=> {\r\n    this.setState({checked: !this.state.checked});\r\n  }\r\n\r\n\r\n  closing = () => {\r\n    this.setState({checked: false})\r\n  }\r\n\r\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{width: '40%'}} trigger={<Button className=\"pinkcancelbutton buttonleft\" >Cancel</Button>}\r\n                position=\"top left\" onClose={this.closing}>\r\n        { close => (\r\n          <div className=\"NoteDeleteContainer\">\r\n              <br/>\r\n                <Checkbox className = \"NoteDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\"/>\r\n              <span className=\"NoteDeleteWarningText\"> Are you sure to cancel?</span>\r\n              <br/>\r\n              <br/>\r\n                <button className=\"close pinkcancelbutton\" onClick={close}>\r\n                    No\r\n                </button>\r\n              {this.state.checked? (\r\n                          <Link to=\"/studentList/tommy11\">\r\n                <button className=\"close pinkcancelbutton\" style={{float:\"right\"}} onClick={ClassRecord.doneonClick}>\r\n                    Yes\r\n                </button></Link>\r\n              ) : null}\r\n          </div>)\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {CollectionItem} from 'react-materialize';\r\n\r\nexport class BoardListItem extends Component {\r\n  render() {\r\n    return (\r\n      <CollectionItem href={\"/BOBO/#/board/\" + this.props.data.id} className=\"CommonText\">\r\n        {this.props.data.name}\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BoardListItem\r\n","import React, { Component } from 'react';\r\nimport BoardListItem from \"./BoardListItem\";\r\nimport Topbar from \"../Topbar\";\r\nimport {Row, Col, Collection, Autocomplete, Button} from 'react-materialize';\r\nimport {Redirect} from 'react-router';\r\nimport { fire, getFireDB} from '../../config/fire';\r\n\r\nimport \"../../css/Notices/BoardList.css\";\r\nimport \"../../css/Common.css\";\r\n\r\nexport class NoticeBoard extends Component {\r\n  state = {\r\n    Boards: [],\r\n    BoardUserMap: [],\r\n    validBoards: [],\r\n    autocompleteData: {Test:null, Test2:null},\r\n    redirect: false,\r\n    redirectTo: -1,\r\n    CurrentUser: {\r\n      id: 1,\r\n      name: \"\"\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n    // this.state = {\r\n    //   Boards : [ {\r\n    //       id: 1,\r\n    //       name: \"Class A\",\r\n    //     },{\r\n    //       id: 2,\r\n    //       name: \"Class B\",\r\n    //     },{\r\n    //       id: 3,\r\n    //       name: \"Class C\"\r\n    //     },{\r\n    //       id: 4,\r\n    //       name: \"Class D\",\r\n    //     },{\r\n    //       id: 5,\r\n    //       name: \"Class E\",\r\n    //     },{\r\n    //       id: 6,\r\n    //       name: \"Class F\"\r\n    //     }\r\n    //   ],\r\n    //   BoardUserMap : [{\r\n    //     userId: 1,\r\n    //     boardId: 1\r\n    //   }, {\r\n    //     userId: 1,\r\n    //     boardId: 2\r\n    //   }, {\r\n    //     userId: 2,\r\n    //     boardId: 1\r\n    //   }, {\r\n    //     userId: 1,\r\n    //     boardId: 4\r\n    //   }],\r\n    //   CurrentUser : {\r\n    //     id: 1,\r\n    //     name: \"\"\r\n    //   },\r\n    //   UnreadPosts : [{\r\n    //     userId: 1,\r\n    //     postId: 34,\r\n    //     boardId: 1 \r\n    //   }, {\r\n    //     userId: 1,\r\n    //     postId: 35,\r\n    //     boardId: 2\r\n    //   }, {\r\n    //     userId: 1,\r\n    //     postId: 36,\r\n    //     boardId: 1\r\n    //   }],\r\n    //   validBoards: [],\r\n    //   autocompleteData: {Test:null, Test2:null},\r\n    //   redirect: false,\r\n    //   redirectTo: -1,\r\n    // }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    getFireDB()\r\n    .then(res =>{\r\n      console.log(res.val());\r\n      let DB = res.val();\r\n      var Boards = [];\r\n      for( var key in DB.Board ) Boards.push(DB.Board[key]);\r\n      \r\n      var BoardUserMap = [];\r\n      for( var key in DB.BoardUserMap) BoardUserMap.push(DB.BoardUserMap[key]);\r\n\r\n      var validBoardIds = BoardUserMap.filter(_mapElem => {\r\n        return _mapElem.userId === this.state.CurrentUser.id;\r\n      }).map(_mapElem => {\r\n        return _mapElem.boardId;\r\n      });\r\n  \r\n      var validBoards = Boards.filter(_board => validBoardIds.indexOf(_board.id)>-1);\r\n      var autocompleteData = validBoards.reduce( (_acc, _board) => {\r\n        return {..._acc, [_board.name]:null};\r\n      }, {});\r\n      this.setState({...this.state, validBoards, autocompleteData, showAutocomplete:true});\r\n    });\r\n  }\r\n\r\n  onAutocomplete = (_boardName) => {\r\n    var board = this.state.validBoards.find(_board => _board.name === _boardName);\r\n    this.setState({...this.state, redirect: true, redirectTo: \"board/\" + board.id});\r\n  }\r\n\r\n  renderBoardList = () => {\r\n    return this.state.validBoards.map(_board => {\r\n      return <BoardListItem data={_board}/>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if(this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <Topbar\r\n          name=\"Notice Boards\"\r\n          showOptional={true}\r\n          optionalComponent={<Button\r\n                              id=\"board-list-add-btn\"\r\n                              node=\"a\"\r\n                              floating small\r\n                              waves=\"light\"\r\n                              icon=\"add\"\r\n                              href={\"/BOBO/#/addBoard\"}/>}/>\r\n        <Row id=\"board-list-search-row\">\r\n          <Col s={12}>\r\n            {/* <TextInput id=\"notice-list-search\" s={12} icon=\"search\" placeholder=\"Search notice board name.\"/> */}\r\n            {this.state.showAutocomplete ?\r\n              <Autocomplete\r\n                options={{data: this.state.autocompleteData, onAutocomplete:this.onAutocomplete}}\r\n                placeholder=\"Search notice board name\"\r\n                icon=\"search\" s={12}/> :\r\n              <span></span>\r\n            }\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col s={12}>\r\n            <Collection>{this.renderBoardList()}</Collection>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NoticeBoard\r\n","import React, { Component } from 'react'\r\nimport '../../css/Settings/Setting.css'\r\n\r\nexport class Settings extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"content\" style={{textAlign: \"center\"}}>\r\n        <span className=\"DonationTitle\">How can I make contribution?</span>\r\n        <br/>\r\n        <br/>\r\n        <span className=\"DonationContent\">Donation: Woori Bank </span>\r\n        <span className=\"DonationContent\">1002-791-950310, Jungwoo Kim</span>\r\n        <br/>\r\n        <br/>\r\n        <span className=\"DonationLastWord\">Your support is very much appreciated.</span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Settings\r\n","import React, { Component } from 'react';\r\nimport {CollectionItem} from 'react-materialize';\r\nimport {Redirect} from 'react-router';\r\n\r\nexport class NoticeListItem extends Component {\r\n  state = {\r\n    redirect: false\r\n  }\r\n\r\n  onTypeClick = (e) => {\r\n    this.props.onTypeClick(this.props.data.type);\r\n  }\r\n\r\n  onItemClick = (e) => {\r\n    this.setState({redirect:true, redirectTo: this.props.pathname + \"/notice/\" + this.props.data.id});\r\n  }\r\n\r\n  formatDate = (_date) => {\r\n    var _date = new Date(_date);\r\n    var day = _date.getDate();\r\n    var monthIndex = _date.getMonth();\r\n    var year = _date.getFullYear();\r\n    return year + \"/\" + (monthIndex + 1) + \"/\" + day;\r\n  }\r\n\r\n  renderTypeBadge = () => {\r\n    //this.props.pathname + \"/notice/\" + this.props.data.id\r\n    return (<div className=\"notice-list-item-type\"\r\n                onClick={this.onTypeClick}>\r\n              {this.props.data.type[0].toUpperCase()}\r\n            </div>);\r\n  }\r\n\r\n  render() {\r\n    if(this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n      <CollectionItem>\r\n        {this.renderTypeBadge()}\r\n        <div style={{width:\"90%\", display:\"inline-block\"}} onClick={this.onItemClick}>\r\n          <span className={this.props.data.important?\"important\" : \"none\"}></span>\r\n          {this.props.data.name}\r\n          <span className=\"notice-list-item-questions\"><span>{this.props.data.questionCnt}</span></span>\r\n          <span className=\"notice-list-item-expire\">Expired at {this.formatDate(this.props.data.expireDate)}</span>\r\n        </div>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NoticeListItem\r\n","import React, { Component } from 'react';\r\nimport Topbar from '../Topbar';\r\nimport {Button, Pagination, Row, Col, Collection} from 'react-materialize';\r\nimport NoticeListItem from './NoticeListItem';\r\nimport \"../../css/Notices/Board.css\";\r\nimport { fire, getFireDB} from '../../config/fire';\r\n\r\nexport class Board extends Component {\r\n  state = {\r\n    board: {\r\n      name: \"\"\r\n    },\r\n    Notices: [],\r\n    validNotices: [],\r\n    displayNotices: [],\r\n    redirect: false,\r\n    redirectTo: \"\",\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n  }\r\n\r\n  getBoardId = () => {\r\n    return this.props.match.params.id;\r\n  }\r\n\r\n  parseQuery = () => {\r\n    var queryString = this.props.location.search;\r\n    var query = {};\r\n    var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\r\n    for (var i = 0; i < pairs.length; i++) {\r\n        var pair = pairs[i].split('=');\r\n        query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\r\n    }\r\n    return query;\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    // console.log(this.props);\r\n    getFireDB()\r\n    .then(_res => {\r\n      let DB = _res.val();\r\n      for(var key in DB.Board) {\r\n        if( DB.Board[key].id == this.getBoardId() * 1 ) {\r\n          this.state.board = DB.Board[key];\r\n        }\r\n      }\r\n\r\n      var query = this.parseQuery();\r\n      var page = query.page ? query.page * 1 : 1;\r\n      var type = query.type ? query.type : \"all\";\r\n      var notices = [];\r\n      var questions = [];\r\n\r\n      for(var key in DB.Question) questions.push(DB.Question[key]);\r\n      for(var key in DB.Notice) {\r\n        if(DB.Notice[key].boardId === this.getBoardId() * 1) {\r\n          var questionCnt = 0;\r\n          questions.forEach(_question => {\r\n            if(_question.noticeId === DB.Notice[key].id) questionCnt++;\r\n          });\r\n          notices.push({...DB.Notice[key], questionCnt});\r\n        }\r\n      }\r\n      notices.sort((_elem1, _elem2) => {\r\n        return _elem2.id - _elem1.id;\r\n      });\r\n\r\n      var validNotices = notices.filter(_notice => {\r\n        return new Date(_notice.expireDate) > new Date();\r\n      })\r\n      .filter(_notice=>(type===\"all\" || _notice.type===type));\r\n  \r\n      var end = Math.min(page*10, validNotices.length);\r\n      var displayNotices = validNotices.slice((page-1) * 10, end);\r\n  \r\n      this.setState({...this.state,\r\n        Notices: notices,\r\n        validNotices,\r\n        displayNotices,\r\n        page,\r\n        redirect: false});\r\n    });\r\n\r\n    //fetch board data\r\n    // var boardId = this.getBoardId();\r\n    \r\n\r\n    // var genRandomDate = (start, end) => {\r\n    //   return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));\r\n    // }\r\n\r\n    // var genRandomNum = (_max) => {\r\n    //   return Math.floor(Math.random() * _max);\r\n    // }\r\n\r\n    // for(var i = 0 ; i < 30; i ++) {\r\n    //   types.forEach(_type => {\r\n    //     notices.push({\r\n    //       id: id++,\r\n    //       type: _type,\r\n    //       name: _type + \" \" + id,\r\n    //       questions: [],\r\n    //       expireDate: genRandomDate(new Date(2019, 0, 1), new Date(2019, 11, 30)),\r\n    //       questionCnt: genRandomNum(10),\r\n    //       important: genRandomNum(3) == 1,\r\n    //       persistent: genRandomNum(5) == 1, \r\n    //     });\r\n    //   });\r\n    // }\r\n\r\n    // var validNotices = notices.filter(_notice => {\r\n    //   return _notice.expireDate > new Date();\r\n    // })\r\n    // .filter(_notice=>(type===\"all\" || _notice.type===type));\r\n\r\n    // var end = Math.min(page*10, validNotices.length);\r\n    // var displayNotices = validNotices.slice((page-1) * 10, end);\r\n\r\n    // this.setState({...this.state,\r\n    //   Notices: notices,\r\n    //   validNotices,\r\n    //   displayNotices,\r\n    //   page,\r\n    //   redirect: false});\r\n  }\r\n\r\n  componentWillReceiveProps() {\r\n    window.location.reload();\r\n  }\r\n\r\n  onPageSelect = (e) => {\r\n    var queryString = \"?page=\"+e;\r\n    var query = this.parseQuery();\r\n    for(let [key, value] of Object.entries(query)) {\r\n      if(key === \"page\") continue;\r\n      queryString += \"&\" + encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\r\n    }\r\n    \r\n    this.props.history.push(this.props.location.pathname + queryString);\r\n    window.location.reload();\r\n  }\r\n\r\n  onTypeClick = (_type) => {\r\n    var queryString = \"?type=\"+_type;\r\n    var query = this.parseQuery();\r\n    for(let [key, value] of Object.entries(query)) {\r\n      if(key === \"type\") continue;\r\n      queryString += \"&\" + encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\r\n    }\r\n\r\n    this.props.history.push(this.props.location.pathname + queryString);\r\n    window.location.reload();\r\n  }\r\n\r\n  renderNoticeItems = () => {\r\n    return this.state.displayNotices.map(_notice => {\r\n      return <NoticeListItem\r\n        pathname={this.props.location.pathname}\r\n        data={_notice}\r\n        onTypeClick={this.onTypeClick}/>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"content\">\r\n        <Topbar\r\n          name={this.state.board.name}\r\n          showBack={true}\r\n          backTo=\"/BOBO/#/board\"\r\n          showOptional={true}\r\n          optionalComponent={<Button\r\n                              id=\"board-list-add-btn\"\r\n                              node=\"a\"\r\n                              floating small\r\n                              waves=\"light\"\r\n                              icon=\"add\"\r\n                              href={\"/BOBO/#/board/\" + this.getBoardId() + \"/addNotice\"}/>}/>\r\n        \r\n        <Row id=\"board-notice-list\">\r\n          <Collection>\r\n            {this.renderNoticeItems()}\r\n          </Collection>\r\n        </Row>\r\n        <div id=\"board-pagination-row\">\r\n          <Pagination\r\n            activePage={this.state.page}\r\n            maxButtons={6}\r\n            items={Math.ceil(this.state.validNotices.length / 10)}\r\n            onSelect={this.onPageSelect}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Board\r\n","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport {TextInput, Row, Col, Tabs, Tab, Checkbox, Button} from 'react-materialize';\r\nimport \"../../css/Notices/AddBoard.css\";\r\nimport {Redirect} from 'react-router';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB} from '../../config/fire';\r\n\r\nexport class AddBoard extends Component {\r\n  state = {\r\n    Users: [],\r\n    CurrentUser: {\r\n      id: 1,\r\n      name: \"\"\r\n    },\r\n    seletedUsers: new Set(),\r\n    redirect: false,\r\n    redirectTo: \"/board\"\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    // var salt = []; var types = [\"instructor\", \"parent\"];\r\n    // for(var i = 0 ; i < 20; i++) salt.push(i);\r\n    // var id = 0;\r\n    // var users = [];\r\n    // types.forEach(_type => {\r\n    //   salt.forEach(_salt => {\r\n    //     users.push({\r\n    //       name:_type + \" \" + _salt,\r\n    //       id: id++,\r\n    //       type: _type\r\n    //     });\r\n    //   });\r\n    // });\r\n\r\n    // this.setState({Users: users});\r\n\r\n    getFireDB()\r\n    .then(_res => {\r\n      let DB = _res.val();\r\n      var Users = [];\r\n      var nextBoardId = 0;\r\n      for(var key in DB.User) {\r\n        if(DB.User[key].id != this.state.CurrentUser.id)\r\n          Users.push(DB.User[key]);\r\n      }\r\n\r\n      for(var key in DB.Board){\r\n        var boardId = DB.Board[key].id;\r\n        if(boardId > nextBoardId) nextBoardId = boardId;\r\n      }\r\n      nextBoardId++;\r\n      this.setState({...this.state, Users, nextBoardId});\r\n    });\r\n  }\r\n\r\n  onChkBoxChange = (e) => {\r\n    var userId = e.target.value;\r\n    if(this.state.seletedUsers.has(userId)) this.state.seletedUsers.delete(userId);\r\n    else this.state.seletedUsers.add(userId);\r\n  }\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({...this.state, [e.target.id]:e.target.value});\r\n  }\r\n\r\n  addBoard = () => {\r\n    console.log(this.state.seletedUsers);\r\n    console.log(this.state.boardName);\r\n    var nextBoardId = this.state.nextBoardId;\r\n    var BUobjs = [{boardId: nextBoardId, userId: this.state.CurrentUser.id}];\r\n    this.state.seletedUsers.forEach(_userId => {\r\n      BUobjs.push({boardId: nextBoardId, userId: _userId * 1});\r\n    });\r\n    pushDB(\"Board\", {id: nextBoardId, name: this.state.boardName})\r\n    .then(_res => {\r\n      return pushMultipleDB(\"BoardUserMap\", BUobjs);\r\n    })\r\n    .then(_res => {\r\n      this.setState({...this.state, redirect: true});\r\n    });\r\n  }\r\n\r\n  renderUserCheckbox = (_type) => {\r\n    var users = this.state.Users.filter(_user => _user.type === _type);\r\n    return users.map(_user => {\r\n      return <Col s={12}><Checkbox value={_user.id.toString()} label={_user.name} onChange={this.onChkBoxChange}/></Col>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if(this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <Topbar name=\"Add Board\" showBack={true} backTo={\"/BOBO/#/board\"}/>\r\n        <Row id=\"add-board-name-row\">\r\n          <Col s={12}>\r\n            <TextInput s={12} id=\"boardName\" label=\"Name\" onChange={this.onNameChange}/>\r\n          </Col>\r\n        </Row>\r\n        <Row id=\"add-board-user-list-row\">\r\n          <Col s={12}>\r\n            <Tabs s={12}>\r\n              <Tab title=\"Instructors\">\r\n                {this.renderUserCheckbox(\"instructor\")}\r\n              </Tab>\r\n              <Tab title=\"Parents\">\r\n                {this.renderUserCheckbox(\"parent\")}\r\n              </Tab>\r\n            </Tabs>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col s={12}>\r\n            <Button className=\"CommonButton\" waves=\"light\" style={{float:\"right\"}} onClick={this.addBoard}>Add</Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddBoard\r\n","import React, { Component } from 'react'\r\nimport { Card, Button, Textarea } from 'react-materialize';\r\n\r\nexport class QuestionListItem extends Component {\r\n  state = {\r\n    showAnswerCard: false,\r\n    showNewAnswer: false,\r\n    newAnswer: \"\",\r\n  }\r\n\r\n  formatDate = (_date) => {\r\n    _date = new Date(_date);\r\n    var day = _date.getDate();\r\n    var monthIndex = _date.getMonth();\r\n    var year = _date.getFullYear();\r\n    return year + \"/\" + (monthIndex + 1) + \"/\" + day;\r\n  }\r\n\r\n  onReplyBtnClick = (e) => {\r\n    this.setState({...this.state, showAnswerCard: true});\r\n  }\r\n\r\n  onNewAnswerChange = (e) => {\r\n    this.setState({...this.state, answerContent: e.target.value});\r\n  }\r\n\r\n  onNewAnswerBtnClick = (e) => {\r\n    this.props.onAnswer({...this.props.data, answer: this.state.answerContent});\r\n    this.setState({...this.state, showAnswerCard: false, showNewAnswer: true, newAnswer: this.state.answerContent});\r\n  }\r\n\r\n  renderQuestionHeader = () => {\r\n    return (<div className=\"question-list-item-header grey lighten-2\">\r\n      <span className=\"name\">{this.props.data.userName}</span>\r\n      {this.props.data.answer === \"\" && this.state.newAnswer === \"\" && !this.state.showAnswerCard ?\r\n      <Button flat waves=\"light\" onClick={this.onReplyBtnClick}>\r\n        <i className=\"material-icons\">reply</i>\r\n      </Button> : <span/>\r\n      }\r\n      <span className=\"date\">{this.formatDate(this.props.data.createDate)}</span>\r\n    </div>);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"question-list-item-container\">\r\n        <Card className=\"white\" header={this.renderQuestionHeader()}>\r\n          <p>{this.props.data.content}</p>\r\n          \r\n          {this.state.showAnswerCard ? \r\n            <div>\r\n              <Textarea\r\n                className=\"new-answer-content\" placeholder=\"I think ...\"\r\n                onChange={this.onNewAnswerChange}/>\r\n              <Button className=\"red lighten-5 black-text new-answer-btn\" onClick={this.onNewAnswerBtnClick}>Answer</Button>\r\n            </div> : <span/>\r\n          }\r\n\r\n        </Card>\r\n        <Card className={\"grey lighten-2 answer-container \" + (this.props.data.answer === \"\" ? \"none\" : \"\")}>\r\n          <div><span className=\"answer-content\">{this.props.data.answer}</span></div>\r\n        </Card>\r\n        {this.state.showNewAnswer ?\r\n          <Card className=\"grey lighten-2 answer-container\">\r\n            <div><span className=\"answer-content\">{this.state.newAnswer}</span></div>\r\n          </Card> : <span/>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default QuestionListItem\r\n","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport { Row, Col, Textarea, Card, Button } from 'react-materialize';\r\nimport \"../../css/Notices/Notice.css\";\r\nimport QuestionListItem from './QuestionListItem';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB} from '../../config/fire';\r\n\r\nexport class Notice extends Component {\r\n  state = {\r\n    type: \"homework\",\r\n    name: \"\",\r\n    content: \"\",\r\n    expireDate: new Date(),\r\n    important: Math.floor(Math.random() * 2) == 1,\r\n    persistent: Math.floor(Math.random() * 2) == 1,\r\n    questions: [],\r\n    CurrentUser: {\r\n      id: 1,\r\n      name: \"Nawoo Kim\"\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n  }\r\n\r\n  getNoticeId = () => {\r\n    return this.props.match.params.id * 1;\r\n  }\r\n\r\n  componentDidMount() {\r\n    getFireDB()\r\n    .then(_res => {\r\n      let DB = _res.val();\r\n      var noticeId = this.getNoticeId();\r\n      var noticeObj = {};\r\n      for(var key in DB.Notice) {\r\n        if(DB.Notice[key].id === noticeId) {\r\n          noticeObj = DB.Notice[key];\r\n        }\r\n      }\r\n\r\n      var questions = [];\r\n      var nextQuestionId = 0;\r\n      for(var key in DB.Question) {\r\n        var questionObj = DB.Question[key];\r\n        if(questionObj.id > nextQuestionId)\r\n          nextQuestionId = questionObj.id;\r\n        if(questionObj.noticeId === noticeId)\r\n          questions.push({...questionObj, key});\r\n      }\r\n      nextQuestionId++;\r\n      this.nextQuestionId = nextQuestionId;\r\n      this.setState({...noticeObj, questions});\r\n    });\r\n  }\r\n\r\n  formatDate = (_date) => {\r\n    _date = new Date(_date);\r\n    var day = _date.getDate();\r\n    var monthIndex = _date.getMonth();\r\n    var year = _date.getFullYear();\r\n    return year + \"/\" + (monthIndex + 1) + \"/\" + day;\r\n  }\r\n\r\n  onNewQuestionChange = (e) => {\r\n    this.setState({...this.state, newQuestionContent: e.target.value});\r\n  }\r\n\r\n  onAnswerBtnClick = (_questionObj) => {\r\n    console.log(_questionObj);\r\n    var obj = {..._questionObj};\r\n    delete obj.key;\r\n    setDB(\"Question/\" + _questionObj.key, obj);\r\n  }\r\n\r\n  onNewQuestionBtnClick = (e) => {\r\n    console.log(this.state.newQuestionContent);\r\n    var questionObj = {\r\n      content: this.state.newQuestionContent,\r\n      userId: this.state.CurrentUser.id,\r\n      userName: this.state.CurrentUser.name,\r\n      noticeId: this.getNoticeId(),\r\n      id: this.nextQuestionId++,\r\n      createDate: new Date().getTime(),\r\n      answer: \"\",\r\n    };\r\n\r\n    var questions = this.state.questions;\r\n    questions.push(questionObj);\r\n    this.setState({...this.state, questions, newQuestionContent: \"\"});\r\n    pushDB(\"Question\", questionObj);\r\n  }\r\n\r\n  renderQuestions = () => {\r\n    return this.state.questions.map(_question => {\r\n      return (<QuestionListItem data={_question} onAnswer={this.onAnswerBtnClick}/>); \r\n    });\r\n  }\r\n\r\n  renderTypeBadge = () => {\r\n    //this.props.pathname + \"/notice/\" + this.props.data.id\r\n    return (<div className=\"notice-type\"\r\n                onClick={this.onTypeClick}>\r\n              <span>\r\n                {this.state.type[0].toUpperCase()}\r\n              </span>\r\n            </div>);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"content\" id=\"notice-content\">\r\n        <Topbar name=\"Notice\" showBack={true} backTo={\"/BOBO/#\" + this.props.location.pathname.slice(0, this.props.location.pathname.indexOf(\"/notice\"))}/>\r\n        <Row id=\"notice-name-row\">\r\n          <Col s={12}>\r\n            {this.renderTypeBadge()}\r\n            <div style={{width:\"90%\", display:\"inline-block\"}}>\r\n              <span className={this.state.important?\"important\" : \"none\"}></span>\r\n              <span className=\"notice-name\">{this.state.name}</span>\r\n              {/* <span className=\"notice-list-item-questions\"><span>{this.props.data.questionCnt}</span></span> */}\r\n              <span className=\"notice-expire\">Expires at {this.formatDate(this.state.expireDate)}</span>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Row id=\"notice-content-row\">\r\n          <Col s={12}>\r\n            <Card className=\"white\"><p>{this.state.content}</p></Card>\r\n          </Col>\r\n          <Col s={12}>\r\n            <div>Questions</div>\r\n            {this.renderQuestions()}\r\n          </Col>\r\n          <Col s={12} id=\"new-question-row\">\r\n            <Card className=\"white\" header={<div className=\"white-text add-question-header\">Leave Question</div>}>\r\n              <Textarea\r\n                id=\"new-question-content\"\r\n                placeholder=\"What do you want to ask?\"\r\n                onChange={this.onNewQuestionChange}\r\n                value={this.state.newQuestionContent}/>\r\n              <Button className=\"CommonButton\" id=\"new-question-leave-btn\" onClick={this.onNewQuestionBtnClick}>Leave</Button>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Notice\r\n","import React, { Component } from 'react';\r\nimport Topbar from '../Topbar';\r\nimport {TextInput, Row, Col, Textarea, Checkbox, RadioGroup, DatePicker, Button} from 'react-materialize';\r\nimport \"../../css/Notices/AddNotice.css\";\r\nimport {Redirect} from 'react-router';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB} from '../../config/fire';\r\n\r\nexport class AddNotice extends Component {\r\n  state = {\r\n    CurrentUser: {\r\n      id: 1,\r\n    },\r\n    important: false,\r\n    persistent: false,\r\n    type: \"homework\",\r\n    redirect: false,\r\n    redirectTo: \"\",\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    fire();\r\n  }\r\n\r\n  getBoardId = () => {\r\n    return this.props.match.params.id;\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(this.props);\r\n    getFireDB().then(_res => {\r\n      let DB = _res.val();\r\n      console.log(DB);\r\n      var nextNoticeId = 0;\r\n      for(var key in DB.Notice) {\r\n        var noticeId = DB.Notice[key].id;\r\n        if(noticeId > nextNoticeId)\r\n          nextNoticeId = noticeId;\r\n      }\r\n      nextNoticeId++;\r\n      this.nextNoticeId = nextNoticeId;\r\n    });\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({...this.state, [e.target.id]:e.target.value});\r\n  }\r\n\r\n  onImportantChange = (e) => {\r\n    this.setState({...this.state, important: !this.state.important});\r\n  }\r\n\r\n  onPersistentChange = (e) => {\r\n    this.setState({...this.state, persistent: !this.state.persistent});\r\n  }\r\n\r\n  onExpireDateChange = (e) => {\r\n    this.setState({...this.state, expireDate: e});\r\n  }\r\n\r\n  onTypeChange = (e) => {\r\n    this.setState({...this.state, type: e.target.value});\r\n  }\r\n\r\n  onNoticeAdd = () => {\r\n    console.log(this.state);\r\n    var obj = {...this.state};\r\n    obj.id = this.nextNoticeId;\r\n    obj.userId = this.state.CurrentUser.id;\r\n    obj.expireDate = obj.expireDate.getTime();\r\n    obj.createDate = new Date().getTime();\r\n    obj.boardId = this.getBoardId() * 1;\r\n    obj.name = obj.noticeName;\r\n    obj.content = obj.noticeContent;\r\n    \r\n    delete obj.redirect;\r\n    delete obj.redirectTo;\r\n    delete obj.CurrentUser;\r\n    delete obj.noticeName;\r\n    delete obj.noticeContent;\r\n\r\n    pushDB(\"Notice\", obj)\r\n    .then(_res => {\r\n      this.setState({...this.state, redirect: true, redirectTo: \"/board/\" + this.getBoardId()});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if(this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo}/>\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <Topbar name=\"Add Notice\" showBack={true} backTo={\"/BOBO/#/board/\" + this.getBoardId()}/>\r\n        <Row id=\"add-notice-name-row\">\r\n          <Col s={12}>\r\n            <TextInput s={12} id=\"noticeName\" label=\"Name\" onChange={this.onChange}/>\r\n          </Col>\r\n          <Col s={12}>\r\n            <Textarea\r\n              id=\"noticeContent\" s={12}\r\n              placeholder=\"Write some notices in here\"\r\n              onChange={this.onChange}/>\r\n          </Col>\r\n        </Row>\r\n        <Row id=\"add-notice-info-row\">\r\n          <Col s={6}>\r\n            <Checkbox value=\"important\" id=\"important\" label=\"important!\" onChange={this.onImportantChange}/>\r\n          </Col>\r\n          <Col s={6}>\r\n            <Checkbox value=\"persistent\" id=\"persistent\" label=\"persistent\" onChange={this.onPersistentChange}/>\r\n          </Col>\r\n          <Col s={12} style={{marginTop: \"10px\"}}>\r\n            <DatePicker s={12} onChange={this.onExpireDateChange} label=\"Expire Date\"/>\r\n          </Col>\r\n          <Col s={12} id=\"add-notice-type-col\">\r\n            <RadioGroup\r\n              id=\"type\"\r\n              name=\"type\"\r\n              label=\"type\"\r\n              value=\"homework\"\r\n              onChange={this.onTypeChange}\r\n              options={[{label: \"homework\", value:\"homework\"},\r\n                      {label: \"schedule\", value: \"schedule\"},\r\n                      {label: \"activity\", value: \"activity\"}]}/>\r\n          </Col>\r\n          \r\n          <Col s={12}>\r\n            <Button className=\"CommonButton\" style={{float: \"right\"}} onClick={this.onNoticeAdd}>Add</Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddNotice\r\n","import React, { Component } from 'react'\r\nimport {Row, Col} from 'react-materialize';\r\nimport '../../css/Students/Demographic.css'\r\n\r\nexport class Demographic extends Component {\r\n\r\n  render() {\r\n      return (\r\n          <div className=\"DemographicContainer\">\r\n              <Row className=\"DemographicRow\" style={{paddingTop: '15px', paddingBottom: '15px'}}>\r\n                  <Col className=\"DemographicCol\" s={5}>\r\n                      <div className=\"ProfileImage\" alt=\"logo\" style={{backgroundImage: 'url('+this.props.ImageURL+')'}}></div>\r\n                  </Col>\r\n                  <Col className=\"DemographicCol\" s={7}>\r\n                      <div className=\"ProfileTextWrapper\">\r\n                          <div className=\"ProfileText\">\r\n                              <span> Name: {this.props.Name}</span>\r\n                              <br/>\r\n                              <span>Class: {this.props.Class}</span>\r\n                              <br/>\r\n                              <span>Age: {this.props.Age}</span>\r\n                              <br/>\r\n                              <span>Tel: <u><a href={\"tel:\"+this.props.Tel}>{this.props.Tel}</a></u></span>\r\n                          </div>\r\n                      </div>\r\n                  </Col>\r\n              </Row>\r\n          </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default Demographic;","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport '../../css/Students/StudentProfile.css'\r\nimport {Redirect} from 'react-router';\r\nimport Demographic from './Demographic';\r\nimport '../../css/Common.css'\r\nimport {Button} from 'react-materialize'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../../config/fire';\r\nimport * as firebase from 'firebase'\r\nexport class StudentProfile extends Component {\r\n    state={\r\n        redirect:false,\r\n        target:\"Loading...\",\r\n        Name: \"Loading...\",\r\n        Class: \"Loading...\",\r\n        Age: \"Loading...\",\r\n        Tel: \"Loading...\",\r\n        url: \"\",\r\n        mount:true\r\n    }\r\n\r\n    constructor(props) \r\n    {\r\n      super(props);\r\n      getFireDB('/User').then(\r\n        result => {\r\n          var userList = result.val();\r\n          var args;\r\n          for(var key in userList) {\r\n            args = userList[key];\r\n            if(args['id']==this.props.match.params.student_id) {\r\n              break;\r\n            }\r\n          }\r\n          this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n          download_picture(args['picture'], this);\r\n\r\n          /*\r\n          var Storageref = firebase.storage().ref();\r\n  \r\n          var strarray = args['picture'].split('/')\r\n          //const images = Storageref.child(strarray[0])\r\n          \r\n        \r\n          firebase.storage().ref('User').child(strarray[1]).getDownloadURL().then(function(url) {\r\n              \r\n              \r\n              this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel'],url,mount:false});\r\n            \r\n\r\n        \r\n          }).catch(function(error) {\r\n            // Handle any errors\r\n            this.setState({mount:false});\r\n            \r\n            return;\r\n          });*/\r\n        }\r\n      )\r\n    }\r\n\r\n    redirectToClassRecord = () => {\r\n        this.setState({target:\"/studentProfile/classRecord/\"+this.props.match.params.instructor_id\r\n                                  + '/' +this.props.match.params.student_id,\r\n                        redirect:true});\r\n    }\r\n\r\n    redirectToInstructorsNote = () => {\r\n        this.setState({target:\"/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id\r\n                                  +'/'+this.props.match.params.student_id,\r\n                        redirect:true});\r\n    }\r\n\r\n    render() {\r\n        if(this.state.redirect)\r\n            return (<Redirect to={this.state.target}></Redirect>);\r\n        return (\r\n        <div style = {{width:\"100%\"}} className=\"content studentProfileContent\">\r\n            <Topbar name=\"Profile\" showBack={true} backTo = {\"/BOBO/#/studentList/\"+this.props.match.params.instructor_id}></Topbar>\r\n            <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n            <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n            <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n            <div className=\"ButtonContainer\">\r\n                <Button className=\"Button\" \r\n                        onClick={this.redirectToClassRecord}>\r\n                    Class Record\r\n                </Button>\r\n                <br/>\r\n                <Button className=\"Button\"\r\n                        onClick={this.redirectToInstructorsNote}>\r\n                    Instructor's Note\r\n                </Button>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default StudentProfile","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport '../../css/Students/StudentProfile.css'\r\nimport '../../css/Students/InstructorsNote.css'\r\nimport {Redirect} from 'react-router';\r\nimport Demographic from './Demographic'\r\nimport Popup from 'reactjs-popup'\r\nimport {Checkbox, Icon, Button} from 'react-materialize'\r\nimport {Link} from 'react-router-dom'\r\nimport '../../css/Common.css'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../../config/fire';\r\nimport { ENGINE_METHOD_NONE } from 'constants';\r\n\r\nclass DeletePopup extends Component {\r\n  state={\r\n    checked:false,\r\n    open:false\r\n  }\r\n\r\n  check =(event)=> {\r\n    this.setState({checked: !this.state.checked});\r\n  }\r\n\r\n  deleteNote = () => {\r\n    console.log('/Note/'+this.props.student_id+'/'+this.props.instructor_id);\r\n    deleteDB('/Note/'+this.props.student_id+'/'+this.props.instructor_id);\r\n    window.location.reload();\r\n  }\r\n\r\n  closing = () => {\r\n    this.setState({checked: false})\r\n  }\r\n\r\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{width: '80%'}} trigger={<div style={{display:\"inline-block\"}}><Icon className=\"InstructorNoteIcon\" small={true}>delete_forever</Icon></div>} \r\n                position=\"top right\" onClose={this.closing}>\r\n        { close => (\r\n          <div className=\"NoteDeleteContainer\">\r\n              <span className=\"NoteDeleteTitle\">\r\n                  Delete Note\r\n              </span>\r\n              <br/>\r\n                <Checkbox className = \"NoteDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\"/>\r\n              <span className=\"NoteDeleteWarningText\">I hereby understand that I </span>\r\n              <span className=\"NoteDeleteWarningTextImportant\">cannot recover</span>\r\n              <span className=\"NoteDeleteWarningText\"> the deleted note.</span>\r\n              <br/>\r\n              <br/>\r\n                <button className=\"close pinkcancelbutton\" onClick={close}>\r\n                    No\r\n                </button>\r\n              {this.state.checked? (\r\n                <button className=\"close pinkcancelbutton\" style={{float:\"right\"}} onClick={this.deleteNote}>\r\n                    Yes\r\n                </button>\r\n              ) : null}\r\n          </div>)\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}\r\n\r\nclass NamePopup extends Component {\r\n  \r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{width: '50%'}} \r\n              trigger={<span className=\"NoteInstructor\" style={{backgroundColor:'#fa807266'}}> {this.props.name}</span>} \r\n                position=\"top left\" onClose={this.closing}>\r\n        { close => ( \r\n            <div style={{fontWeight:'bold', lineHeight:'160%'}}>\r\n              <span>{this.props.name}</span>\r\n              <br></br>\r\n              <span>Tel: <u><a href={\"tel:\"+this.props.tel}>{this.props.tel}</a></u></span> \r\n            </div>\r\n          )\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}\r\n\r\nexport class InstructorsNote extends Component {\r\n\r\n  userList = null;\r\n\r\n  state={\r\n    loaded: false,\r\n    Notes: [],\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true\r\n  }\r\n\r\n  getUserInfo(id) {\r\n    for(var key in this.userList) {\r\n      var args = this.userList[key];\r\n      if(args['id']==id) {\r\n        return args;\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    getFireDB('/User').then(\r\n      result => {\r\n        this.userList = result.val();\r\n        var args = this.getUserInfo(this.props.match.params.student_id);\r\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n        download_picture(args['picture'], this);\r\n      }\r\n    )\r\n    this.setNotes();\r\n  }\r\n\r\n  setNotes = ()=>{\r\n    getFireDB('/Note/'+this.props.match.params.student_id).then(\r\n      result => {\r\n        let notes = [];\r\n        let notesRaw = result.val();\r\n        for(var key in notesRaw) {\r\n          notes.push({Instructor: key, Content: notesRaw[key]});\r\n        }\r\n        this.setState({Notes: notes, loaded:true});\r\n      }\r\n    )\r\n  }\r\n\r\n  renderNoteList = () => {\r\n      if(this.state.loaded==false) {\r\n        return (<div  style={{textAlign:\"center\", fontSize:\"20px\", fontWeight:\"bold\"}}>Loading...</div>)\r\n      }\r\n\r\n      var myNoteExists = false;\r\n      var i =0;\r\n      var noteList = this.state.Notes.map(_note => {\r\n        if(_note.Instructor!==this.props.match.params.instructor_id)\r\n        {\r\n            var userInfo = this.getUserInfo(_note.Instructor);\r\n            console.log(_note.Instructor);\r\n            console.log(userInfo);\r\n            return <Note instructor_id={_note.Instructor} student_id={this.props.match.params.student_id} \r\n                          instructor_name={userInfo['name']} instructor_tel={userInfo['tel']}\r\n                          content={_note.Content} key={i++}/>\r\n        }\r\n        else\r\n        {\r\n            myNoteExists = true;\r\n            var userInfo = this.getUserInfo(_note.Instructor);\r\n            return <MyNote instructor={this.props.match.params.instructor_id} instructor_name={userInfo['name']} student = {this.props.match.params.student_id} content={_note.Content} key={i++}/>\r\n        }\r\n      });\r\n\r\n      if(!myNoteExists)\r\n          noteList.push(\r\n              <div className=\"AddButtonContainer\" key = {i++}>\r\n                <Link to={\"/studentProfile/instructorsNoteAddModify/\"+this.props.match.params.instructor_id+\r\n                            '/'+this.props.match.params.student_id}>\r\n                  <Button className=\" CommonButton\">Add Note!</Button>\r\n                </Link>\r\n              </div>\r\n          );\r\n      return <div className=\"NoteContainer\">{noteList}</div>;\r\n  }\r\n\r\n  render() {\r\n      if(this.state.redirect)\r\n          return (<Redirect to={this.state.target}></Redirect>);\r\n\r\n      return (\r\n      <div style = {{width:\"100%\"}} className=\"content InstructorsNoteContent\">\r\n          <div>\r\n              <Topbar name=\"Instructor's Note\" showBack={true} backTo = {\"/BOBO/#/studentProfile/main/\"+\r\n                                this.props.match.params.instructor_id+'/'+this.props.match.params.student_id}></Topbar>\r\n          </div>\r\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n          <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n          <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n          {this.renderNoteList()}\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\nclass Note extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"Note\">\r\n                <span className=\"NoteInstructor\">{' '}</span>\r\n                <NamePopup id={this.props.instructor_id} name={this.props.instructor_name} tel={this.props.instructor_tel}></NamePopup>\r\n                <span className=\"NoteInstructor\">{'\\'s Note'}</span>\r\n                <br/>\r\n                <span className=\"NoteContent\">&nbsp;&nbsp;&nbsp;{'- '+this.props.content}</span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass MyNote extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"Note\">\r\n                    <div className=\"MyNoteButtonContainer\">\r\n                      <Link to={\"/studentProfile/instructorsNoteAddModify/\"+this.props.instructor+\r\n                              '/'+this.props.student}>\r\n                        <Icon className=\"InstructorNoteIcon\" small={true}>edit</Icon>\r\n                      </Link>\r\n                      <DeletePopup instructor_id={this.props.instructor} student_id={this.props.student}/>\r\n                    </div>\r\n                    <span className=\"NoteInstructor\">{' '+this.props.instructor_name+'\\'s Note'}</span>\r\n                    <br/>\r\n                    <div style={{marginLeft:\"20px\"}}>\r\n                      <span className=\"NoteContent\">{'- '+this.props.content} </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default InstructorsNote","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router';\r\nimport { Link } from 'react-router-dom'\r\nimport Popup from 'reactjs-popup'\r\n\r\nimport { Row, Col, Collection, CollectionItem, Button, Icon, Checkbox } from 'react-materialize';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture, getPictureURL } from '../../config/fire';\r\nimport Topbar from '../Topbar';\r\nimport Demographic from './Demographic'\r\n//import RecordListItem from './RecordListItem';\r\n\r\nimport '../../css/Students/StudentProfile.css'\r\nimport \"../../css/Students/ClassRecord.css\"\r\nimport '../../css/Common.css'\r\nimport { type } from 'os';\r\nimport { tsConstructSignatureDeclaration } from '@babel/types';\r\n\r\nexport class ClassRecord extends Component {\r\n\r\n  state = {\r\n    validRecords: [],\r\n    loaded: false,\r\n    Name: \"Loading...\",\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true,\r\n  }\r\n\r\n  \r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    getFireDB('/User').then(\r\n      result => {\r\n        var userList = result.val();\r\n        var args;\r\n        for(var key in userList) {\r\n          args = userList[key];\r\n          if(args['id']==this.props.match.params.student_id) {\r\n            break;\r\n          }\r\n        }\r\n        // console.log(args);\r\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n        download_picture(args['picture'], this);\r\n      }\r\n    )\r\n\r\n    getFireDB('Record/').then (\r\n      result => {\r\n        // console.log(\"all records: \",result.val());\r\n        let DB = result.val();\r\n        var records = [];\r\n        for( var _key in DB ) \r\n        {\r\n          var map = DB[_key];\r\n          map['key'] = _key;\r\n          records.push(map);\r\n        }\r\n        records.sort(function(_a, _b) {\r\n          return _a.date > _b.date ? 1 : -1;\r\n        });\r\n      var validRecords = records.filter(_mapElem => {\r\n        // console.log(_mapElem);\r\n        // console.log(\"id:\" , _mapElem.StudentID, this.props.match.params.student_id);\r\n        // console.log(typeof(_mapElem.StudentID), typeof(this.props.match.params.student_id))\r\n        return String(_mapElem.StudentID) === this.props.match.params.student_id; //\r\n      });\r\n\r\n        this.setState({ ...this.state, Records: result.val(), validRecords });\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  renderRecordList = () => {\r\n    console.log('valid:', this.state.validRecords)\r\n\r\n\r\n    return this.state.validRecords.map(_record => {\r\n      if (_record.InstructorID === 'teacher101') //FIXME: MyID\r\n        return <MyRecordListItem data={_record} test={this.passSetState} />\r\n      else\r\n        return <RecordListItem data={_record} test={this.passSetState} />\r\n    });\r\n  }\r\n\r\n  passSetState = () => {\r\n    console.log(\"test A\");\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo} />\r\n\r\n    return (\r\n      <div className='content class-record-content' style={{ width: \"100%\" }}>\r\n        <div>\r\n          <Topbar\r\n            name=\"Class Record\"\r\n            showBack={true}\r\n            backTo={\"/BOBO/#/studentProfile/main/\" + this.props.match.params.instructor_id+'/'+this.props.match.params.student_id}\r\n            showOptional={true}\r\n            optionalComponent={<Button\r\n              id=\"board-list-add-btn\"\r\n              node=\"a\"\r\n              floating small\r\n              waves=\"light\"\r\n              icon=\"add\"\r\n              href={\"/BOBO/#/classRecord/3?\"+this.props.match.params.student_id} />}></Topbar>\r\n        </div>\r\n\r\n        <div className=\"show-record-list-row\">\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        \r\n        <div>\r\n            <Collection >\r\n              {this.renderRecordList()}\r\n            </Collection>\r\n        </div>\r\n        </div>\r\n\r\n      </div> //end class-record-content\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass RecordListItem extends Component {\r\n  state = {\r\n    url: ''\r\n  }\r\n\r\n  renderHashtags = () => {\r\n    // console.log(\"render hasH\", this.props.data.Hashtag)\r\n    if(this.props.data.Hashtag!=null)\r\n      return this.props.data.Hashtag.map(_elem => {\r\n        return <Hashtag data={_elem} parent={this}/>\r\n      })\r\n  }\r\n\r\n  renderPictures = () => {\r\n    for(var key in this.props.data)\r\n    {\r\n      if(key == 'photos')\r\n      {\r\n      for(var _url_key in this.props.data['photos'])\r\n      {\r\n        // console.log('url:', this.props.data['photos'][_url_key])\r\n        return <img className=\"RecordImage\" src={this.props.data['photos'][_url_key]} alt=\"photo\" width='150px' height='150px' align='center'></img>\r\n      }\r\n      }\r\n    }\r\n    }\r\n\r\n  render() {\r\n    //console.log(this.props.data)\r\n    this.props.test();\r\n    return (\r\n      <CollectionItem>\r\n        <Row s={12}>\r\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\r\n          <Col s={2}></Col>\r\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\r\n        </Row>\r\n      \r\n        <Row>\r\n          <Col align='center'>\r\n            {this.renderPictures()}\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col>\r\n            {this.props.data.Text}\r\n          </Col>\r\n        </Row>\r\n        {/* Hashtags */}\r\n        <Row>\r\n          <Col>\r\n            {/* <Hashtags data={this.props.data.Hashtag} /> */}\r\n            {this.renderHashtags()}\r\n          </Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\nclass MyRecordListItem extends Component {\r\n  renderHashtags = () => {\r\n    // console.log(\"MY render hasH\", this.props.data.Hashtag)\r\n    if(this.props.data.Hashtag!=null)\r\n      return this.props.data.Hashtag.map(_elem => {\r\n        return <Hashtag data={_elem} instructor_id={this.props.data.InstructorID} student_id={this.props.data.StudentID}/>\r\n      })\r\n  }\r\n\r\n  renderPictures = () => {\r\n    for(var key in this.props.data)\r\n    {\r\n      if(key == 'photos')\r\n      {\r\n      for(var _url_key in this.props.data['photos'])\r\n      {\r\n        // console.log('url:', this.props.data['photos'][_url_key])\r\n        return <img className=\"RecordImage\" src={this.props.data['photos'][_url_key]} alt=\"photo\" width='150px' height='150px' align='center'></img>\r\n      }\r\n      }\r\n    }\r\n    }\r\n\r\n  render() {\r\n    // console.log(\"data:\", this.props.data)\r\n    //this.props.test();\r\n    return (\r\n      <CollectionItem id='class-record-item'>\r\n        <Row s={12}>\r\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\r\n          <Col s={2}></Col>\r\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            {this.props.data.Text}\r\n          </Col>\r\n        </Row>\r\n        <div align='center'>\r\n          {this.renderPictures()}\r\n        </div>\r\n        {/* Hashtags and edit/delete buttons */}\r\n        <Row s={12}>\r\n          <Col s={8}>\r\n            {/* <Hashtags data={this.props.data.Hashtag} /> */}\r\n            {this.renderHashtags()}\r\n          </Col>\r\n          {/* delete buttons */}\r\n          <Col s={4}><div align='right'>\r\n            {/* <Link to={\"/editClassRecord/\" + this.props.data.key}>\r\n              <Icon className=\"edit-record-icon\" small='true'>edit</Icon>\r\n            </Link> */}\r\n            {/* <Icon small='true'>delete</Icon> */}\r\n            <DeleteRecordPopup data={this.props.data}></DeleteRecordPopup>\r\n          </div></Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass Hashtag extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <span id='hash-span'>\r\n        {/* <option id = 'selectHash' onClick={this.onHashtagSelection}>{'#' + this.props.data + ' '}</option> */}\r\n        <Link id = 'selectHash' to={\"/studentProfile/classRecordFiltered/\" + this.props.instructor_id + '/'+this.props.student_id +'/'+this.props.data}>\r\n         {'#' + this.props.data + ' '}\r\n        </Link>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nclass DeleteRecordPopup extends Component {\r\n  state = {\r\n    checked: false,\r\n    open: false\r\n  }\r\n\r\n  check = (event) => {\r\n    this.setState({ checked: !this.state.checked });\r\n  }\r\n\r\n  deleteRecord = () => {\r\n    console.log(\"deleeeeeeete:\", this.props.data.key);\r\n    deleteDB('/Record/' + this.props.data.key);\r\n    window.location.reload();\r\n  }\r\n\r\n  closing = () => {\r\n    this.setState({ checked: false })\r\n  }\r\n\r\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{ width: '60%' }} trigger={<div style={{ display: \"inline-block\" }}><Icon className=\"InstructorNoteIcon\" small='true'>delete_forever</Icon></div>}\r\n        position=\"top right\" onClose={this.closing}>\r\n        {close => (\r\n          <div className=\"RecordDeleteContainer\">\r\n            <span className=\"RecordDeleteTitle\">\r\n              Delete Record\r\n              </span>\r\n            <br />\r\n            <Checkbox className=\"RecordDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\" />\r\n            <span className=\"RecordDeleteWarningText\">I hereby understand that I </span>\r\n            <span className=\"RecordDeleteWarningTextImportant\">cannot recover</span>\r\n            <span className=\"RecordDeleteWarningText\"> the deleted record.</span>\r\n            <br />\r\n            <br />\r\n            <button className=\"close pink-cancel-button\" onClick={close}>\r\n              No\r\n                </button>\r\n            {this.state.checked ? (\r\n              <button className=\"close pink-cancel-button\" style={{ float: \"right\" }} onClick={this.deleteRecord}>\r\n                Yes\r\n                </button>\r\n            ) : null}\r\n          </div>)\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default ClassRecord","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router';\r\nimport { Link } from 'react-router-dom'\r\nimport Popup from 'reactjs-popup'\r\n\r\nimport { Row, Col, Collection, CollectionItem, Button, Icon, Checkbox } from 'react-materialize';\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture, getPictureURL } from '../../config/fire';\r\nimport Topbar from '../Topbar';\r\nimport Demographic from './Demographic'\r\n//import RecordListItem from './RecordListItem';\r\n\r\nimport '../../css/Students/StudentProfile.css'\r\nimport \"../../css/Students/ClassRecord.css\"\r\nimport '../../css/Common.css'\r\nimport { type } from 'os';\r\nimport { tsConstructSignatureDeclaration } from '@babel/types';\r\n\r\nexport class ClassRecordFiltered extends Component {\r\n\r\n  state = {\r\n    validRecords: [],\r\n    loaded: false,\r\n    Name: \"Loading...\",\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true,\r\n  }\r\n\r\n  \r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    getFireDB('/User').then(\r\n      result => {\r\n        var userList = result.val();\r\n        var args;\r\n        for(var key in userList) {\r\n          args = userList[key];\r\n          if(args['id']==this.props.match.params.student_id) {\r\n            break;\r\n          }\r\n        }\r\n        // console.log(args);\r\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n        download_picture(args['picture'], this);\r\n      }\r\n    )\r\n\r\n    getFireDB('Record/').then (\r\n      result => {\r\n        // console.log(\"all records: \",result.val());\r\n        let DB = result.val();\r\n        var records = [];\r\n        for( var _key in DB ) \r\n        {\r\n          var map = DB[_key];\r\n          map['key'] = _key;\r\n          records.push(map);\r\n        }\r\n        records.sort(function(_a, _b) {\r\n          return _a.date > _b.date ? 1 : -1;\r\n        });\r\n      var validRecords = records.filter(_mapElem => {\r\n        // console.log(_mapElem);\r\n        // console.log(\"id:\" , _mapElem.StudentID, this.props.match.params.student_id);\r\n        // console.log(typeof(_mapElem.StudentID), typeof(this.props.match.params.student_id))\r\n        return String(_mapElem.StudentID) === this.props.match.params.student_id && _mapElem.Hashtag.indexOf(this.props.match.params.hash) != -1; //\r\n      });\r\n\r\n        this.setState({ ...this.state, Records: result.val(), validRecords });\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  renderRecordList = () => {\r\n    console.log('valid:', this.state.validRecords)\r\n\r\n\r\n    return this.state.validRecords.map(_record => {\r\n      if (_record.InstructorID === 'teacher101') //FIXME: MyID\r\n        return <MyRecordListItem data={_record} test={this.passSetState} />\r\n      else\r\n        return <RecordListItem data={_record} test={this.passSetState} />\r\n    });\r\n  }\r\n\r\n  passSetState = () => {\r\n    console.log(\"test A\");\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirect)\r\n      return <Redirect to={this.state.redirectTo} />\r\n\r\n    return (\r\n      <div className='content class-record-content' style={{ width: \"100%\" }}>\r\n        <div>\r\n          <Topbar\r\n            name=\"Class Record\"\r\n            showBack={true}\r\n            backTo={\"/BOBO/#/studentProfile/main/\" + this.props.match.params.instructor_id+'/'+this.props.match.params.student_id}\r\n            showOptional={true}\r\n            optionalComponent={<Button\r\n              id=\"board-list-add-btn\"\r\n              node=\"a\"\r\n              floating small\r\n              waves=\"light\"\r\n              icon=\"add\"\r\n              href={\"/BOBO/#/classRecord/3?\"+this.props.match.params.student_id} />}></Topbar>\r\n        </div>\r\n\r\n        <div className=\"show-record-list-row\">\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        \r\n        <div>\r\n            <Collection >\r\n              {this.renderRecordList()}\r\n            </Collection>\r\n        </div>\r\n        </div>\r\n\r\n      </div> //end class-record-content\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass RecordListItem extends Component {\r\n  state = {\r\n    url: ''\r\n  }\r\n\r\n  renderHashtags = () => {\r\n    // console.log(\"render hasH\", this.props.data.Hashtag)\r\n    if(this.props.data.Hashtag!=null)\r\n      return this.props.data.Hashtag.map(_elem => {\r\n        return <Hashtag data={_elem} parent={this}/>\r\n      })\r\n  }\r\n\r\n  renderPictures = () => {\r\n    for(var key in this.props.data)\r\n    {\r\n      if(key == 'photos')\r\n      {\r\n      for(var _url_key in this.props.data['photos'])\r\n      {\r\n        // console.log('url:', this.props.data['photos'][_url_key])\r\n        return <img className=\"RecordImage\" src={this.props.data['photos'][_url_key]} alt=\"photo\" width='150px' height='150px' align='center'></img>\r\n      }\r\n      }\r\n    }\r\n    }\r\n\r\n  render() {\r\n    //console.log(this.props.data)\r\n    this.props.test();\r\n    return (\r\n      <CollectionItem>\r\n        <Row s={12}>\r\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\r\n          <Col s={2}></Col>\r\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\r\n        </Row>\r\n      \r\n        <Row>\r\n          <Col align='center'>\r\n            {this.renderPictures()}\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col>\r\n            {this.props.data.Text}\r\n          </Col>\r\n        </Row>\r\n        {/* Hashtags */}\r\n        <Row>\r\n          <Col>\r\n            {/* <Hashtags data={this.props.data.Hashtag} /> */}\r\n            {this.renderHashtags()}\r\n          </Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\nclass MyRecordListItem extends Component {\r\n  renderHashtags = () => {\r\n    // console.log(\"MY render hasH\", this.props.data.Hashtag)\r\n    if(this.props.data.Hashtag!=null)\r\n      return this.props.data.Hashtag.map(_elem => {\r\n        return <Hashtag data={_elem} instructor_id={this.props.data.InstructorID} student_id={this.props.data.StudentID}/>\r\n      })\r\n  }\r\n\r\n  renderPictures = () => {\r\n    for(var key in this.props.data)\r\n    {\r\n      if(key == 'photos')\r\n      {\r\n      for(var _url_key in this.props.data['photos'])\r\n      {\r\n        // console.log('url:', this.props.data['photos'][_url_key])\r\n        return <img className=\"RecordImage\" src={this.props.data['photos'][_url_key]} alt=\"photo\" width='150px' height='150px' align='center'></img>\r\n      }\r\n      }\r\n    }\r\n    }\r\n\r\n  render() {\r\n    // console.log(\"data:\", this.props.data)\r\n    //this.props.test();\r\n    return (\r\n      <CollectionItem id='class-record-item'>\r\n        <Row s={12}>\r\n          <Col s={4} style={{ color: '#ad1457'/*pink darken-3*/ }}>{this.props.data.Date}</Col>\r\n          <Col s={2}></Col>\r\n          <Col s={6} className='who-wrote-col'>{\"wrote by: \" + this.props.data.InstructorID}</Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            {this.props.data.Text}\r\n          </Col>\r\n        </Row>\r\n        <div align='center'>\r\n          {this.renderPictures()}\r\n        </div>\r\n        {/* Hashtags and edit/delete buttons */}\r\n        <Row s={12}>\r\n          <Col s={8}>\r\n            {/* <Hashtags data={this.props.data.Hashtag} /> */}\r\n            {this.renderHashtags()}\r\n          </Col>\r\n          {/* delete buttons */}\r\n          <Col s={4}><div align='right'>\r\n            {/* <Link to={\"/editClassRecord/\" + this.props.data.key}>\r\n              <Icon className=\"edit-record-icon\" small='true'>edit</Icon>\r\n            </Link> */}\r\n            {/* <Icon small='true'>delete</Icon> */}\r\n            <DeleteRecordPopup data={this.props.data}></DeleteRecordPopup>\r\n          </div></Col>\r\n        </Row>\r\n      </CollectionItem>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass Hashtag extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <span id='hash-span'>\r\n        {/* <option id = 'selectHash' onClick={this.onHashtagSelection}>{'#' + this.props.data + ' '}</option> */}\r\n        <Link id = 'selectHash' to={\"/studentProfile/classRecordFiltered/\" + this.props.instructor_id + '/'+this.props.student_id +'/'+this.props.data}>\r\n         {'#' + this.props.data + ' '}\r\n        </Link>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nclass DeleteRecordPopup extends Component {\r\n  state = {\r\n    checked: false,\r\n    open: false\r\n  }\r\n\r\n  check = (event) => {\r\n    this.setState({ checked: !this.state.checked });\r\n  }\r\n\r\n  deleteRecord = () => {\r\n    console.log(\"deleeeeeeete:\", this.props.data.key);\r\n    deleteDB('/Record/' + this.props.data.key);\r\n    window.location.reload();\r\n  }\r\n\r\n  closing = () => {\r\n    this.setState({ checked: false })\r\n  }\r\n\r\n  /*<Icon className=\"menu-icon\" medium='true'>delete_forever</Icon>*/\r\n  render() {\r\n    return (\r\n      <Popup contentStyle={{ width: '60%' }} trigger={<div style={{ display: \"inline-block\" }}><Icon className=\"InstructorNoteIcon\" small='true'>delete_forever</Icon></div>}\r\n        position=\"top right\" onClose={this.closing}>\r\n        {close => (\r\n          <div className=\"RecordDeleteContainer\">\r\n            <span className=\"RecordDeleteTitle\">\r\n              Delete Record\r\n              </span>\r\n            <br />\r\n            <Checkbox className=\"RecordDeleteCheckbox\" onChange={this.check} label=\"\" value=\"\" />\r\n            <span className=\"RecordDeleteWarningText\">I hereby understand that I </span>\r\n            <span className=\"RecordDeleteWarningTextImportant\">cannot recover</span>\r\n            <span className=\"RecordDeleteWarningText\"> the deleted record.</span>\r\n            <br />\r\n            <br />\r\n            <button className=\"close pink-cancel-button\" onClick={close}>\r\n              No\r\n                </button>\r\n            {this.state.checked ? (\r\n              <button className=\"close pink-cancel-button\" style={{ float: \"right\" }} onClick={this.deleteRecord}>\r\n                Yes\r\n                </button>\r\n            ) : null}\r\n          </div>)\r\n        }\r\n      </Popup>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default ClassRecordFiltered","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport '../../css/Students/StudentProfile.css'\r\nimport '../../css/Students/InstructorsNote.css'\r\nimport {Redirect} from 'react-router'; \r\nimport Demographic from './Demographic'\r\nimport {Textarea} from 'react-materialize';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from 'react-materialize'\r\nimport '../../css/Common.css'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, updateChild, download_picture} from '../../config/fire';\r\n\r\nexport class EditClassRecord extends Component {\r\n\r\n  state = {\r\n    textcontent : \"\",\r\n    loaded: false,\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true\r\n}\r\n\r\nconstructor(props) \r\n{\r\n  super(props);\r\n  getFireDB('/User').then(\r\n    result => {\r\n      var userList = result.val();\r\n      var args;\r\n      for(var key in userList) {\r\n        args = userList[key];\r\n        if(args['id']==this.props.match.params.student_id) {\r\n          break;\r\n        }\r\n      }\r\n      this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n      download_picture(args['picture'], this);\r\n    }\r\n  )\r\n  getFireDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id).then(\r\n    result => {\r\n      this.setState({textcontent: result.val(), loaded: true})\r\n    }\r\n  )\r\n}\r\n\r\n  handlecontentChange = e=> {\r\n    this.setState({textcontent: e.target.value});\r\n  }\r\n\r\n  confirm = ()=> {\r\n    if(this.state.textcontent.length!=0)\r\n    {\r\n      updateChild('/Note/'+this.props.match.params.student_id, this.props.match.params.instructor_id, this.state.textcontent);\r\n      return;\r\n    }\r\n    else\r\n    {\r\n      deleteDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <div style = {{width:\"100%\"}} className=\"content InstructorsNoteContent\">\r\n        <div>\r\n            <Topbar name=\"Instructor's Note\" showBack={true} \r\n                  backTo = {\"/BOBO/#/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\r\n                                this.props.match.params.student_id}></Topbar>\r\n        </div>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        {this.state.loaded?\r\n        <div className=\"NoteContainer\">\r\n          <div style={{width: \"100%\", display: \"table\", textAlign:\"center\"}}>\r\n            <Textarea placeholder=\"Write note on this student\" style={{width: \"90%\", display: \"table-cell\"}}\r\n              onChange={this.handlecontentChange} value={this.state.textcontent} />\r\n          </div>\r\n          <Link to={\"/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\r\n                      this.props.match.params.student_id}>\r\n            <Button className=\"CommonButton\" style={{marginLeft: \"20px\"}} >\r\n              Cancel\r\n            </Button>\r\n            <Button className=\"CommonButton\" style={{marginRight: \"20px\", float:\"right\"}} onClick={this.confirm}>\r\n              Confirm\r\n            </Button>\r\n          </Link>\r\n        </div> : (<div  style={{textAlign:\"center\", fontSize:\"20px\", fontWeight:\"bold\"}}>Loading...</div>)\r\n        }\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditClassRecord","import React, { Component } from 'react'\r\nimport Topbar from '../Topbar';\r\nimport '../../css/Students/StudentProfile.css'\r\nimport '../../css/Students/InstructorsNote.css'\r\nimport {Redirect} from 'react-router';\r\nimport Demographic from './Demographic'\r\nimport {Textarea} from 'react-materialize';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from 'react-materialize'\r\nimport '../../css/Common.css'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, updateChild, download_picture} from '../../config/fire';\r\n\r\nexport class InstructorsNoteAddModify extends Component {\r\n\r\n  state = {\r\n    textcontent : \"\",\r\n    loaded: false,\r\n    Class: \"Loading...\",\r\n    Age: \"Loading...\",\r\n    Tel: \"Loading...\",\r\n    url: \"\",\r\n    mount:true\r\n  }\r\n\r\n\r\n  constructor(props) \r\n  {\r\n    super(props);\r\n    getFireDB('/User').then(\r\n      result => {\r\n        var userList = result.val();\r\n        var args;\r\n        for(var key in userList) {\r\n          args = userList[key];\r\n          if(args['id']==this.props.match.params.student_id) {\r\n            break;\r\n          }\r\n        }\r\n        console.log(args);\r\n        this.setState({...this.state, Name:args['name'], Class:args['class'], Age:args['age'], Tel: args['tel']});\r\n        download_picture(args['picture'], this);\r\n      }\r\n    )\r\n    getFireDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id).then(\r\n      result => {\r\n        console.log(result.val());\r\n        this.setState({textcontent: result.val(), loaded: true})\r\n      }\r\n    )\r\n  }\r\n\r\n  handlecontentChange = e=> {\r\n    this.setState({textcontent: e.target.value});\r\n  }\r\n\r\n  confirm = ()=> {\r\n    if(this.state.textcontent == null || this.state.textcontent.length!=0)\r\n    {\r\n      updateChild('/Note/'+this.props.match.params.student_id, this.props.match.params.instructor_id, this.state.textcontent);\r\n      return;\r\n    }\r\n    else\r\n    {\r\n      deleteDB('/Note/'+this.props.match.params.student_id+'/'+this.props.match.params.instructor_id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <div style = {{width:\"100%\"}} className=\"content InstructorsNoteContent\">\r\n        <div>\r\n            <Topbar name=\"Instructor's Note\" showBack={true} \r\n                  backTo = {\"/BOBO/#/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\r\n                                this.props.match.params.student_id}></Topbar>\r\n        </div>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        <Demographic Name={this.state.Name} Age={this.state.Age} Tel={this.state.Tel} Class={this.state.Class} ImageURL={this.state.url}/>\r\n        <hr style = {{width: \"100%\", border:'none', backgroundColor:'darkgray', height:'2px'}}/>\r\n        {this.state.loaded?\r\n        <div className=\"NoteContainer\">\r\n          <div style={{width: \"100%\", display: \"table\", textAlign:\"center\"}}>\r\n            <Textarea placeholder=\"Write note on this student\" style={{width: \"90%\", display: \"table-cell\"}}\r\n              onChange={this.handlecontentChange} value={this.state.textcontent} />\r\n          </div>\r\n          <Link to={\"/studentProfile/instructorsNote/\"+this.props.match.params.instructor_id+\"/\"+\r\n                      this.props.match.params.student_id}>\r\n            <Button className=\"CommonButton\" style={{marginLeft: \"20px\"}} >\r\n              Cancel\r\n            </Button>\r\n            <Button className=\"CommonButton\" style={{marginRight: \"20px\", float:\"right\"}} onClick={this.confirm}>\r\n              Confirm\r\n            </Button>\r\n          </Link>\r\n        </div> : (<div  style={{textAlign:\"center\", fontSize:\"20px\", fontWeight:\"bold\"}}>Loading...</div>)\r\n        }\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InstructorsNoteAddModify","import React, { Component } from 'react'\r\nimport { fire, getFireDB, pushMultipleDB, pushDB, setDB, deleteDB, download_picture} from '../config/fire.js';\r\nimport {Redirect} from 'react-router';\r\nimport {Button} from 'react-materialize'\r\nimport photo from './BOBO_logo.jpeg'\r\n\r\nimport \"../css/login.css\"\r\n\r\n\r\nexport class LogIn extends Component {\r\n  state={\r\n      redirect:false,\r\n      target:\"Loading...\",\r\n      url: \"\",\r\n      mount:true\r\n  }\r\n\r\n  constructor(props) \r\n  {\r\n    super(props);\r\n  }\r\n\r\n  loginSuccess = () => {\r\n      this.setState({target:\"/studentList/3\",\r\n                      redirect:true});\r\n  }\r\n\r\n  render() {\r\n      if(this.state.redirect)\r\n          return (<Redirect to={this.state.target}></Redirect>);\r\n      return (\r\n        <div>\r\n          <div align='center'>\r\n            <img id=\"logo-image\" src={photo} alt=\"photo\" width='150px' height='150px'></img>\r\n          </div>\r\n          <div align='center'>\r\n            <Button id='login-button' onClick={this.loginSuccess} >LogIn!</Button>\r\n          </div>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\n\r\nexport default LogIn","import React from 'react';\r\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport \"materialize-css/dist/css/materialize.css\"\r\nimport \"materialize-css/dist/js/materialize.min.js\"\r\n\r\nimport '../css/App.css'\r\n\r\nimport Menu from './Menu';\r\nimport StudentList from \"./Students/StudentList\";\r\nimport UploadClassRecord from \"./UploadClassRecord/ClassRecord\";\r\nimport NoticeBoard from \"./Notices/BoardList\";\r\nimport Settings from \"./Settings/Settings\";\r\nimport Board from './Notices/Board';\r\nimport AddBoard from \"./Notices/AddBoard\";\r\nimport Notice from './Notices/Notice';\r\nimport AddNotice from './Notices/AddNotice';\r\nimport StudentProfile from \"./Students/StudentProfile\";\r\nimport InstructorsNote from \"./Students/InstructorsNote\";\r\nimport ClassRecord from \"./Students/ClassRecord\";\r\nimport ClassRecordFiltered from \"./Students/CLassRecordFiltered\";\r\nimport EditClassRecord from \"./Students/EditClassRecord\";\r\nimport InstructorsNoteAddModify from './Students/InstructorsNoteAddModify';\r\nimport LogIn from './LogIn';\r\n\r\nimport { fire} from '../config/fire';\r\nfunction App() {\r\n  fire();\r\n  return (\r\n    <Router>\r\n      <div className=\"container\">\r\n        <Route path=\"/studentList/:instructor_id\" component={StudentList}/>\r\n        <Route path=\"/studentProfile/main/:instructor_id/:student_id\" component={StudentProfile}/>\r\n        <Route path=\"/studentProfile/instructorsNote/:instructor_id/:student_id\" component={InstructorsNote}/>\r\n        <Route path=\"/studentProfile/instructorsNoteAddModify/:instructor_id/:student_id\" component={InstructorsNoteAddModify}/>\r\n        <Route path=\"/studentProfile/classRecord/:instructor_id/:student_id\" component={ClassRecord}/>\r\n        <Route path=\"/studentProfile/classRecordFiltered/:instructor_id/:student_id/:hash\" component={ClassRecordFiltered}/>\r\n        <Route path=\"/studentProfile/editClassRecord/:key\" component={EditClassRecord}/>\r\n        <Route path=\"/classRecord/:instructor_id\" component={UploadClassRecord}/>\r\n        <Route exact path=\"/addBoard\" component={AddBoard}/>\r\n        <Route exact path=\"/board\" component={NoticeBoard}/>\r\n        <Route exact path=\"/board/:id/addNotice\" component={AddNotice}/>\r\n        <Route exact path=\"/board/:id\" component={Board}/>\r\n        <Route exact path=\"/board/:id/notice/:id\" component={Notice}/>\r\n        <Route exact path=\"/settings\" component={Settings}/>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={LogIn}/>\r\n          <Route exact path=\"*\" component={Menu}/>\r\n        </Switch>   \r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}